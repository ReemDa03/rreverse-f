(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function jP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mm={exports:{}},Jl={},gm={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function MP(){if(W_)return Je;W_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function I(z,Z,me){this.props=z,this.context=Z,this.refs=R,this.updater=me||T}I.prototype.isReactComponent={},I.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=I.prototype;function b(z,Z,me){this.props=z,this.context=Z,this.refs=R,this.updater=me||T}var k=b.prototype=new V;k.constructor=b,S(k,I.prototype),k.isPureReactComponent=!0;var M=Array.isArray,F=Object.prototype.hasOwnProperty,K={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(z,Z,me){var xe,Oe={},ze=null,et=null;if(Z!=null)for(xe in Z.ref!==void 0&&(et=Z.ref),Z.key!==void 0&&(ze=""+Z.key),Z)F.call(Z,xe)&&!D.hasOwnProperty(xe)&&(Oe[xe]=Z[xe]);var Ye=arguments.length-2;if(Ye===1)Oe.children=me;else if(1<Ye){for(var lt=Array(Ye),_t=0;_t<Ye;_t++)lt[_t]=arguments[_t+2];Oe.children=lt}if(z&&z.defaultProps)for(xe in Ye=z.defaultProps,Ye)Oe[xe]===void 0&&(Oe[xe]=Ye[xe]);return{$$typeof:t,type:z,key:ze,ref:et,props:Oe,_owner:K.current}}function N(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function $(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return Z[me]})}var U=/\/+/g;function L(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?$(""+z.key):Z.toString(36)}function ye(z,Z,me,xe,Oe){var ze=typeof z;(ze==="undefined"||ze==="boolean")&&(z=null);var et=!1;if(z===null)et=!0;else switch(ze){case"string":case"number":et=!0;break;case"object":switch(z.$$typeof){case t:case e:et=!0}}if(et)return et=z,Oe=Oe(et),z=xe===""?"."+L(et,0):xe,M(Oe)?(me="",z!=null&&(me=z.replace(U,"$&/")+"/"),ye(Oe,Z,me,"",function(_t){return _t})):Oe!=null&&(j(Oe)&&(Oe=N(Oe,me+(!Oe.key||et&&et.key===Oe.key?"":(""+Oe.key).replace(U,"$&/")+"/")+z)),Z.push(Oe)),1;if(et=0,xe=xe===""?".":xe+":",M(z))for(var Ye=0;Ye<z.length;Ye++){ze=z[Ye];var lt=xe+L(ze,Ye);et+=ye(ze,Z,me,lt,Oe)}else if(lt=_(z),typeof lt=="function")for(z=lt.call(z),Ye=0;!(ze=z.next()).done;)ze=ze.value,lt=xe+L(ze,Ye++),et+=ye(ze,Z,me,lt,Oe);else if(ze==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return et}function Ne(z,Z,me){if(z==null)return z;var xe=[],Oe=0;return ye(z,xe,"","",function(ze){return Z.call(me,ze,Oe++)}),xe}function _e(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var we={current:null},Y={transition:null},le={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Y,ReactCurrentOwner:K};function re(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:Ne,forEach:function(z,Z,me){Ne(z,function(){Z.apply(this,arguments)},me)},count:function(z){var Z=0;return Ne(z,function(){Z++}),Z},toArray:function(z){return Ne(z,function(Z){return Z})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Je.Component=I,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=b,Je.StrictMode=r,Je.Suspense=d,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Je.act=re,Je.cloneElement=function(z,Z,me){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var xe=S({},z.props),Oe=z.key,ze=z.ref,et=z._owner;if(Z!=null){if(Z.ref!==void 0&&(ze=Z.ref,et=K.current),Z.key!==void 0&&(Oe=""+Z.key),z.type&&z.type.defaultProps)var Ye=z.type.defaultProps;for(lt in Z)F.call(Z,lt)&&!D.hasOwnProperty(lt)&&(xe[lt]=Z[lt]===void 0&&Ye!==void 0?Ye[lt]:Z[lt])}var lt=arguments.length-2;if(lt===1)xe.children=me;else if(1<lt){Ye=Array(lt);for(var _t=0;_t<lt;_t++)Ye[_t]=arguments[_t+2];xe.children=Ye}return{$$typeof:t,type:z.type,key:Oe,ref:ze,props:xe,_owner:et}},Je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Je.createElement=C,Je.createFactory=function(z){var Z=C.bind(null,z);return Z.type=z,Z},Je.createRef=function(){return{current:null}},Je.forwardRef=function(z){return{$$typeof:u,render:z}},Je.isValidElement=j,Je.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:_e}},Je.memo=function(z,Z){return{$$typeof:h,type:z,compare:Z===void 0?null:Z}},Je.startTransition=function(z){var Z=Y.transition;Y.transition={};try{z()}finally{Y.transition=Z}},Je.unstable_act=re,Je.useCallback=function(z,Z){return we.current.useCallback(z,Z)},Je.useContext=function(z){return we.current.useContext(z)},Je.useDebugValue=function(){},Je.useDeferredValue=function(z){return we.current.useDeferredValue(z)},Je.useEffect=function(z,Z){return we.current.useEffect(z,Z)},Je.useId=function(){return we.current.useId()},Je.useImperativeHandle=function(z,Z,me){return we.current.useImperativeHandle(z,Z,me)},Je.useInsertionEffect=function(z,Z){return we.current.useInsertionEffect(z,Z)},Je.useLayoutEffect=function(z,Z){return we.current.useLayoutEffect(z,Z)},Je.useMemo=function(z,Z){return we.current.useMemo(z,Z)},Je.useReducer=function(z,Z,me){return we.current.useReducer(z,Z,me)},Je.useRef=function(z){return we.current.useRef(z)},Je.useState=function(z){return we.current.useState(z)},Je.useSyncExternalStore=function(z,Z,me){return we.current.useSyncExternalStore(z,Z,me)},Je.useTransition=function(){return we.current.useTransition()},Je.version="18.3.1",Je}var K_;function Wh(){return K_||(K_=1,gm.exports=MP()),gm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function FP(){if(G_)return Jl;G_=1;var t=Wh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return Jl.Fragment=n,Jl.jsx=l,Jl.jsxs=l,Jl}var Q_;function UP(){return Q_||(Q_=1,mm.exports=FP()),mm.exports}var v=UP(),Pd={},ym={exports:{}},$n={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function BP(){return Y_||(Y_=1,function(t){function e(Y,le){var re=Y.length;Y.push(le);e:for(;0<re;){var z=re-1>>>1,Z=Y[z];if(0<i(Z,le))Y[z]=le,Y[re]=Z,re=z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],re=Y.pop();if(re!==le){Y[0]=re;e:for(var z=0,Z=Y.length,me=Z>>>1;z<me;){var xe=2*(z+1)-1,Oe=Y[xe],ze=xe+1,et=Y[ze];if(0>i(Oe,re))ze<Z&&0>i(et,Oe)?(Y[z]=et,Y[ze]=re,z=ze):(Y[z]=Oe,Y[xe]=re,z=xe);else if(ze<Z&&0>i(et,re))Y[z]=et,Y[ze]=re,z=ze;else break e}}return le}function i(Y,le){var re=Y.sortIndex-le.sortIndex;return re!==0?re:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,S=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Y){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=Y)r(h),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(h)}}function M(Y){if(R=!1,k(Y),!S)if(n(d)!==null)S=!0,_e(F);else{var le=n(h);le!==null&&we(M,le.startTime-Y)}}function F(Y,le){S=!1,R&&(R=!1,V(C),C=-1),T=!0;var re=_;try{for(k(le),g=n(d);g!==null&&(!(g.expirationTime>le)||Y&&!$());){var z=g.callback;if(typeof z=="function"){g.callback=null,_=g.priorityLevel;var Z=z(g.expirationTime<=le);le=t.unstable_now(),typeof Z=="function"?g.callback=Z:g===n(d)&&r(d),k(le)}else r(d);g=n(d)}if(g!==null)var me=!0;else{var xe=n(h);xe!==null&&we(M,xe.startTime-le),me=!1}return me}finally{g=null,_=re,T=!1}}var K=!1,D=null,C=-1,N=5,j=-1;function $(){return!(t.unstable_now()-j<N)}function U(){if(D!==null){var Y=t.unstable_now();j=Y;var le=!0;try{le=D(!0,Y)}finally{le?L():(K=!1,D=null)}}else K=!1}var L;if(typeof b=="function")L=function(){b(U)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ne=ye.port2;ye.port1.onmessage=U,L=function(){Ne.postMessage(null)}}else L=function(){I(U,0)};function _e(Y){D=Y,K||(K=!0,L())}function we(Y,le){C=I(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,_e(F))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var re=_;_=le;try{return Y()}finally{_=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=_;_=Y;try{return le()}finally{_=re}},t.unstable_scheduleCallback=function(Y,le,re){var z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,Y={id:m++,callback:le,priorityLevel:Y,startTime:re,expirationTime:Z,sortIndex:-1},re>z?(Y.sortIndex=re,e(h,Y),n(d)===null&&Y===n(h)&&(R?(V(C),C=-1):R=!0,we(M,re-z))):(Y.sortIndex=Z,e(d,Y),S||T||(S=!0,_e(F))),Y},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(Y){var le=_;return function(){var re=_;_=le;try{return Y.apply(this,arguments)}finally{_=re}}}}(_m)),_m}var X_;function $P(){return X_||(X_=1,vm.exports=BP()),vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function zP(){if(J_)return $n;J_=1;var t=Wh(),e=$P();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(s){return d.call(g,s)?!0:d.call(m,s)?!1:h.test(s)?g[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(s,a,c,p,y,E,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=P}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new R(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function b(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,b);I[a]=new R(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,b);I[a]=new R(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,b);I[a]=new R(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,a,c,p){var y=I.hasOwnProperty(a)?I[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),$=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),Y=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,z;function Z(s){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var me=!1;function xe(s,a){if(!s||me)return"";me=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var p=J}Reflect.construct(s,[],a)}else{try{a.call()}catch(J){p=J}s.call(a.prototype)}else{try{throw Error()}catch(J){p=J}s()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var y=J.stack.split(`
`),E=p.stack.split(`
`),P=y.length-1,B=E.length-1;1<=P&&0<=B&&y[P]!==E[B];)B--;for(;1<=P&&0<=B;P--,B--)if(y[P]!==E[B]){if(P!==1||B!==1)do if(P--,B--,0>B||y[P]!==E[B]){var H=`
`+y[P].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=P&&0<=B);break}}}finally{me=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Oe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function ze(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case K:return"Portal";case N:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case ye:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ne:return a=s.displayName||null,a!==null?a:ze(s.type)||"Memo";case _e:a=s._payload,s=s._init;try{return ze(s(a))}catch{}}return null}function et(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function lt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function _t(s){var a=lt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,E.call(this,P)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function wt(s){s._valueTracker||(s._valueTracker=_t(s))}function Kt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=lt(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gi(s,a){var c=a.checked;return re({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function yi(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Ye(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Wi(s,a){a=a.checked,a!=null&&k(s,"checked",a,!1)}function Gs(s,a){Wi(s,a);var c=Ye(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ki(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ki(s,a.type,Ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function vi(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ki(s,a,c){(a!=="number"||kt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var or=Array.isArray;function Gn(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Ye(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function Kr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Gr(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(or(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Ye(c)}}function Gi(s,a){var c=Ye(a.value),p=Ye(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function ce(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function W(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?W(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var he,He=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(he=he||document.createElement("div"),he.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=he.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Be(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ne=["Webkit","ms","Moz","O"];Object.keys(Ze).forEach(function(s){ne.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ze[a]=Ze[s]})});function ie(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ze.hasOwnProperty(s)&&Ze[s]?(""+a).trim():a+"px"}function Ce(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=ie(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var Se=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(s,a){if(a){if(Se[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ke(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ht=null;function mt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ct=null,gt=null,ft=null;function Nt(s){if(s=jl(s)){if(typeof ct!="function")throw Error(n(280));var a=s.stateNode;a&&(a=zu(a),ct(s.stateNode,s.type,a))}}function ln(s){gt?ft?ft.push(s):ft=[s]:gt=s}function Qn(){if(gt){var s=gt,a=ft;if(ft=gt=null,Nt(s),a)for(s=0;s<a.length;s++)Nt(a[s])}}function ar(s,a){return s(a)}function Qi(){}var lr=!1;function gl(s,a,c){if(lr)return s(a,c);lr=!0;try{return ar(s,a,c)}finally{lr=!1,(gt!==null||ft!==null)&&(Qi(),Qn())}}function Mt(s,a){var c=s.stateNode;if(c===null)return null;var p=zu(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var $o=!1;if(u)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{$o=!1}function Qs(s,a,c,p,y,E,P,B,H){var J=Array.prototype.slice.call(arguments,3);try{a.apply(c,J)}catch(de){this.onError(de)}}var Ys=!1,zo=null,Sr=!1,yl=null,zf={onError:function(s){Ys=!0,zo=s}};function Ho(s,a,c,p,y,E,P,B,H){Ys=!1,zo=null,Qs.apply(zf,arguments)}function pu(s,a,c,p,y,E,P,B,H){if(Ho.apply(this,arguments),Ys){if(Ys){var J=zo;Ys=!1,zo=null}else throw Error(n(198));Sr||(Sr=!0,yl=J)}}function xr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Xs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function br(s){if(xr(s)!==s)throw Error(n(188))}function mu(s){var a=s.alternate;if(!a){if(a=xr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var E=y.alternate;if(E===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===c)return br(y),s;if(E===p)return br(y),a;E=E.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=E;else{for(var P=!1,B=y.child;B;){if(B===c){P=!0,c=y,p=E;break}if(B===p){P=!0,p=y,c=E;break}B=B.sibling}if(!P){for(B=E.child;B;){if(B===c){P=!0,c=E,p=y;break}if(B===p){P=!0,p=E,c=y;break}B=B.sibling}if(!P)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function vl(s){return s=mu(s),s!==null?qo(s):null}function qo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=qo(s);if(a!==null)return a;s=s.sibling}return null}var Wo=e.unstable_scheduleCallback,_l=e.unstable_cancelCallback,gu=e.unstable_shouldYield,Hf=e.unstable_requestPaint,Tt=e.unstable_now,yu=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Yi=e.unstable_UserBlockingPriority,cr=e.unstable_NormalPriority,wl=e.unstable_LowPriority,vu=e.unstable_IdlePriority,Zs=null,Yn=null;function _u(s){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Eu,El=Math.log,wu=Math.LN2;function Eu(s){return s>>>=0,s===0?32:31-(El(s)/wu|0)|0}var Ko=64,Go=4194304;function Xi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function eo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,E=s.pingedLanes,P=c&268435455;if(P!==0){var B=P&~y;B!==0?p=Xi(B):(E&=P,E!==0&&(p=Xi(E)))}else P=c&~y,P!==0?p=Xi(P):E!==0&&(p=Xi(E));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Pn(a),y=1<<c,p|=s[c],a&=~y;return p}function qf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,E=s.pendingLanes;0<E;){var P=31-Pn(E),B=1<<P,H=y[P];H===-1?((B&c)===0||(B&p)!==0)&&(y[P]=qf(B,a)):H<=a&&(s.expiredLanes|=B),E&=~B}}function Xn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function to(){var s=Ko;return Ko<<=1,(Ko&4194240)===0&&(Ko=64),s}function Ji(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Zi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Pn(a),s[a]=c}function Et(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Pn(c),E=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~E}}function es(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Pn(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var rt=0;function ts(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Tu,Qo,Su,xu,bu,Tl=!1,Qr=[],cn=null,Ir=null,Cr=null,ns=new Map,ur=new Map,Yr=[],Wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(s,a){switch(s){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ns.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(a.pointerId)}}function Ln(s,a,c,p,y,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[y]},a!==null&&(a=jl(a),a!==null&&Qo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Kf(s,a,c,p,y){switch(a){case"focusin":return cn=Ln(cn,s,a,c,p,y),!0;case"dragenter":return Ir=Ln(Ir,s,a,c,p,y),!0;case"mouseover":return Cr=Ln(Cr,s,a,c,p,y),!0;case"pointerover":var E=y.pointerId;return ns.set(E,Ln(ns.get(E)||null,s,a,c,p,y)),!0;case"gotpointercapture":return E=y.pointerId,ur.set(E,Ln(ur.get(E)||null,s,a,c,p,y)),!0}return!1}function Cu(s){var a=oo(s.target);if(a!==null){var c=xr(a);if(c!==null){if(a=c.tag,a===13){if(a=Xs(c),a!==null){s.blockedOn=a,bu(s.priority,function(){Su(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Yo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);ht=p,c.target.dispatchEvent(p),ht=null}else return a=jl(c),a!==null&&Qo(a),s.blockedOn=c,!1;a.shift()}return!0}function no(s,a,c){wi(s)&&c.delete(a)}function Pu(){Tl=!1,cn!==null&&wi(cn)&&(cn=null),Ir!==null&&wi(Ir)&&(Ir=null),Cr!==null&&wi(Cr)&&(Cr=null),ns.forEach(no),ur.forEach(no)}function Pr(s,a){s.blockedOn===a&&(s.blockedOn=null,Tl||(Tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function Ar(s){function a(y){return Pr(y,s)}if(0<Qr.length){Pr(Qr[0],s);for(var c=1;c<Qr.length;c++){var p=Qr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(cn!==null&&Pr(cn,s),Ir!==null&&Pr(Ir,s),Cr!==null&&Pr(Cr,s),ns.forEach(a),ur.forEach(a),c=0;c<Yr.length;c++)p=Yr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Yr.length&&(c=Yr[0],c.blockedOn===null);)Cu(c),c.blockedOn===null&&Yr.shift()}var Ei=M.ReactCurrentBatchConfig,rs=!0;function Pt(s,a,c,p){var y=rt,E=Ei.transition;Ei.transition=null;try{rt=1,Sl(s,a,c,p)}finally{rt=y,Ei.transition=E}}function Gf(s,a,c,p){var y=rt,E=Ei.transition;Ei.transition=null;try{rt=4,Sl(s,a,c,p)}finally{rt=y,Ei.transition=E}}function Sl(s,a,c,p){if(rs){var y=Yo(s,a,c,p);if(y===null)sp(s,a,p,ro,c),Iu(s,p);else if(Kf(y,s,a,c,p))p.stopPropagation();else if(Iu(s,p),a&4&&-1<Wf.indexOf(s)){for(;y!==null;){var E=jl(y);if(E!==null&&Tu(E),E=Yo(s,a,c,p),E===null&&sp(s,a,p,ro,c),E===y)break;y=E}y!==null&&p.stopPropagation()}else sp(s,a,p,null,c)}}var ro=null;function Yo(s,a,c,p){if(ro=null,s=mt(p),s=oo(s),s!==null)if(a=xr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Xs(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ro=s,null}function xl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case Js:return 1;case Yi:return 4;case cr:case wl:return 16;case vu:return 536870912;default:return 16}default:return 16}}var Jn=null,Xo=null,Vn=null;function bl(){if(Vn)return Vn;var s,a=Xo,c=a.length,p,y="value"in Jn?Jn.value:Jn.textContent,E=y.length;for(s=0;s<c&&a[s]===y[s];s++);var P=c-s;for(p=1;p<=P&&a[c-p]===y[E-p];p++);return Vn=y.slice(s,1<p?1-p:void 0)}function Jo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Xr(){return!0}function Il(){return!1}function un(s){function a(c,p,y,E,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Xr:Il,this.isPropagationStopped=Il,this}return re(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),a}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=un(Rr),Jr=re({},Rr,{view:0,detail:0}),Qf=un(Jr),ea,Ti,is,io=re({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==is&&(is&&s.type==="mousemove"?(ea=s.screenX-is.screenX,Ti=s.screenY-is.screenY):Ti=ea=0,is=s),ea)},movementY:function(s){return"movementY"in s?s.movementY:Ti}}),ta=un(io),Cl=re({},io,{dataTransfer:0}),Au=un(Cl),na=re({},Jr,{relatedTarget:0}),ra=un(na),Ru=re({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Si=un(Ru),ku=re({},Rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Nu=un(ku),Ou=re({},Rr,{data:0}),Pl=un(Ou),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Du[s])?!!a[s]:!1}function Zr(){return Lu}var f=re({},Jr,{key:function(s){if(s.key){var a=ia[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Jo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?An[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(s){return s.type==="keypress"?Jo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=un(f),x=re({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=un(x),G=re({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),ee=un(G),ve=re({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vt=un(ve),Gt=re({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=un(Gt),tn=[9,13,27,32],$t=u&&"CompositionEvent"in window,dr=null;u&&"documentMode"in document&&(dr=document.documentMode);var Zn=u&&"TextEvent"in window&&!dr,so=u&&(!$t||dr&&8<dr&&11>=dr),sa=" ",Uv=!1;function Bv(s,a){switch(s){case"keyup":return tn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $v(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var oa=!1;function DC(s,a){switch(s){case"compositionend":return $v(a);case"keypress":return a.which!==32?null:(Uv=!0,sa);case"textInput":return s=a.data,s===sa&&Uv?null:s;default:return null}}function LC(s,a){if(oa)return s==="compositionend"||!$t&&Bv(s,a)?(s=bl(),Vn=Xo=Jn=null,oa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return so&&a.locale!=="ko"?null:a.data;default:return null}}var VC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!VC[s.type]:a==="textarea"}function Hv(s,a,c,p){ln(p),a=Uu(a,"onChange"),0<a.length&&(c=new Zo("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Al=null,Rl=null;function jC(s){l0(s,0)}function Vu(s){var a=da(s);if(Kt(a))return s}function MC(s,a){if(s==="change")return a}var qv=!1;if(u){var Yf;if(u){var Xf="oninput"in document;if(!Xf){var Wv=document.createElement("div");Wv.setAttribute("oninput","return;"),Xf=typeof Wv.oninput=="function"}Yf=Xf}else Yf=!1;qv=Yf&&(!document.documentMode||9<document.documentMode)}function Kv(){Al&&(Al.detachEvent("onpropertychange",Gv),Rl=Al=null)}function Gv(s){if(s.propertyName==="value"&&Vu(Rl)){var a=[];Hv(a,Rl,s,mt(s)),gl(jC,a)}}function FC(s,a,c){s==="focusin"?(Kv(),Al=a,Rl=c,Al.attachEvent("onpropertychange",Gv)):s==="focusout"&&Kv()}function UC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vu(Rl)}function BC(s,a){if(s==="click")return Vu(a)}function $C(s,a){if(s==="input"||s==="change")return Vu(a)}function zC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var kr=typeof Object.is=="function"?Object.is:zC;function kl(s,a){if(kr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!kr(s[y],a[y]))return!1}return!0}function Qv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Yv(s,a){var c=Qv(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Qv(c)}}function Xv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Xv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Jv(){for(var s=window,a=kt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=kt(s.document)}return a}function Jf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function HC(s){var a=Jv(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Xv(c.ownerDocument.documentElement,c)){if(p!==null&&Jf(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,E=Math.min(p.start,y);p=p.end===void 0?E:Math.min(p.end,y),!s.extend&&E>p&&(y=p,p=E,E=y),y=Yv(c,E);var P=Yv(c,p);y&&P&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),E>p?(s.addRange(a),s.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qC=u&&"documentMode"in document&&11>=document.documentMode,aa=null,Zf=null,Nl=null,ep=!1;function Zv(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ep||aa==null||aa!==kt(p)||(p=aa,"selectionStart"in p&&Jf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Nl&&kl(Nl,p)||(Nl=p,p=Uu(Zf,"onSelect"),0<p.length&&(a=new Zo("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=aa)))}function ju(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var la={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},tp={},e0={};u&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Mu(s){if(tp[s])return tp[s];if(!la[s])return s;var a=la[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in e0)return tp[s]=a[c];return s}var t0=Mu("animationend"),n0=Mu("animationiteration"),r0=Mu("animationstart"),i0=Mu("transitionend"),s0=new Map,o0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(s,a){s0.set(s,a),o(a,[s])}for(var np=0;np<o0.length;np++){var rp=o0[np],WC=rp.toLowerCase(),KC=rp[0].toUpperCase()+rp.slice(1);ss(WC,"on"+KC)}ss(t0,"onAnimationEnd"),ss(n0,"onAnimationIteration"),ss(r0,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(i0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function a0(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,pu(p,a,void 0,s),s.currentTarget=null}function l0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var P=p.length-1;0<=P;P--){var B=p[P],H=B.instance,J=B.currentTarget;if(B=B.listener,H!==E&&y.isPropagationStopped())break e;a0(y,B,J),E=H}else for(P=0;P<p.length;P++){if(B=p[P],H=B.instance,J=B.currentTarget,B=B.listener,H!==E&&y.isPropagationStopped())break e;a0(y,B,J),E=H}}}if(Sr)throw s=yl,Sr=!1,yl=null,s}function bt(s,a){var c=a[dp];c===void 0&&(c=a[dp]=new Set);var p=s+"__bubble";c.has(p)||(c0(a,s,2,!1),c.add(p))}function ip(s,a,c){var p=0;a&&(p|=4),c0(c,s,p,a)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Dl(s){if(!s[Fu]){s[Fu]=!0,r.forEach(function(c){c!=="selectionchange"&&(GC.has(c)||ip(c,!1,s),ip(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Fu]||(a[Fu]=!0,ip("selectionchange",!1,a))}}function c0(s,a,c,p){switch(xl(a)){case 1:var y=Pt;break;case 4:y=Gf;break;default:y=Sl}c=y.bind(null,a,c,s),y=void 0,!$o||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function sp(s,a,c,p,y){var E=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var B=p.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var H=P.tag;if((H===3||H===4)&&(H=P.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;P=P.return}for(;B!==null;){if(P=oo(B),P===null)return;if(H=P.tag,H===5||H===6){p=E=P;continue e}B=B.parentNode}}p=p.return}gl(function(){var J=E,de=mt(c),fe=[];e:{var ue=s0.get(s);if(ue!==void 0){var Te=Zo,Ae=s;switch(s){case"keypress":if(Jo(c)===0)break e;case"keydown":case"keyup":Te=w;break;case"focusin":Ae="focus",Te=ra;break;case"focusout":Ae="blur",Te=ra;break;case"beforeblur":case"afterblur":Te=ra;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ee;break;case t0:case n0:case r0:Te=Si;break;case i0:Te=vt;break;case"scroll":Te=Qf;break;case"wheel":Te=st;break;case"copy":case"cut":case"paste":Te=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=O}var Re=(a&4)!==0,Ft=!Re&&s==="scroll",Q=Re?ue!==null?ue+"Capture":null:ue;Re=[];for(var q=J,X;q!==null;){X=q;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,Q!==null&&(ge=Mt(q,Q),ge!=null&&Re.push(Ll(q,ge,X)))),Ft)break;q=q.return}0<Re.length&&(ue=new Te(ue,Ae,null,c,de),fe.push({event:ue,listeners:Re}))}}if((a&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",ue&&c!==ht&&(Ae=c.relatedTarget||c.fromElement)&&(oo(Ae)||Ae[xi]))break e;if((Te||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Te?(Ae=c.relatedTarget||c.toElement,Te=J,Ae=Ae?oo(Ae):null,Ae!==null&&(Ft=xr(Ae),Ae!==Ft||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Te=null,Ae=J),Te!==Ae)){if(Re=ta,ge="onMouseLeave",Q="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Re=O,ge="onPointerLeave",Q="onPointerEnter",q="pointer"),Ft=Te==null?ue:da(Te),X=Ae==null?ue:da(Ae),ue=new Re(ge,q+"leave",Te,c,de),ue.target=Ft,ue.relatedTarget=X,ge=null,oo(de)===J&&(Re=new Re(Q,q+"enter",Ae,c,de),Re.target=X,Re.relatedTarget=Ft,ge=Re),Ft=ge,Te&&Ae)t:{for(Re=Te,Q=Ae,q=0,X=Re;X;X=ca(X))q++;for(X=0,ge=Q;ge;ge=ca(ge))X++;for(;0<q-X;)Re=ca(Re),q--;for(;0<X-q;)Q=ca(Q),X--;for(;q--;){if(Re===Q||Q!==null&&Re===Q.alternate)break t;Re=ca(Re),Q=ca(Q)}Re=null}else Re=null;Te!==null&&u0(fe,ue,Te,Re,!1),Ae!==null&&Ft!==null&&u0(fe,Ft,Ae,Re,!0)}}e:{if(ue=J?da(J):window,Te=ue.nodeName&&ue.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ue.type==="file")var ke=MC;else if(zv(ue))if(qv)ke=$C;else{ke=UC;var Le=FC}else(Te=ue.nodeName)&&Te.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(ke=BC);if(ke&&(ke=ke(s,J))){Hv(fe,ke,c,de);break e}Le&&Le(s,ue,J),s==="focusout"&&(Le=ue._wrapperState)&&Le.controlled&&ue.type==="number"&&Ki(ue,"number",ue.value)}switch(Le=J?da(J):window,s){case"focusin":(zv(Le)||Le.contentEditable==="true")&&(aa=Le,Zf=J,Nl=null);break;case"focusout":Nl=Zf=aa=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,Zv(fe,c,de);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":Zv(fe,c,de)}var Ve;if($t)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else oa?Bv(s,c)&&(Ue="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(so&&c.locale!=="ko"&&(oa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&oa&&(Ve=bl()):(Jn=de,Xo="value"in Jn?Jn.value:Jn.textContent,oa=!0)),Le=Uu(J,Ue),0<Le.length&&(Ue=new Pl(Ue,s,null,c,de),fe.push({event:Ue,listeners:Le}),Ve?Ue.data=Ve:(Ve=$v(c),Ve!==null&&(Ue.data=Ve)))),(Ve=Zn?DC(s,c):LC(s,c))&&(J=Uu(J,"onBeforeInput"),0<J.length&&(de=new Pl("onBeforeInput","beforeinput",null,c,de),fe.push({event:de,listeners:J}),de.data=Ve))}l0(fe,a)})}function Ll(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Uu(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Mt(s,c),E!=null&&p.unshift(Ll(s,E,y)),E=Mt(s,a),E!=null&&p.push(Ll(s,E,y))),s=s.return}return p}function ca(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function u0(s,a,c,p,y){for(var E=a._reactName,P=[];c!==null&&c!==p;){var B=c,H=B.alternate,J=B.stateNode;if(H!==null&&H===p)break;B.tag===5&&J!==null&&(B=J,y?(H=Mt(c,E),H!=null&&P.unshift(Ll(c,H,B))):y||(H=Mt(c,E),H!=null&&P.push(Ll(c,H,B)))),c=c.return}P.length!==0&&s.push({event:a,listeners:P})}var QC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function d0(s){return(typeof s=="string"?s:""+s).replace(QC,`
`).replace(YC,"")}function Bu(s,a,c){if(a=d0(a),d0(s)!==a&&c)throw Error(n(425))}function $u(){}var op=null,ap=null;function lp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(s){return h0.resolve(null).then(s).catch(ZC)}:cp;function ZC(s){setTimeout(function(){throw s})}function up(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),Ar(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Ar(a)}function os(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function f0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ei="__reactFiber$"+ua,Vl="__reactProps$"+ua,xi="__reactContainer$"+ua,dp="__reactEvents$"+ua,eP="__reactListeners$"+ua,tP="__reactHandles$"+ua;function oo(s){var a=s[ei];if(a)return a;for(var c=s.parentNode;c;){if(a=c[xi]||c[ei]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=f0(s);s!==null;){if(c=s[ei])return c;s=f0(s)}return a}s=c,c=s.parentNode}return null}function jl(s){return s=s[ei]||s[xi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function da(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function zu(s){return s[Vl]||null}var hp=[],ha=-1;function as(s){return{current:s}}function It(s){0>ha||(s.current=hp[ha],hp[ha]=null,ha--)}function St(s,a){ha++,hp[ha]=s.current,s.current=a}var ls={},gn=as(ls),jn=as(!1),ao=ls;function fa(s,a){var c=s.type.contextTypes;if(!c)return ls;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in c)y[E]=a[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Mn(s){return s=s.childContextTypes,s!=null}function Hu(){It(jn),It(gn)}function p0(s,a,c){if(gn.current!==ls)throw Error(n(168));St(gn,a),St(jn,c)}function m0(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(n(108,et(s)||"Unknown",y));return re({},c,p)}function qu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ls,ao=gn.current,St(gn,s),St(jn,jn.current),!0}function g0(s,a,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=m0(s,a,ao),p.__reactInternalMemoizedMergedChildContext=s,It(jn),It(gn),St(gn,s)):It(jn),St(jn,c)}var bi=null,Wu=!1,fp=!1;function y0(s){bi===null?bi=[s]:bi.push(s)}function nP(s){Wu=!0,y0(s)}function cs(){if(!fp&&bi!==null){fp=!0;var s=0,a=rt;try{var c=bi;for(rt=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}bi=null,Wu=!1}catch(y){throw bi!==null&&(bi=bi.slice(s+1)),Wo(Js,cs),y}finally{rt=a,fp=!1}}return null}var pa=[],ma=0,Ku=null,Gu=0,hr=[],fr=0,lo=null,Ii=1,Ci="";function co(s,a){pa[ma++]=Gu,pa[ma++]=Ku,Ku=s,Gu=a}function v0(s,a,c){hr[fr++]=Ii,hr[fr++]=Ci,hr[fr++]=lo,lo=s;var p=Ii;s=Ci;var y=32-Pn(p)-1;p&=~(1<<y),c+=1;var E=32-Pn(a)+y;if(30<E){var P=y-y%5;E=(p&(1<<P)-1).toString(32),p>>=P,y-=P,Ii=1<<32-Pn(a)+y|c<<y|p,Ci=E+s}else Ii=1<<E|c<<y|p,Ci=s}function pp(s){s.return!==null&&(co(s,1),v0(s,1,0))}function mp(s){for(;s===Ku;)Ku=pa[--ma],pa[ma]=null,Gu=pa[--ma],pa[ma]=null;for(;s===lo;)lo=hr[--fr],hr[fr]=null,Ci=hr[--fr],hr[fr]=null,Ii=hr[--fr],hr[fr]=null}var er=null,tr=null,At=!1,Nr=null;function _0(s,a){var c=yr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function w0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,er=s,tr=os(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,er=s,tr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=lo!==null?{id:Ii,overflow:Ci}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=yr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,er=s,tr=null,!0):!1;default:return!1}}function gp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function yp(s){if(At){var a=tr;if(a){var c=a;if(!w0(s,a)){if(gp(s))throw Error(n(418));a=os(c.nextSibling);var p=er;a&&w0(s,a)?_0(p,c):(s.flags=s.flags&-4097|2,At=!1,er=s)}}else{if(gp(s))throw Error(n(418));s.flags=s.flags&-4097|2,At=!1,er=s}}}function E0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;er=s}function Qu(s){if(s!==er)return!1;if(!At)return E0(s),At=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!lp(s.type,s.memoizedProps)),a&&(a=tr)){if(gp(s))throw T0(),Error(n(418));for(;a;)_0(s,a),a=os(a.nextSibling)}if(E0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){tr=os(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}tr=null}}else tr=er?os(s.stateNode.nextSibling):null;return!0}function T0(){for(var s=tr;s;)s=os(s.nextSibling)}function ga(){tr=er=null,At=!1}function vp(s){Nr===null?Nr=[s]:Nr.push(s)}var rP=M.ReactCurrentBatchConfig;function Ml(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var y=p,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(P){var B=y.refs;P===null?delete B[E]:B[E]=P},a._stringRef=E,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Yu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function S0(s){var a=s._init;return a(s._payload)}function x0(s){function a(Q,q){if(s){var X=Q.deletions;X===null?(Q.deletions=[q],Q.flags|=16):X.push(q)}}function c(Q,q){if(!s)return null;for(;q!==null;)a(Q,q),q=q.sibling;return null}function p(Q,q){for(Q=new Map;q!==null;)q.key!==null?Q.set(q.key,q):Q.set(q.index,q),q=q.sibling;return Q}function y(Q,q){return Q=ys(Q,q),Q.index=0,Q.sibling=null,Q}function E(Q,q,X){return Q.index=X,s?(X=Q.alternate,X!==null?(X=X.index,X<q?(Q.flags|=2,q):X):(Q.flags|=2,q)):(Q.flags|=1048576,q)}function P(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function B(Q,q,X,ge){return q===null||q.tag!==6?(q=cm(X,Q.mode,ge),q.return=Q,q):(q=y(q,X),q.return=Q,q)}function H(Q,q,X,ge){var ke=X.type;return ke===D?de(Q,q,X.props.children,ge,X.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===_e&&S0(ke)===q.type)?(ge=y(q,X.props),ge.ref=Ml(Q,q,X),ge.return=Q,ge):(ge=wd(X.type,X.key,X.props,null,Q.mode,ge),ge.ref=Ml(Q,q,X),ge.return=Q,ge)}function J(Q,q,X,ge){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=um(X,Q.mode,ge),q.return=Q,q):(q=y(q,X.children||[]),q.return=Q,q)}function de(Q,q,X,ge,ke){return q===null||q.tag!==7?(q=vo(X,Q.mode,ge,ke),q.return=Q,q):(q=y(q,X),q.return=Q,q)}function fe(Q,q,X){if(typeof q=="string"&&q!==""||typeof q=="number")return q=cm(""+q,Q.mode,X),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return X=wd(q.type,q.key,q.props,null,Q.mode,X),X.ref=Ml(Q,null,q),X.return=Q,X;case K:return q=um(q,Q.mode,X),q.return=Q,q;case _e:var ge=q._init;return fe(Q,ge(q._payload),X)}if(or(q)||le(q))return q=vo(q,Q.mode,X,null),q.return=Q,q;Yu(Q,q)}return null}function ue(Q,q,X,ge){var ke=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ke!==null?null:B(Q,q,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case F:return X.key===ke?H(Q,q,X,ge):null;case K:return X.key===ke?J(Q,q,X,ge):null;case _e:return ke=X._init,ue(Q,q,ke(X._payload),ge)}if(or(X)||le(X))return ke!==null?null:de(Q,q,X,ge,null);Yu(Q,X)}return null}function Te(Q,q,X,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Q=Q.get(X)||null,B(q,Q,""+ge,ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case F:return Q=Q.get(ge.key===null?X:ge.key)||null,H(q,Q,ge,ke);case K:return Q=Q.get(ge.key===null?X:ge.key)||null,J(q,Q,ge,ke);case _e:var Le=ge._init;return Te(Q,q,X,Le(ge._payload),ke)}if(or(ge)||le(ge))return Q=Q.get(X)||null,de(q,Q,ge,ke,null);Yu(q,ge)}return null}function Ae(Q,q,X,ge){for(var ke=null,Le=null,Ve=q,Ue=q=0,sn=null;Ve!==null&&Ue<X.length;Ue++){Ve.index>Ue?(sn=Ve,Ve=null):sn=Ve.sibling;var ut=ue(Q,Ve,X[Ue],ge);if(ut===null){Ve===null&&(Ve=sn);break}s&&Ve&&ut.alternate===null&&a(Q,Ve),q=E(ut,q,Ue),Le===null?ke=ut:Le.sibling=ut,Le=ut,Ve=sn}if(Ue===X.length)return c(Q,Ve),At&&co(Q,Ue),ke;if(Ve===null){for(;Ue<X.length;Ue++)Ve=fe(Q,X[Ue],ge),Ve!==null&&(q=E(Ve,q,Ue),Le===null?ke=Ve:Le.sibling=Ve,Le=Ve);return At&&co(Q,Ue),ke}for(Ve=p(Q,Ve);Ue<X.length;Ue++)sn=Te(Ve,Q,Ue,X[Ue],ge),sn!==null&&(s&&sn.alternate!==null&&Ve.delete(sn.key===null?Ue:sn.key),q=E(sn,q,Ue),Le===null?ke=sn:Le.sibling=sn,Le=sn);return s&&Ve.forEach(function(vs){return a(Q,vs)}),At&&co(Q,Ue),ke}function Re(Q,q,X,ge){var ke=le(X);if(typeof ke!="function")throw Error(n(150));if(X=ke.call(X),X==null)throw Error(n(151));for(var Le=ke=null,Ve=q,Ue=q=0,sn=null,ut=X.next();Ve!==null&&!ut.done;Ue++,ut=X.next()){Ve.index>Ue?(sn=Ve,Ve=null):sn=Ve.sibling;var vs=ue(Q,Ve,ut.value,ge);if(vs===null){Ve===null&&(Ve=sn);break}s&&Ve&&vs.alternate===null&&a(Q,Ve),q=E(vs,q,Ue),Le===null?ke=vs:Le.sibling=vs,Le=vs,Ve=sn}if(ut.done)return c(Q,Ve),At&&co(Q,Ue),ke;if(Ve===null){for(;!ut.done;Ue++,ut=X.next())ut=fe(Q,ut.value,ge),ut!==null&&(q=E(ut,q,Ue),Le===null?ke=ut:Le.sibling=ut,Le=ut);return At&&co(Q,Ue),ke}for(Ve=p(Q,Ve);!ut.done;Ue++,ut=X.next())ut=Te(Ve,Q,Ue,ut.value,ge),ut!==null&&(s&&ut.alternate!==null&&Ve.delete(ut.key===null?Ue:ut.key),q=E(ut,q,Ue),Le===null?ke=ut:Le.sibling=ut,Le=ut);return s&&Ve.forEach(function(VP){return a(Q,VP)}),At&&co(Q,Ue),ke}function Ft(Q,q,X,ge){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case F:e:{for(var ke=X.key,Le=q;Le!==null;){if(Le.key===ke){if(ke=X.type,ke===D){if(Le.tag===7){c(Q,Le.sibling),q=y(Le,X.props.children),q.return=Q,Q=q;break e}}else if(Le.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===_e&&S0(ke)===Le.type){c(Q,Le.sibling),q=y(Le,X.props),q.ref=Ml(Q,Le,X),q.return=Q,Q=q;break e}c(Q,Le);break}else a(Q,Le);Le=Le.sibling}X.type===D?(q=vo(X.props.children,Q.mode,ge,X.key),q.return=Q,Q=q):(ge=wd(X.type,X.key,X.props,null,Q.mode,ge),ge.ref=Ml(Q,q,X),ge.return=Q,Q=ge)}return P(Q);case K:e:{for(Le=X.key;q!==null;){if(q.key===Le)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){c(Q,q.sibling),q=y(q,X.children||[]),q.return=Q,Q=q;break e}else{c(Q,q);break}else a(Q,q);q=q.sibling}q=um(X,Q.mode,ge),q.return=Q,Q=q}return P(Q);case _e:return Le=X._init,Ft(Q,q,Le(X._payload),ge)}if(or(X))return Ae(Q,q,X,ge);if(le(X))return Re(Q,q,X,ge);Yu(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,q!==null&&q.tag===6?(c(Q,q.sibling),q=y(q,X),q.return=Q,Q=q):(c(Q,q),q=cm(X,Q.mode,ge),q.return=Q,Q=q),P(Q)):c(Q,q)}return Ft}var ya=x0(!0),b0=x0(!1),Xu=as(null),Ju=null,va=null,_p=null;function wp(){_p=va=Ju=null}function Ep(s){var a=Xu.current;It(Xu),s._currentValue=a}function Tp(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function _a(s,a){Ju=s,_p=va=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Fn=!0),s.firstContext=null)}function pr(s){var a=s._currentValue;if(_p!==s)if(s={context:s,memoizedValue:a,next:null},va===null){if(Ju===null)throw Error(n(308));va=s,Ju.dependencies={lanes:0,firstContext:s}}else va=va.next=s;return a}var uo=null;function Sp(s){uo===null?uo=[s]:uo.push(s)}function I0(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,Sp(a)):(c.next=y.next,y.next=c),a.interleaved=c,Pi(s,p)}function Pi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var us=!1;function xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ai(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ds(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(at&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,Pi(s,c)}return y=p.interleaved,y===null?(a.next=a,Sp(p)):(a.next=y.next,y.next=a),p.interleaved=a,Pi(s,c)}function Zu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,es(s,c)}}function P0(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?y=E=P:E=E.next=P,c=c.next}while(c!==null);E===null?y=E=a:E=E.next=a}else y=E=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function ed(s,a,c,p){var y=s.updateQueue;us=!1;var E=y.firstBaseUpdate,P=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var H=B,J=H.next;H.next=null,P===null?E=J:P.next=J,P=H;var de=s.alternate;de!==null&&(de=de.updateQueue,B=de.lastBaseUpdate,B!==P&&(B===null?de.firstBaseUpdate=J:B.next=J,de.lastBaseUpdate=H))}if(E!==null){var fe=y.baseState;P=0,de=J=H=null,B=E;do{var ue=B.lane,Te=B.eventTime;if((p&ue)===ue){de!==null&&(de=de.next={eventTime:Te,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ae=s,Re=B;switch(ue=a,Te=c,Re.tag){case 1:if(Ae=Re.payload,typeof Ae=="function"){fe=Ae.call(Te,fe,ue);break e}fe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Re.payload,ue=typeof Ae=="function"?Ae.call(Te,fe,ue):Ae,ue==null)break e;fe=re({},fe,ue);break e;case 2:us=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,ue=y.effects,ue===null?y.effects=[B]:ue.push(B))}else Te={eventTime:Te,lane:ue,tag:B.tag,payload:B.payload,callback:B.callback,next:null},de===null?(J=de=Te,H=fe):de=de.next=Te,P|=ue;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);if(de===null&&(H=fe),y.baseState=H,y.firstBaseUpdate=J,y.lastBaseUpdate=de,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);po|=P,s.lanes=P,s.memoizedState=fe}}function A0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Fl={},ti=as(Fl),Ul=as(Fl),Bl=as(Fl);function ho(s){if(s===Fl)throw Error(n(174));return s}function bp(s,a){switch(St(Bl,a),St(Ul,s),St(ti,Fl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:oe(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=oe(a,s)}It(ti),St(ti,a)}function wa(){It(ti),It(Ul),It(Bl)}function R0(s){ho(Bl.current);var a=ho(ti.current),c=oe(a,s.type);a!==c&&(St(Ul,s),St(ti,c))}function Ip(s){Ul.current===s&&(It(ti),It(Ul))}var Ot=as(0);function td(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Cp=[];function Pp(){for(var s=0;s<Cp.length;s++)Cp[s]._workInProgressVersionPrimary=null;Cp.length=0}var nd=M.ReactCurrentDispatcher,Ap=M.ReactCurrentBatchConfig,fo=0,Dt=null,Qt=null,nn=null,rd=!1,$l=!1,zl=0,iP=0;function yn(){throw Error(n(321))}function Rp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!kr(s[c],a[c]))return!1;return!0}function kp(s,a,c,p,y,E){if(fo=E,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,nd.current=s===null||s.memoizedState===null?lP:cP,s=c(p,y),$l){E=0;do{if($l=!1,zl=0,25<=E)throw Error(n(301));E+=1,nn=Qt=null,a.updateQueue=null,nd.current=uP,s=c(p,y)}while($l)}if(nd.current=od,a=Qt!==null&&Qt.next!==null,fo=0,nn=Qt=Dt=null,rd=!1,a)throw Error(n(300));return s}function Np(){var s=zl!==0;return zl=0,s}function ni(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Dt.memoizedState=nn=s:nn=nn.next=s,nn}function mr(){if(Qt===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var a=nn===null?Dt.memoizedState:nn.next;if(a!==null)nn=a,Qt=s;else{if(s===null)throw Error(n(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?Dt.memoizedState=nn=s:nn=nn.next=s}return nn}function Hl(s,a){return typeof a=="function"?a(s):a}function Op(s){var a=mr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Qt,y=p.baseQueue,E=c.pending;if(E!==null){if(y!==null){var P=y.next;y.next=E.next,E.next=P}p.baseQueue=y=E,c.pending=null}if(y!==null){E=y.next,p=p.baseState;var B=P=null,H=null,J=E;do{var de=J.lane;if((fo&de)===de)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:s(p,J.action);else{var fe={lane:de,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(B=H=fe,P=p):H=H.next=fe,Dt.lanes|=de,po|=de}J=J.next}while(J!==null&&J!==E);H===null?P=p:H.next=B,kr(p,a.memoizedState)||(Fn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=H,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do E=y.lane,Dt.lanes|=E,po|=E,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Dp(s){var a=mr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,E=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do E=s(E,P.action),P=P.next;while(P!==y);kr(E,a.memoizedState)||(Fn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function k0(){}function N0(s,a){var c=Dt,p=mr(),y=a(),E=!kr(p.memoizedState,y);if(E&&(p.memoizedState=y,Fn=!0),p=p.queue,Lp(L0.bind(null,c,p,s),[s]),p.getSnapshot!==a||E||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,ql(9,D0.bind(null,c,p,y,a),void 0,null),rn===null)throw Error(n(349));(fo&30)!==0||O0(c,a,y)}return y}function O0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function D0(s,a,c,p){a.value=c,a.getSnapshot=p,V0(a)&&j0(s)}function L0(s,a,c){return c(function(){V0(a)&&j0(s)})}function V0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!kr(s,c)}catch{return!0}}function j0(s){var a=Pi(s,1);a!==null&&Vr(a,s,1,-1)}function M0(s){var a=ni();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:s},a.queue=s,s=s.dispatch=aP.bind(null,Dt,s),[a.memoizedState,s]}function ql(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function F0(){return mr().memoizedState}function id(s,a,c,p){var y=ni();Dt.flags|=s,y.memoizedState=ql(1|a,c,void 0,p===void 0?null:p)}function sd(s,a,c,p){var y=mr();p=p===void 0?null:p;var E=void 0;if(Qt!==null){var P=Qt.memoizedState;if(E=P.destroy,p!==null&&Rp(p,P.deps)){y.memoizedState=ql(a,c,E,p);return}}Dt.flags|=s,y.memoizedState=ql(1|a,c,E,p)}function U0(s,a){return id(8390656,8,s,a)}function Lp(s,a){return sd(2048,8,s,a)}function B0(s,a){return sd(4,2,s,a)}function $0(s,a){return sd(4,4,s,a)}function z0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function H0(s,a,c){return c=c!=null?c.concat([s]):null,sd(4,4,z0.bind(null,a,s),c)}function Vp(){}function q0(s,a){var c=mr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Rp(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function W0(s,a){var c=mr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Rp(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function K0(s,a,c){return(fo&21)===0?(s.baseState&&(s.baseState=!1,Fn=!0),s.memoizedState=c):(kr(c,a)||(c=to(),Dt.lanes|=c,po|=c,s.baseState=!0),a)}function sP(s,a){var c=rt;rt=c!==0&&4>c?c:4,s(!0);var p=Ap.transition;Ap.transition={};try{s(!1),a()}finally{rt=c,Ap.transition=p}}function G0(){return mr().memoizedState}function oP(s,a,c){var p=ms(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Q0(s))Y0(a,c);else if(c=I0(s,a,c,p),c!==null){var y=kn();Vr(c,s,p,y),X0(c,a,p)}}function aP(s,a,c){var p=ms(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Q0(s))Y0(a,y);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var P=a.lastRenderedState,B=E(P,c);if(y.hasEagerState=!0,y.eagerState=B,kr(B,P)){var H=a.interleaved;H===null?(y.next=y,Sp(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch{}finally{}c=I0(s,a,y,p),c!==null&&(y=kn(),Vr(c,s,p,y),X0(c,a,p))}}function Q0(s){var a=s.alternate;return s===Dt||a!==null&&a===Dt}function Y0(s,a){$l=rd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function X0(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,es(s,c)}}var od={readContext:pr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},lP={readContext:pr,useCallback:function(s,a){return ni().memoizedState=[s,a===void 0?null:a],s},useContext:pr,useEffect:U0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,id(4194308,4,z0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return id(4194308,4,s,a)},useInsertionEffect:function(s,a){return id(4,2,s,a)},useMemo:function(s,a){var c=ni();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=ni();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=oP.bind(null,Dt,s),[p.memoizedState,s]},useRef:function(s){var a=ni();return s={current:s},a.memoizedState=s},useState:M0,useDebugValue:Vp,useDeferredValue:function(s){return ni().memoizedState=s},useTransition:function(){var s=M0(!1),a=s[0];return s=sP.bind(null,s[1]),ni().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=Dt,y=ni();if(At){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),rn===null)throw Error(n(349));(fo&30)!==0||O0(p,a,c)}y.memoizedState=c;var E={value:c,getSnapshot:a};return y.queue=E,U0(L0.bind(null,p,E,s),[s]),p.flags|=2048,ql(9,D0.bind(null,p,E,c,a),void 0,null),c},useId:function(){var s=ni(),a=rn.identifierPrefix;if(At){var c=Ci,p=Ii;c=(p&~(1<<32-Pn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=zl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=iP++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},cP={readContext:pr,useCallback:q0,useContext:pr,useEffect:Lp,useImperativeHandle:H0,useInsertionEffect:B0,useLayoutEffect:$0,useMemo:W0,useReducer:Op,useRef:F0,useState:function(){return Op(Hl)},useDebugValue:Vp,useDeferredValue:function(s){var a=mr();return K0(a,Qt.memoizedState,s)},useTransition:function(){var s=Op(Hl)[0],a=mr().memoizedState;return[s,a]},useMutableSource:k0,useSyncExternalStore:N0,useId:G0,unstable_isNewReconciler:!1},uP={readContext:pr,useCallback:q0,useContext:pr,useEffect:Lp,useImperativeHandle:H0,useInsertionEffect:B0,useLayoutEffect:$0,useMemo:W0,useReducer:Dp,useRef:F0,useState:function(){return Dp(Hl)},useDebugValue:Vp,useDeferredValue:function(s){var a=mr();return Qt===null?a.memoizedState=s:K0(a,Qt.memoizedState,s)},useTransition:function(){var s=Dp(Hl)[0],a=mr().memoizedState;return[s,a]},useMutableSource:k0,useSyncExternalStore:N0,useId:G0,unstable_isNewReconciler:!1};function Or(s,a){if(s&&s.defaultProps){a=re({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function jp(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:re({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ad={isMounted:function(s){return(s=s._reactInternals)?xr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=kn(),y=ms(s),E=Ai(p,y);E.payload=a,c!=null&&(E.callback=c),a=ds(s,E,y),a!==null&&(Vr(a,s,y,p),Zu(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=kn(),y=ms(s),E=Ai(p,y);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=ds(s,E,y),a!==null&&(Vr(a,s,y,p),Zu(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=kn(),p=ms(s),y=Ai(c,p);y.tag=2,a!=null&&(y.callback=a),a=ds(s,y,p),a!==null&&(Vr(a,s,p,c),Zu(a,s,p))}};function J0(s,a,c,p,y,E,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,P):a.prototype&&a.prototype.isPureReactComponent?!kl(c,p)||!kl(y,E):!0}function Z0(s,a,c){var p=!1,y=ls,E=a.contextType;return typeof E=="object"&&E!==null?E=pr(E):(y=Mn(a)?ao:gn.current,p=a.contextTypes,E=(p=p!=null)?fa(s,y):ls),a=new a(c,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ad,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=E),a}function e_(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&ad.enqueueReplaceState(a,a.state,null)}function Mp(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},xp(s);var E=a.contextType;typeof E=="object"&&E!==null?y.context=pr(E):(E=Mn(a)?ao:gn.current,y.context=fa(s,E)),y.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(jp(s,a,E,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&ad.enqueueReplaceState(y,y.state,null),ed(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Ea(s,a){try{var c="",p=a;do c+=Oe(p),p=p.return;while(p);var y=c}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:y,digest:null}}function Fp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Up(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function t_(s,a,c){c=Ai(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){pd||(pd=!0,tm=p),Up(s,a)},c}function n_(s,a,c){c=Ai(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Up(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Up(s,a),typeof p!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function r_(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new dP;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=bP.bind(null,s,a,c),a.then(s,s))}function i_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function s_(s,a,c,p,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ai(-1,1),a.tag=2,ds(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var hP=M.ReactCurrentOwner,Fn=!1;function Rn(s,a,c,p){a.child=s===null?b0(a,null,c,p):ya(a,s.child,c,p)}function o_(s,a,c,p,y){c=c.render;var E=a.ref;return _a(a,y),p=kp(s,a,c,p,E,y),c=Np(),s!==null&&!Fn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Ri(s,a,y)):(At&&c&&pp(a),a.flags|=1,Rn(s,a,p,y),a.child)}function a_(s,a,c,p,y){if(s===null){var E=c.type;return typeof E=="function"&&!lm(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,l_(s,a,E,p,y)):(s=wd(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,(s.lanes&y)===0){var P=E.memoizedProps;if(c=c.compare,c=c!==null?c:kl,c(P,p)&&s.ref===a.ref)return Ri(s,a,y)}return a.flags|=1,s=ys(E,p),s.ref=a.ref,s.return=a,a.child=s}function l_(s,a,c,p,y){if(s!==null){var E=s.memoizedProps;if(kl(E,p)&&s.ref===a.ref)if(Fn=!1,a.pendingProps=p=E,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Fn=!0);else return a.lanes=s.lanes,Ri(s,a,y)}return Bp(s,a,c,p,y)}function c_(s,a,c){var p=a.pendingProps,y=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Sa,nr),nr|=c;else{if((c&1073741824)===0)return s=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,St(Sa,nr),nr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,St(Sa,nr),nr|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,St(Sa,nr),nr|=p;return Rn(s,a,y,c),a.child}function u_(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Bp(s,a,c,p,y){var E=Mn(c)?ao:gn.current;return E=fa(a,E),_a(a,y),c=kp(s,a,c,p,E,y),p=Np(),s!==null&&!Fn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Ri(s,a,y)):(At&&p&&pp(a),a.flags|=1,Rn(s,a,c,y),a.child)}function d_(s,a,c,p,y){if(Mn(c)){var E=!0;qu(a)}else E=!1;if(_a(a,y),a.stateNode===null)cd(s,a),Z0(a,c,p),Mp(a,c,p,y),p=!0;else if(s===null){var P=a.stateNode,B=a.memoizedProps;P.props=B;var H=P.context,J=c.contextType;typeof J=="object"&&J!==null?J=pr(J):(J=Mn(c)?ao:gn.current,J=fa(a,J));var de=c.getDerivedStateFromProps,fe=typeof de=="function"||typeof P.getSnapshotBeforeUpdate=="function";fe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==p||H!==J)&&e_(a,P,p,J),us=!1;var ue=a.memoizedState;P.state=ue,ed(a,p,P,y),H=a.memoizedState,B!==p||ue!==H||jn.current||us?(typeof de=="function"&&(jp(a,c,de,p),H=a.memoizedState),(B=us||J0(a,c,B,p,ue,H,J))?(fe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=H),P.props=p,P.state=H,P.context=J,p=B):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,C0(s,a),B=a.memoizedProps,J=a.type===a.elementType?B:Or(a.type,B),P.props=J,fe=a.pendingProps,ue=P.context,H=c.contextType,typeof H=="object"&&H!==null?H=pr(H):(H=Mn(c)?ao:gn.current,H=fa(a,H));var Te=c.getDerivedStateFromProps;(de=typeof Te=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==fe||ue!==H)&&e_(a,P,p,H),us=!1,ue=a.memoizedState,P.state=ue,ed(a,p,P,y);var Ae=a.memoizedState;B!==fe||ue!==Ae||jn.current||us?(typeof Te=="function"&&(jp(a,c,Te,p),Ae=a.memoizedState),(J=us||J0(a,c,J,p,ue,Ae,H)||!1)?(de||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Ae,H),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Ae,H)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ae),P.props=p,P.state=Ae,P.context=H,p=J):(typeof P.componentDidUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),p=!1)}return $p(s,a,c,p,E,y)}function $p(s,a,c,p,y,E){u_(s,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&g0(a,c,!1),Ri(s,a,E);p=a.stateNode,hP.current=a;var B=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&P?(a.child=ya(a,s.child,null,E),a.child=ya(a,null,B,E)):Rn(s,a,B,E),a.memoizedState=p.state,y&&g0(a,c,!0),a.child}function h_(s){var a=s.stateNode;a.pendingContext?p0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&p0(s,a.context,!1),bp(s,a.containerInfo)}function f_(s,a,c,p,y){return ga(),vp(y),a.flags|=256,Rn(s,a,c,p),a.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function p_(s,a,c){var p=a.pendingProps,y=Ot.current,E=!1,P=(a.flags&128)!==0,B;if((B=P)||(B=s!==null&&s.memoizedState===null?!1:(y&2)!==0),B?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),St(Ot,y&1),s===null)return yp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=p.children,s=p.fallback,E?(p=a.mode,E=a.child,P={mode:"hidden",children:P},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=P):E=Ed(P,p,0,null),s=vo(s,p,c,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Hp(c),a.memoizedState=zp,s):qp(a,P));if(y=s.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return fP(s,a,P,p,B,y,c);if(E){E=p.fallback,P=a.mode,y=s.child,B=y.sibling;var H={mode:"hidden",children:p.children};return(P&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=H,a.deletions=null):(p=ys(y,H),p.subtreeFlags=y.subtreeFlags&14680064),B!==null?E=ys(B,E):(E=vo(E,P,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,P=s.child.memoizedState,P=P===null?Hp(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=s.childLanes&~c,a.memoizedState=zp,p}return E=s.child,s=E.sibling,p=ys(E,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function qp(s,a){return a=Ed({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ld(s,a,c,p){return p!==null&&vp(p),ya(a,s.child,null,c),s=qp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function fP(s,a,c,p,y,E,P){if(c)return a.flags&256?(a.flags&=-257,p=Fp(Error(n(422))),ld(s,a,P,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=p.fallback,y=a.mode,p=Ed({mode:"visible",children:p.children},y,0,null),E=vo(E,y,P,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,(a.mode&1)!==0&&ya(a,s.child,null,P),a.child.memoizedState=Hp(P),a.memoizedState=zp,E);if((a.mode&1)===0)return ld(s,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var B=p.dgst;return p=B,E=Error(n(419)),p=Fp(E,p,void 0),ld(s,a,P,p)}if(B=(P&s.childLanes)!==0,Fn||B){if(p=rn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|P))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,Pi(s,y),Vr(p,s,y,-1))}return am(),p=Fp(Error(n(421))),ld(s,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=IP.bind(null,s),y._reactRetry=a,null):(s=E.treeContext,tr=os(y.nextSibling),er=a,At=!0,Nr=null,s!==null&&(hr[fr++]=Ii,hr[fr++]=Ci,hr[fr++]=lo,Ii=s.id,Ci=s.overflow,lo=a),a=qp(a,p.children),a.flags|=4096,a)}function m_(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Tp(s.return,a,c)}function Wp(s,a,c,p,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=y)}function g_(s,a,c){var p=a.pendingProps,y=p.revealOrder,E=p.tail;if(Rn(s,a,p.children,c),p=Ot.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&m_(s,c,a);else if(s.tag===19)m_(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(St(Ot,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&td(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Wp(a,!1,y,c,E);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&td(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Wp(a,!0,c,null,E);break;case"together":Wp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ri(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),po|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=ys(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=ys(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function pP(s,a,c){switch(a.tag){case 3:h_(a),ga();break;case 5:R0(a);break;case 1:Mn(a.type)&&qu(a);break;case 4:bp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;St(Xu,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(St(Ot,Ot.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?p_(s,a,c):(St(Ot,Ot.current&1),s=Ri(s,a,c),s!==null?s.sibling:null);St(Ot,Ot.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return g_(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),St(Ot,Ot.current),p)break;return null;case 22:case 23:return a.lanes=0,c_(s,a,c)}return Ri(s,a,c)}var y_,Kp,v_,__;y_=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Kp=function(){},v_=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,ho(ti.current);var E=null;switch(c){case"input":y=gi(s,y),p=gi(s,p),E=[];break;case"select":y=re({},y,{value:void 0}),p=re({},p,{value:void 0}),E=[];break;case"textarea":y=Kr(s,y),p=Kr(s,p),E=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=$u)}Ee(c,p);var P;c=null;for(J in y)if(!p.hasOwnProperty(J)&&y.hasOwnProperty(J)&&y[J]!=null)if(J==="style"){var B=y[J];for(P in B)B.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?E||(E=[]):(E=E||[]).push(J,null));for(J in p){var H=p[J];if(B=y!=null?y[J]:void 0,p.hasOwnProperty(J)&&H!==B&&(H!=null||B!=null))if(J==="style")if(B){for(P in B)!B.hasOwnProperty(P)||H&&H.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in H)H.hasOwnProperty(P)&&B[P]!==H[P]&&(c||(c={}),c[P]=H[P])}else c||(E||(E=[]),E.push(J,c)),c=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(E=E||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&bt("scroll",s),E||B===H||(E=[])):(E=E||[]).push(J,H))}c&&(E=E||[]).push("style",c);var J=E;(a.updateQueue=J)&&(a.flags|=4)}},__=function(s,a,c,p){c!==p&&(a.flags|=4)};function Wl(s,a){if(!At)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function vn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function mP(s,a,c){var p=a.pendingProps;switch(mp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(a),null;case 1:return Mn(a.type)&&Hu(),vn(a),null;case 3:return p=a.stateNode,wa(),It(jn),It(gn),Pp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Qu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nr!==null&&(im(Nr),Nr=null))),Kp(s,a),vn(a),null;case 5:Ip(a);var y=ho(Bl.current);if(c=a.type,s!==null&&a.stateNode!=null)v_(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return vn(a),null}if(s=ho(ti.current),Qu(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[ei]=a,p[Vl]=E,s=(a.mode&1)!==0,c){case"dialog":bt("cancel",p),bt("close",p);break;case"iframe":case"object":case"embed":bt("load",p);break;case"video":case"audio":for(y=0;y<Ol.length;y++)bt(Ol[y],p);break;case"source":bt("error",p);break;case"img":case"image":case"link":bt("error",p),bt("load",p);break;case"details":bt("toggle",p);break;case"input":yi(p,E),bt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},bt("invalid",p);break;case"textarea":Gr(p,E),bt("invalid",p)}Ee(c,E),y=null;for(var P in E)if(E.hasOwnProperty(P)){var B=E[P];P==="children"?typeof B=="string"?p.textContent!==B&&(E.suppressHydrationWarning!==!0&&Bu(p.textContent,B,s),y=["children",B]):typeof B=="number"&&p.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&Bu(p.textContent,B,s),y=["children",""+B]):i.hasOwnProperty(P)&&B!=null&&P==="onScroll"&&bt("scroll",p)}switch(c){case"input":wt(p),vi(p,E,!0);break;case"textarea":wt(p),ce(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=$u)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=W(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=P.createElement(c,{is:p.is}):(s=P.createElement(c),c==="select"&&(P=s,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):s=P.createElementNS(s,c),s[ei]=a,s[Vl]=p,y_(s,a,!1,!1),a.stateNode=s;e:{switch(P=Ke(c,p),c){case"dialog":bt("cancel",s),bt("close",s),y=p;break;case"iframe":case"object":case"embed":bt("load",s),y=p;break;case"video":case"audio":for(y=0;y<Ol.length;y++)bt(Ol[y],s);y=p;break;case"source":bt("error",s),y=p;break;case"img":case"image":case"link":bt("error",s),bt("load",s),y=p;break;case"details":bt("toggle",s),y=p;break;case"input":yi(s,p),y=gi(s,p),bt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=re({},p,{value:void 0}),bt("invalid",s);break;case"textarea":Gr(s,p),y=Kr(s,p),bt("invalid",s);break;default:y=p}Ee(c,y),B=y;for(E in B)if(B.hasOwnProperty(E)){var H=B[E];E==="style"?Ce(s,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&He(s,H)):E==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Be(s,H):typeof H=="number"&&Be(s,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?H!=null&&E==="onScroll"&&bt("scroll",s):H!=null&&k(s,E,H,P))}switch(c){case"input":wt(s),vi(s,p,!1);break;case"textarea":wt(s),ce(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ye(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?Gn(s,!!p.multiple,E,!1):p.defaultValue!=null&&Gn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=$u)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vn(a),null;case 6:if(s&&a.stateNode!=null)__(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=ho(Bl.current),ho(ti.current),Qu(a)){if(p=a.stateNode,c=a.memoizedProps,p[ei]=a,(E=p.nodeValue!==c)&&(s=er,s!==null))switch(s.tag){case 3:Bu(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bu(p.nodeValue,c,(s.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ei]=a,a.stateNode=p}return vn(a),null;case 13:if(It(Ot),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(At&&tr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)T0(),ga(),a.flags|=98560,E=!1;else if(E=Qu(a),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ei]=a}else ga(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vn(a),E=!1}else Nr!==null&&(im(Nr),Nr=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ot.current&1)!==0?Yt===0&&(Yt=3):am())),a.updateQueue!==null&&(a.flags|=4),vn(a),null);case 4:return wa(),Kp(s,a),s===null&&Dl(a.stateNode.containerInfo),vn(a),null;case 10:return Ep(a.type._context),vn(a),null;case 17:return Mn(a.type)&&Hu(),vn(a),null;case 19:if(It(Ot),E=a.memoizedState,E===null)return vn(a),null;if(p=(a.flags&128)!==0,P=E.rendering,P===null)if(p)Wl(E,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(P=td(s),P!==null){for(a.flags|=128,Wl(E,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,s=p,E.flags&=14680066,P=E.alternate,P===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,s=P.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return St(Ot,Ot.current&1|2),a.child}s=s.sibling}E.tail!==null&&Tt()>xa&&(a.flags|=128,p=!0,Wl(E,!1),a.lanes=4194304)}else{if(!p)if(s=td(P),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Wl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!At)return vn(a),null}else 2*Tt()-E.renderingStartTime>xa&&c!==1073741824&&(a.flags|=128,p=!0,Wl(E,!1),a.lanes=4194304);E.isBackwards?(P.sibling=a.child,a.child=P):(c=E.last,c!==null?c.sibling=P:a.child=P,E.last=P)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Tt(),a.sibling=null,c=Ot.current,St(Ot,p?c&1|2:c&1),a):(vn(a),null);case 22:case 23:return om(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(nr&1073741824)!==0&&(vn(a),a.subtreeFlags&6&&(a.flags|=8192)):vn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function gP(s,a){switch(mp(a),a.tag){case 1:return Mn(a.type)&&Hu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return wa(),It(jn),It(gn),Pp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ip(a),null;case 13:if(It(Ot),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ga()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return It(Ot),null;case 4:return wa(),null;case 10:return Ep(a.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var ud=!1,_n=!1,yP=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ta(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Vt(s,a,p)}else c.current=null}function Gp(s,a,c){try{c()}catch(p){Vt(s,a,p)}}var w_=!1;function vP(s,a){if(op=rs,s=Jv(),Jf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var P=0,B=-1,H=-1,J=0,de=0,fe=s,ue=null;t:for(;;){for(var Te;fe!==c||y!==0&&fe.nodeType!==3||(B=P+y),fe!==E||p!==0&&fe.nodeType!==3||(H=P+p),fe.nodeType===3&&(P+=fe.nodeValue.length),(Te=fe.firstChild)!==null;)ue=fe,fe=Te;for(;;){if(fe===s)break t;if(ue===c&&++J===y&&(B=P),ue===E&&++de===p&&(H=P),(Te=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=Te}c=B===-1||H===-1?null:{start:B,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(ap={focusedElem:s,selectionRange:c},rs=!1,Pe=a;Pe!==null;)if(a=Pe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Pe=s;else for(;Pe!==null;){a=Pe;try{var Ae=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Re=Ae.memoizedProps,Ft=Ae.memoizedState,Q=a.stateNode,q=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Re:Or(a.type,Re),Ft);Q.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var X=a.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){Vt(a,a.return,ge)}if(s=a.sibling,s!==null){s.return=a.return,Pe=s;break}Pe=a.return}return Ae=w_,w_=!1,Ae}function Kl(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var E=y.destroy;y.destroy=void 0,E!==void 0&&Gp(a,c,E)}y=y.next}while(y!==p)}}function dd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Qp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function E_(s){var a=s.alternate;a!==null&&(s.alternate=null,E_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ei],delete a[Vl],delete a[dp],delete a[eP],delete a[tP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function T_(s){return s.tag===5||s.tag===3||s.tag===4}function S_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||T_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yp(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=$u));else if(p!==4&&(s=s.child,s!==null))for(Yp(s,a,c),s=s.sibling;s!==null;)Yp(s,a,c),s=s.sibling}function Xp(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Xp(s,a,c),s=s.sibling;s!==null;)Xp(s,a,c),s=s.sibling}var dn=null,Dr=!1;function hs(s,a,c){for(c=c.child;c!==null;)x_(s,a,c),c=c.sibling}function x_(s,a,c){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Zs,c)}catch{}switch(c.tag){case 5:_n||Ta(c,a);case 6:var p=dn,y=Dr;dn=null,hs(s,a,c),dn=p,Dr=y,dn!==null&&(Dr?(s=dn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):dn.removeChild(c.stateNode));break;case 18:dn!==null&&(Dr?(s=dn,c=c.stateNode,s.nodeType===8?up(s.parentNode,c):s.nodeType===1&&up(s,c),Ar(s)):up(dn,c.stateNode));break;case 4:p=dn,y=Dr,dn=c.stateNode.containerInfo,Dr=!0,hs(s,a,c),dn=p,Dr=y;break;case 0:case 11:case 14:case 15:if(!_n&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var E=y,P=E.destroy;E=E.tag,P!==void 0&&((E&2)!==0||(E&4)!==0)&&Gp(c,a,P),y=y.next}while(y!==p)}hs(s,a,c);break;case 1:if(!_n&&(Ta(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(B){Vt(c,a,B)}hs(s,a,c);break;case 21:hs(s,a,c);break;case 22:c.mode&1?(_n=(p=_n)||c.memoizedState!==null,hs(s,a,c),_n=p):hs(s,a,c);break;default:hs(s,a,c)}}function b_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new yP),a.forEach(function(p){var y=CP.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Lr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var E=s,P=a,B=P;e:for(;B!==null;){switch(B.tag){case 5:dn=B.stateNode,Dr=!1;break e;case 3:dn=B.stateNode.containerInfo,Dr=!0;break e;case 4:dn=B.stateNode.containerInfo,Dr=!0;break e}B=B.return}if(dn===null)throw Error(n(160));x_(E,P,y),dn=null,Dr=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(J){Vt(y,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)I_(a,s),a=a.sibling}function I_(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Lr(a,s),ri(s),p&4){try{Kl(3,s,s.return),dd(3,s)}catch(Re){Vt(s,s.return,Re)}try{Kl(5,s,s.return)}catch(Re){Vt(s,s.return,Re)}}break;case 1:Lr(a,s),ri(s),p&512&&c!==null&&Ta(c,c.return);break;case 5:if(Lr(a,s),ri(s),p&512&&c!==null&&Ta(c,c.return),s.flags&32){var y=s.stateNode;try{Be(y,"")}catch(Re){Vt(s,s.return,Re)}}if(p&4&&(y=s.stateNode,y!=null)){var E=s.memoizedProps,P=c!==null?c.memoizedProps:E,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&Wi(y,E),Ke(B,P);var J=Ke(B,E);for(P=0;P<H.length;P+=2){var de=H[P],fe=H[P+1];de==="style"?Ce(y,fe):de==="dangerouslySetInnerHTML"?He(y,fe):de==="children"?Be(y,fe):k(y,de,fe,J)}switch(B){case"input":Gs(y,E);break;case"textarea":Gi(y,E);break;case"select":var ue=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?Gn(y,!!E.multiple,Te,!1):ue!==!!E.multiple&&(E.defaultValue!=null?Gn(y,!!E.multiple,E.defaultValue,!0):Gn(y,!!E.multiple,E.multiple?[]:"",!1))}y[Vl]=E}catch(Re){Vt(s,s.return,Re)}}break;case 6:if(Lr(a,s),ri(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,E=s.memoizedProps;try{y.nodeValue=E}catch(Re){Vt(s,s.return,Re)}}break;case 3:if(Lr(a,s),ri(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ar(a.containerInfo)}catch(Re){Vt(s,s.return,Re)}break;case 4:Lr(a,s),ri(s);break;case 13:Lr(a,s),ri(s),y=s.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(em=Tt())),p&4&&b_(s);break;case 22:if(de=c!==null&&c.memoizedState!==null,s.mode&1?(_n=(J=_n)||de,Lr(a,s),_n=J):Lr(a,s),ri(s),p&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!de&&(s.mode&1)!==0)for(Pe=s,de=s.child;de!==null;){for(fe=Pe=de;Pe!==null;){switch(ue=Pe,Te=ue.child,ue.tag){case 0:case 11:case 14:case 15:Kl(4,ue,ue.return);break;case 1:Ta(ue,ue.return);var Ae=ue.stateNode;if(typeof Ae.componentWillUnmount=="function"){p=ue,c=ue.return;try{a=p,Ae.props=a.memoizedProps,Ae.state=a.memoizedState,Ae.componentWillUnmount()}catch(Re){Vt(p,c,Re)}}break;case 5:Ta(ue,ue.return);break;case 22:if(ue.memoizedState!==null){A_(fe);continue}}Te!==null?(Te.return=ue,Pe=Te):A_(fe)}de=de.sibling}e:for(de=null,fe=s;;){if(fe.tag===5){if(de===null){de=fe;try{y=fe.stateNode,J?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=fe.stateNode,H=fe.memoizedProps.style,P=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=ie("display",P))}catch(Re){Vt(s,s.return,Re)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=J?"":fe.memoizedProps}catch(Re){Vt(s,s.return,Re)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Lr(a,s),ri(s),p&4&&b_(s);break;case 21:break;default:Lr(a,s),ri(s)}}function ri(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(T_(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Be(y,""),p.flags&=-33);var E=S_(s);Xp(s,E,y);break;case 3:case 4:var P=p.stateNode.containerInfo,B=S_(s);Yp(s,B,P);break;default:throw Error(n(161))}}catch(H){Vt(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _P(s,a,c){Pe=s,C_(s)}function C_(s,a,c){for(var p=(s.mode&1)!==0;Pe!==null;){var y=Pe,E=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||ud;if(!P){var B=y.alternate,H=B!==null&&B.memoizedState!==null||_n;B=ud;var J=_n;if(ud=P,(_n=H)&&!J)for(Pe=y;Pe!==null;)P=Pe,H=P.child,P.tag===22&&P.memoizedState!==null?R_(y):H!==null?(H.return=P,Pe=H):R_(y);for(;E!==null;)Pe=E,C_(E),E=E.sibling;Pe=y,ud=B,_n=J}P_(s)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Pe=E):P_(s)}}function P_(s){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:_n||dd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!_n)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Or(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&A0(a,E,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}A0(a,P,c)}break;case 5:var B=a.stateNode;if(c===null&&a.flags&4){c=B;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var de=J.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&Ar(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_n||a.flags&512&&Qp(a)}catch(ue){Vt(a,a.return,ue)}}if(a===s){Pe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Pe=c;break}Pe=a.return}}function A_(s){for(;Pe!==null;){var a=Pe;if(a===s){Pe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Pe=c;break}Pe=a.return}}function R_(s){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{dd(4,a)}catch(H){Vt(a,c,H)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(H){Vt(a,y,H)}}var E=a.return;try{Qp(a)}catch(H){Vt(a,E,H)}break;case 5:var P=a.return;try{Qp(a)}catch(H){Vt(a,P,H)}}}catch(H){Vt(a,a.return,H)}if(a===s){Pe=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Pe=B;break}Pe=a.return}}var wP=Math.ceil,hd=M.ReactCurrentDispatcher,Jp=M.ReactCurrentOwner,gr=M.ReactCurrentBatchConfig,at=0,rn=null,zt=null,hn=0,nr=0,Sa=as(0),Yt=0,Gl=null,po=0,fd=0,Zp=0,Ql=null,Un=null,em=0,xa=1/0,ki=null,pd=!1,tm=null,fs=null,md=!1,ps=null,gd=0,Yl=0,nm=null,yd=-1,vd=0;function kn(){return(at&6)!==0?Tt():yd!==-1?yd:yd=Tt()}function ms(s){return(s.mode&1)===0?1:(at&2)!==0&&hn!==0?hn&-hn:rP.transition!==null?(vd===0&&(vd=to()),vd):(s=rt,s!==0||(s=window.event,s=s===void 0?16:xl(s.type)),s)}function Vr(s,a,c,p){if(50<Yl)throw Yl=0,nm=null,Error(n(185));Zi(s,c,p),((at&2)===0||s!==rn)&&(s===rn&&((at&2)===0&&(fd|=c),Yt===4&&gs(s,hn)),Bn(s,p),c===1&&at===0&&(a.mode&1)===0&&(xa=Tt()+500,Wu&&cs()))}function Bn(s,a){var c=s.callbackNode;_i(s,a);var p=eo(s,s===rn?hn:0);if(p===0)c!==null&&_l(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&_l(c),a===1)s.tag===0?nP(N_.bind(null,s)):y0(N_.bind(null,s)),JC(function(){(at&6)===0&&cs()}),c=null;else{switch(ts(p)){case 1:c=Js;break;case 4:c=Yi;break;case 16:c=cr;break;case 536870912:c=vu;break;default:c=cr}c=U_(c,k_.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function k_(s,a){if(yd=-1,vd=0,(at&6)!==0)throw Error(n(327));var c=s.callbackNode;if(ba()&&s.callbackNode!==c)return null;var p=eo(s,s===rn?hn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=_d(s,p);else{a=p;var y=at;at|=2;var E=D_();(rn!==s||hn!==a)&&(ki=null,xa=Tt()+500,go(s,a));do try{SP();break}catch(B){O_(s,B)}while(!0);wp(),hd.current=E,at=y,zt!==null?a=0:(rn=null,hn=0,a=Yt)}if(a!==0){if(a===2&&(y=Xn(s),y!==0&&(p=y,a=rm(s,y))),a===1)throw c=Gl,go(s,0),gs(s,p),Bn(s,Tt()),c;if(a===6)gs(s,p);else{if(y=s.current.alternate,(p&30)===0&&!EP(y)&&(a=_d(s,p),a===2&&(E=Xn(s),E!==0&&(p=E,a=rm(s,E))),a===1))throw c=Gl,go(s,0),gs(s,p),Bn(s,Tt()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:yo(s,Un,ki);break;case 3:if(gs(s,p),(p&130023424)===p&&(a=em+500-Tt(),10<a)){if(eo(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){kn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=cp(yo.bind(null,s,Un,ki),a);break}yo(s,Un,ki);break;case 4:if(gs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var P=31-Pn(p);E=1<<P,P=a[P],P>y&&(y=P),p&=~E}if(p=y,p=Tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*wP(p/1960))-p,10<p){s.timeoutHandle=cp(yo.bind(null,s,Un,ki),p);break}yo(s,Un,ki);break;case 5:yo(s,Un,ki);break;default:throw Error(n(329))}}}return Bn(s,Tt()),s.callbackNode===c?k_.bind(null,s):null}function rm(s,a){var c=Ql;return s.current.memoizedState.isDehydrated&&(go(s,a).flags|=256),s=_d(s,a),s!==2&&(a=Un,Un=c,a!==null&&im(a)),s}function im(s){Un===null?Un=s:Un.push.apply(Un,s)}function EP(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],E=y.getSnapshot;y=y.value;try{if(!kr(E(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gs(s,a){for(a&=~Zp,a&=~fd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Pn(a),p=1<<c;s[c]=-1,a&=~p}}function N_(s){if((at&6)!==0)throw Error(n(327));ba();var a=eo(s,0);if((a&1)===0)return Bn(s,Tt()),null;var c=_d(s,a);if(s.tag!==0&&c===2){var p=Xn(s);p!==0&&(a=p,c=rm(s,p))}if(c===1)throw c=Gl,go(s,0),gs(s,a),Bn(s,Tt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,yo(s,Un,ki),Bn(s,Tt()),null}function sm(s,a){var c=at;at|=1;try{return s(a)}finally{at=c,at===0&&(xa=Tt()+500,Wu&&cs())}}function mo(s){ps!==null&&ps.tag===0&&(at&6)===0&&ba();var a=at;at|=1;var c=gr.transition,p=rt;try{if(gr.transition=null,rt=1,s)return s()}finally{rt=p,gr.transition=c,at=a,(at&6)===0&&cs()}}function om(){nr=Sa.current,It(Sa)}function go(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,XC(c)),zt!==null)for(c=zt.return;c!==null;){var p=c;switch(mp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Hu();break;case 3:wa(),It(jn),It(gn),Pp();break;case 5:Ip(p);break;case 4:wa();break;case 13:It(Ot);break;case 19:It(Ot);break;case 10:Ep(p.type._context);break;case 22:case 23:om()}c=c.return}if(rn=s,zt=s=ys(s.current,null),hn=nr=a,Yt=0,Gl=null,Zp=fd=po=0,Un=Ql=null,uo!==null){for(a=0;a<uo.length;a++)if(c=uo[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,E=c.pending;if(E!==null){var P=E.next;E.next=y,p.next=P}c.pending=p}uo=null}return s}function O_(s,a){do{var c=zt;try{if(wp(),nd.current=od,rd){for(var p=Dt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}rd=!1}if(fo=0,nn=Qt=Dt=null,$l=!1,zl=0,Jp.current=null,c===null||c.return===null){Yt=1,Gl=a,zt=null;break}e:{var E=s,P=c.return,B=c,H=a;if(a=hn,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,de=B,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Te=i_(P);if(Te!==null){Te.flags&=-257,s_(Te,P,B,E,a),Te.mode&1&&r_(E,J,a),a=Te,H=J;var Ae=a.updateQueue;if(Ae===null){var Re=new Set;Re.add(H),a.updateQueue=Re}else Ae.add(H);break e}else{if((a&1)===0){r_(E,J,a),am();break e}H=Error(n(426))}}else if(At&&B.mode&1){var Ft=i_(P);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),s_(Ft,P,B,E,a),vp(Ea(H,B));break e}}E=H=Ea(H,B),Yt!==4&&(Yt=2),Ql===null?Ql=[E]:Ql.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var Q=t_(E,H,a);P0(E,Q);break e;case 1:B=H;var q=E.type,X=E.stateNode;if((E.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(fs===null||!fs.has(X)))){E.flags|=65536,a&=-a,E.lanes|=a;var ge=n_(E,B,a);P0(E,ge);break e}}E=E.return}while(E!==null)}V_(c)}catch(ke){a=ke,zt===c&&c!==null&&(zt=c=c.return);continue}break}while(!0)}function D_(){var s=hd.current;return hd.current=od,s===null?od:s}function am(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rn===null||(po&268435455)===0&&(fd&268435455)===0||gs(rn,hn)}function _d(s,a){var c=at;at|=2;var p=D_();(rn!==s||hn!==a)&&(ki=null,go(s,a));do try{TP();break}catch(y){O_(s,y)}while(!0);if(wp(),at=c,hd.current=p,zt!==null)throw Error(n(261));return rn=null,hn=0,Yt}function TP(){for(;zt!==null;)L_(zt)}function SP(){for(;zt!==null&&!gu();)L_(zt)}function L_(s){var a=F_(s.alternate,s,nr);s.memoizedProps=s.pendingProps,a===null?V_(s):zt=a,Jp.current=null}function V_(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=mP(c,a,nr),c!==null){zt=c;return}}else{if(c=gP(c,a),c!==null){c.flags&=32767,zt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yt=6,zt=null;return}}if(a=a.sibling,a!==null){zt=a;return}zt=a=s}while(a!==null);Yt===0&&(Yt=5)}function yo(s,a,c){var p=rt,y=gr.transition;try{gr.transition=null,rt=1,xP(s,a,c,p)}finally{gr.transition=y,rt=p}return null}function xP(s,a,c,p){do ba();while(ps!==null);if((at&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(Et(s,E),s===rn&&(zt=rn=null,hn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||md||(md=!0,U_(cr,function(){return ba(),null})),E=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||E){E=gr.transition,gr.transition=null;var P=rt;rt=1;var B=at;at|=4,Jp.current=null,vP(s,c),I_(c,s),HC(ap),rs=!!op,ap=op=null,s.current=c,_P(c),Hf(),at=B,rt=P,gr.transition=E}else s.current=c;if(md&&(md=!1,ps=s,gd=y),E=s.pendingLanes,E===0&&(fs=null),_u(c.stateNode),Bn(s,Tt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(pd)throw pd=!1,s=tm,tm=null,s;return(gd&1)!==0&&s.tag!==0&&ba(),E=s.pendingLanes,(E&1)!==0?s===nm?Yl++:(Yl=0,nm=s):Yl=0,cs(),null}function ba(){if(ps!==null){var s=ts(gd),a=gr.transition,c=rt;try{if(gr.transition=null,rt=16>s?16:s,ps===null)var p=!1;else{if(s=ps,ps=null,gd=0,(at&6)!==0)throw Error(n(331));var y=at;for(at|=4,Pe=s.current;Pe!==null;){var E=Pe,P=E.child;if((Pe.flags&16)!==0){var B=E.deletions;if(B!==null){for(var H=0;H<B.length;H++){var J=B[H];for(Pe=J;Pe!==null;){var de=Pe;switch(de.tag){case 0:case 11:case 15:Kl(8,de,E)}var fe=de.child;if(fe!==null)fe.return=de,Pe=fe;else for(;Pe!==null;){de=Pe;var ue=de.sibling,Te=de.return;if(E_(de),de===J){Pe=null;break}if(ue!==null){ue.return=Te,Pe=ue;break}Pe=Te}}}var Ae=E.alternate;if(Ae!==null){var Re=Ae.child;if(Re!==null){Ae.child=null;do{var Ft=Re.sibling;Re.sibling=null,Re=Ft}while(Re!==null)}}Pe=E}}if((E.subtreeFlags&2064)!==0&&P!==null)P.return=E,Pe=P;else e:for(;Pe!==null;){if(E=Pe,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Kl(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,Pe=Q;break e}Pe=E.return}}var q=s.current;for(Pe=q;Pe!==null;){P=Pe;var X=P.child;if((P.subtreeFlags&2064)!==0&&X!==null)X.return=P,Pe=X;else e:for(P=q;Pe!==null;){if(B=Pe,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:dd(9,B)}}catch(ke){Vt(B,B.return,ke)}if(B===P){Pe=null;break e}var ge=B.sibling;if(ge!==null){ge.return=B.return,Pe=ge;break e}Pe=B.return}}if(at=y,cs(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Zs,s)}catch{}p=!0}return p}finally{rt=c,gr.transition=a}}return!1}function j_(s,a,c){a=Ea(c,a),a=t_(s,a,1),s=ds(s,a,1),a=kn(),s!==null&&(Zi(s,1,a),Bn(s,a))}function Vt(s,a,c){if(s.tag===3)j_(s,s,c);else for(;a!==null;){if(a.tag===3){j_(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(fs===null||!fs.has(p))){s=Ea(c,s),s=n_(a,s,1),a=ds(a,s,1),s=kn(),a!==null&&(Zi(a,1,s),Bn(a,s));break}}a=a.return}}function bP(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=kn(),s.pingedLanes|=s.suspendedLanes&c,rn===s&&(hn&c)===c&&(Yt===4||Yt===3&&(hn&130023424)===hn&&500>Tt()-em?go(s,0):Zp|=c),Bn(s,a)}function M_(s,a){a===0&&((s.mode&1)===0?a=1:(a=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var c=kn();s=Pi(s,a),s!==null&&(Zi(s,a,c),Bn(s,c))}function IP(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),M_(s,c)}function CP(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),M_(s,c)}var F_;F_=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||jn.current)Fn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Fn=!1,pP(s,a,c);Fn=(s.flags&131072)!==0}else Fn=!1,At&&(a.flags&1048576)!==0&&v0(a,Gu,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;cd(s,a),s=a.pendingProps;var y=fa(a,gn.current);_a(a,c),y=kp(null,a,p,s,y,c);var E=Np();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Mn(p)?(E=!0,qu(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,xp(a),y.updater=ad,a.stateNode=y,y._reactInternals=a,Mp(a,p,s,c),a=$p(null,a,p,!0,E,c)):(a.tag=0,At&&E&&pp(a),Rn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(cd(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=AP(p),s=Or(p,s),y){case 0:a=Bp(null,a,p,s,c);break e;case 1:a=d_(null,a,p,s,c);break e;case 11:a=o_(null,a,p,s,c);break e;case 14:a=a_(null,a,p,Or(p.type,s),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Or(p,y),Bp(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Or(p,y),d_(s,a,p,y,c);case 3:e:{if(h_(a),s===null)throw Error(n(387));p=a.pendingProps,E=a.memoizedState,y=E.element,C0(s,a),ed(a,p,null,c);var P=a.memoizedState;if(p=P.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=Ea(Error(n(423)),a),a=f_(s,a,p,c,y);break e}else if(p!==y){y=Ea(Error(n(424)),a),a=f_(s,a,p,c,y);break e}else for(tr=os(a.stateNode.containerInfo.firstChild),er=a,At=!0,Nr=null,c=b0(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ga(),p===y){a=Ri(s,a,c);break e}Rn(s,a,p,c)}a=a.child}return a;case 5:return R0(a),s===null&&yp(a),p=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,P=y.children,lp(p,y)?P=null:E!==null&&lp(p,E)&&(a.flags|=32),u_(s,a),Rn(s,a,P,c),a.child;case 6:return s===null&&yp(a),null;case 13:return p_(s,a,c);case 4:return bp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ya(a,null,p,c):Rn(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Or(p,y),o_(s,a,p,y,c);case 7:return Rn(s,a,a.pendingProps,c),a.child;case 8:return Rn(s,a,a.pendingProps.children,c),a.child;case 12:return Rn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,E=a.memoizedProps,P=y.value,St(Xu,p._currentValue),p._currentValue=P,E!==null)if(kr(E.value,P)){if(E.children===y.children&&!jn.current){a=Ri(s,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var B=E.dependencies;if(B!==null){P=E.child;for(var H=B.firstContext;H!==null;){if(H.context===p){if(E.tag===1){H=Ai(-1,c&-c),H.tag=2;var J=E.updateQueue;if(J!==null){J=J.shared;var de=J.pending;de===null?H.next=H:(H.next=de.next,de.next=H),J.pending=H}}E.lanes|=c,H=E.alternate,H!==null&&(H.lanes|=c),Tp(E.return,c,a),B.lanes|=c;break}H=H.next}}else if(E.tag===10)P=E.type===a.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(n(341));P.lanes|=c,B=P.alternate,B!==null&&(B.lanes|=c),Tp(P,c,a),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===a){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}Rn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,_a(a,c),y=pr(y),p=p(y),a.flags|=1,Rn(s,a,p,c),a.child;case 14:return p=a.type,y=Or(p,a.pendingProps),y=Or(p.type,y),a_(s,a,p,y,c);case 15:return l_(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Or(p,y),cd(s,a),a.tag=1,Mn(p)?(s=!0,qu(a)):s=!1,_a(a,c),Z0(a,p,y),Mp(a,p,y,c),$p(null,a,p,!0,s,c);case 19:return g_(s,a,c);case 22:return c_(s,a,c)}throw Error(n(156,a.tag))};function U_(s,a){return Wo(s,a)}function PP(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,a,c,p){return new PP(s,a,c,p)}function lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AP(s){if(typeof s=="function")return lm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Ne)return 14}return 2}function ys(s,a){var c=s.alternate;return c===null?(c=yr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function wd(s,a,c,p,y,E){var P=2;if(p=s,typeof s=="function")lm(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case D:return vo(c.children,y,E,a);case C:P=8,y|=8;break;case N:return s=yr(12,c,a,y|2),s.elementType=N,s.lanes=E,s;case L:return s=yr(13,c,a,y),s.elementType=L,s.lanes=E,s;case ye:return s=yr(19,c,a,y),s.elementType=ye,s.lanes=E,s;case we:return Ed(c,y,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:P=10;break e;case $:P=9;break e;case U:P=11;break e;case Ne:P=14;break e;case _e:P=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=yr(P,c,a,y),a.elementType=s,a.type=p,a.lanes=E,a}function vo(s,a,c,p){return s=yr(7,s,p,a),s.lanes=c,s}function Ed(s,a,c,p){return s=yr(22,s,p,a),s.elementType=we,s.lanes=c,s.stateNode={isHidden:!1},s}function cm(s,a,c){return s=yr(6,s,null,a),s.lanes=c,s}function um(s,a,c){return a=yr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function RP(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function dm(s,a,c,p,y,E,P,B,H){return s=new RP(s,a,c,B,H),a===1?(a=1,E===!0&&(a|=8)):a=0,E=yr(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(E),s}function kP(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function B_(s){if(!s)return ls;s=s._reactInternals;e:{if(xr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Mn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Mn(c))return m0(s,c,a)}return a}function $_(s,a,c,p,y,E,P,B,H){return s=dm(c,p,!0,s,y,E,P,B,H),s.context=B_(null),c=s.current,p=kn(),y=ms(c),E=Ai(p,y),E.callback=a??null,ds(c,E,y),s.current.lanes=y,Zi(s,y,p),Bn(s,p),s}function Td(s,a,c,p){var y=a.current,E=kn(),P=ms(y);return c=B_(c),a.context===null?a.context=c:a.pendingContext=c,a=Ai(E,P),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=ds(y,a,P),s!==null&&(Vr(s,y,P,E),Zu(s,y,P)),P}function Sd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function z_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function hm(s,a){z_(s,a),(s=s.alternate)&&z_(s,a)}function NP(){return null}var H_=typeof reportError=="function"?reportError:function(s){console.error(s)};function fm(s){this._internalRoot=s}xd.prototype.render=fm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Td(s,a,null,null)},xd.prototype.unmount=fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mo(function(){Td(null,s,null,null)}),a[xi]=null}};function xd(s){this._internalRoot=s}xd.prototype.unstable_scheduleHydration=function(s){if(s){var a=xu();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Yr.length&&a!==0&&a<Yr[c].priority;c++);Yr.splice(c,0,s),c===0&&Cu(s)}};function pm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function bd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function q_(){}function OP(s,a,c,p,y){if(y){if(typeof p=="function"){var E=p;p=function(){var J=Sd(P);E.call(J)}}var P=$_(a,p,s,0,null,!1,!1,"",q_);return s._reactRootContainer=P,s[xi]=P.current,Dl(s.nodeType===8?s.parentNode:s),mo(),P}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var B=p;p=function(){var J=Sd(H);B.call(J)}}var H=dm(s,0,!1,null,null,!1,!1,"",q_);return s._reactRootContainer=H,s[xi]=H.current,Dl(s.nodeType===8?s.parentNode:s),mo(function(){Td(a,H,c,p)}),H}function Id(s,a,c,p,y){var E=c._reactRootContainer;if(E){var P=E;if(typeof y=="function"){var B=y;y=function(){var H=Sd(P);B.call(H)}}Td(a,P,s,y)}else P=OP(c,a,s,y,p);return Sd(P)}Tu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Xi(a.pendingLanes);c!==0&&(es(a,c|1),Bn(a,Tt()),(at&6)===0&&(xa=Tt()+500,cs()))}break;case 13:mo(function(){var p=Pi(s,1);if(p!==null){var y=kn();Vr(p,s,1,y)}}),hm(s,1)}},Qo=function(s){if(s.tag===13){var a=Pi(s,134217728);if(a!==null){var c=kn();Vr(a,s,134217728,c)}hm(s,134217728)}},Su=function(s){if(s.tag===13){var a=ms(s),c=Pi(s,a);if(c!==null){var p=kn();Vr(c,s,a,p)}hm(s,a)}},xu=function(){return rt},bu=function(s,a){var c=rt;try{return rt=s,a()}finally{rt=c}},ct=function(s,a,c){switch(a){case"input":if(Gs(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=zu(p);if(!y)throw Error(n(90));Kt(p),Gs(p,y)}}}break;case"textarea":Gi(s,c);break;case"select":a=c.value,a!=null&&Gn(s,!!c.multiple,a,!1)}},ar=sm,Qi=mo;var DP={usingClientEntryPoint:!1,Events:[jl,da,zu,ln,Qn,sm]},Xl={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=vl(s),s===null?null:s.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||NP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Zs=Cd.inject(LP),Yn=Cd}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DP,$n.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(a))throw Error(n(200));return kP(s,a,null,c)},$n.createRoot=function(s,a){if(!pm(s))throw Error(n(299));var c=!1,p="",y=H_;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=dm(s,1,!1,null,null,c,!1,p,y),s[xi]=a.current,Dl(s.nodeType===8?s.parentNode:s),new fm(a)},$n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=vl(a),s=s===null?null:s.stateNode,s},$n.flushSync=function(s){return mo(s)},$n.hydrate=function(s,a,c){if(!bd(a))throw Error(n(200));return Id(null,s,a,!0,c)},$n.hydrateRoot=function(s,a,c){if(!pm(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,E="",P=H_;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=$_(a,null,s,1,c??null,y,!1,E,P),s[xi]=a.current,Dl(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new xd(a)},$n.render=function(s,a,c){if(!bd(a))throw Error(n(200));return Id(null,s,a,!1,c)},$n.unmountComponentAtNode=function(s){if(!bd(s))throw Error(n(40));return s._reactRootContainer?(mo(function(){Id(null,null,s,!1,function(){s._reactRootContainer=null,s[xi]=null})}),!0):!1},$n.unstable_batchedUpdates=sm,$n.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!bd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Id(s,a,c,!1,p)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var Z_;function HP(){if(Z_)return ym.exports;Z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ym.exports=zP(),ym.exports}var ew;function qP(){if(ew)return Pd;ew=1;var t=HP();return Pd.createRoot=t.createRoot,Pd.hydrateRoot=t.hydrateRoot,Pd}var WP=qP(),A=Wh();const it=jP(A);var Zl={},tw;function KP(){if(tw)return Zl;tw=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parse=l,Zl.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const S=new o,R=_.length;if(R<2)return S;const I=(T==null?void 0:T.decode)||m;let V=0;do{const b=_.indexOf("=",V);if(b===-1)break;const k=_.indexOf(";",V),M=k===-1?R:k;if(b>M){V=_.lastIndexOf(";",b-1)+1;continue}const F=u(_,V,b),K=d(_,b,F),D=_.slice(F,K);if(S[D]===void 0){let C=u(_,b+1,M),N=d(_,M,C);const j=I(_.slice(C,N));S[D]=j}V=M+1}while(V<R);return S}function u(_,T,S){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<S);return S}function d(_,T,S){for(;T>S;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return S}function h(_,T,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=R(T);if(!e.test(I))throw new TypeError(`argument val is invalid: ${T}`);let V=_+"="+I;if(!S)return V;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);V+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);V+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);V+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);V+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(V+="; HttpOnly"),S.secure&&(V+="; Secure"),S.partitioned&&(V+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return Zl}KP();var nw="popstate";function GP(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return Ym("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bc(i)}return YP(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QP(){return Math.random().toString(36).substring(2,10)}function rw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ym(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?tl(e):e,state:n,key:e&&e.key||r||QP()}}function bc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let I=m(),V=I==null?null:I-h;h=I,d&&d({action:u,location:R.location,delta:V})}function _(I,V){u="PUSH";let b=Ym(R.location,I,V);h=m()+1;let k=rw(b,h),M=R.createHref(b);try{l.pushState(k,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(M)}o&&d&&d({action:u,location:R.location,delta:1})}function T(I,V){u="REPLACE";let b=Ym(R.location,I,V);h=m();let k=rw(b,h),M=R.createHref(b);l.replaceState(k,"",M),o&&d&&d({action:u,location:R.location,delta:0})}function S(I){return XP(I)}let R={get action(){return u},get location(){return t(i,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(nw,g),d=I,()=>{i.removeEventListener(nw,g),d=null}},createHref(I){return e(i,I)},createURL:S,encodeLocation(I){let V=S(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:T,go(I){return l.go(I)}};return R}function XP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:bc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function AT(t,e,n="/"){return JP(t,e,n,!1)}function JP(t,e,n,r){let i=typeof e=="string"?tl(e):e,o=ji(i.pathname||"/",n);if(o==null)return null;let l=RT(t);ZP(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=uA(o);u=lA(l[d],h,r)}return u}function RT(t,e=[],n=[],r=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Rt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Li([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),RT(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:oA(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of kT(o.path))i(o,l,d)}),e}function kT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=kT(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function ZP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eA=/^:[\w-]+$/,tA=3,nA=2,rA=1,iA=10,sA=-2,iw=t=>t==="*";function oA(t,e){let n=t.split("/"),r=n.length;return n.some(iw)&&(r+=sA),e&&(r+=nA),n.filter(i=>!iw(i)).reduce((i,o)=>i+(eA.test(o)?tA:o===""?rA:iA),r)}function aA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lA(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=oh({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=oh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Li([o,g.pathname]),pathnameBase:pA(Li([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=Li([o,g.pathnameBase]))}return l}function oh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let S=u[_]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function cA(t,e=!1,n=!0){$r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tl(t):t;return{pathname:n?n.startsWith("/")?n:hA(n,e):e,search:mA(r),hash:gA(i)}}function hA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t){let e=fA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sy(t,e,n,r=!1){let i;typeof t=="string"?i=tl(t):(i={...t},Rt(!i.pathname||!i.pathname.includes("?"),wm("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),wm("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),wm("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=dA(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Li=t=>t.join("/").replace(/\/\/+/g,"/"),pA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var vA=["GET",...NT];new Set(vA);var nl=A.createContext(null);nl.displayName="DataRouter";var Kh=A.createContext(null);Kh.displayName="DataRouterState";var OT=A.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var _A=A.createContext(new Map);_A.displayName="Fetchers";var wA=A.createContext(null);wA.displayName="Await";var qr=A.createContext(null);qr.displayName="Navigation";var Kc=A.createContext(null);Kc.displayName="Location";var Er=A.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var oy=A.createContext(null);oy.displayName="RouteError";function EA(t,{relative:e}={}){Rt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(qr),{hash:i,pathname:o,search:l}=Gc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Li([n,o])),r.createHref({pathname:u,search:l,hash:i})}function rl(){return A.useContext(Kc)!=null}function mi(){return Rt(rl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Kc).location}var DT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(t){A.useContext(qr).static||A.useLayoutEffect(t)}function sr(){let{isDataRoute:t}=A.useContext(Er);return t?VA():TA()}function TA(){Rt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(nl),{basename:e,navigator:n}=A.useContext(qr),{matches:r}=A.useContext(Er),{pathname:i}=mi(),o=JSON.stringify(iy(r)),l=A.useRef(!1);return LT(()=>{l.current=!0}),A.useCallback((d,h={})=>{if($r(l.current,DT),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=sy(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Li([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,i,t])}var SA=A.createContext(null);function xA(t){let e=A.useContext(Er).outlet;return e&&A.createElement(SA.Provider,{value:t},e)}function an(){let{matches:t}=A.useContext(Er),e=t[t.length-1];return e?e.params:{}}function Gc(t,{relative:e}={}){let{matches:n}=A.useContext(Er),{pathname:r}=mi(),i=JSON.stringify(iy(n));return A.useMemo(()=>sy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function bA(t,e){return VT(t,e)}function VT(t,e,n,r){var V;Rt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(qr),{matches:o}=A.useContext(Er),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let b=m&&m.path||"";jT(d,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=mi(),_;if(e){let b=typeof e=="string"?tl(e):e;Rt(h==="/"||((V=b.pathname)==null?void 0:V.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${b.pathname}" was given in the \`location\` prop.`),_=b}else _=g;let T=_.pathname||"/",S=T;if(h!=="/"){let b=h.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(b.length).join("/")}let R=AT(t,{pathname:S});$r(m||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),$r(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=RA(R&&R.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Li([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:Li([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&I?A.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function IA(){let t=LA(),e=yA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,l)}var CA=A.createElement(IA,null),PA=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Er.Provider,{value:this.props.routeContext},A.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AA({routeContext:t,match:e,children:n}){let r=A.useContext(nl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Er.Provider,{value:t},n)}function RA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Rt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,S=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,T=h.route.errorElement||CA,l&&(u<0&&m===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):u===m&&(_=!0,S=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),I=()=>{let V;return g?V=T:_?V=S:h.route.Component?V=A.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,A.createElement(AA,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:n!=null},children:V})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?A.createElement(PA,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}function ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(t){let e=A.useContext(nl);return Rt(e,ay(t)),e}function NA(t){let e=A.useContext(Kh);return Rt(e,ay(t)),e}function OA(t){let e=A.useContext(Er);return Rt(e,ay(t)),e}function ly(t){let e=OA(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DA(){return ly("useRouteId")}function LA(){var r;let t=A.useContext(oy),e=NA("useRouteError"),n=ly("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VA(){let{router:t}=kA("useNavigate"),e=ly("useNavigate"),n=A.useRef(!1);return LT(()=>{n.current=!0}),A.useCallback(async(i,o={})=>{$r(n.current,DT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var sw={};function jT(t,e,n){!e&&!sw[t]&&(sw[t]=!0,$r(!1,n))}A.memo(jA);function jA({routes:t,future:e,state:n}){return VT(t,void 0,n,e)}function MA({to:t,replace:e,state:n,relative:r}){Rt(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(qr);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=A.useContext(Er),{pathname:l}=mi(),u=sr(),d=sy(t,iy(o),l,r==="path"),h=JSON.stringify(d);return A.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function MT(t){return xA(t.context)}function vr(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Rt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=tl(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=n,T=A.useMemo(()=>{let S=ji(d,l);return S==null?null:{location:{pathname:S,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return $r(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:A.createElement(qr.Provider,{value:u},A.createElement(Kc.Provider,{children:e,value:T}))}function UA({children:t,location:e}){return bA(Xm(t),e)}function Xm(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){n.push.apply(n,Xm(r.props.children,o));return}Rt(r.type===vr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Xm(r.props.children,o)),n.push(l)}),n}var $d="get",zd="application/x-www-form-urlencoded";function Gh(t){return t!=null&&typeof t.tagName=="string"}function BA(t){return Gh(t)&&t.tagName.toLowerCase()==="button"}function $A(t){return Gh(t)&&t.tagName.toLowerCase()==="form"}function zA(t){return Gh(t)&&t.tagName.toLowerCase()==="input"}function HA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qA(t,e){return t.button===0&&(!e||e==="_self")&&!HA(t)}var Ad=null;function WA(){if(Ad===null)try{new FormData(document.createElement("form"),0),Ad=!1}catch{Ad=!0}return Ad}var KA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(t){return t!=null&&!KA.has(t)?($r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zd}"`),null):t}function GA(t,e){let n,r,i,o,l;if($A(t)){let u=t.getAttribute("action");r=u?ji(u,e):null,n=t.getAttribute("method")||$d,i=Em(t.getAttribute("enctype"))||zd,o=new FormData(t)}else if(BA(t)||zA(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?ji(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||$d,i=Em(t.getAttribute("formenctype"))||Em(u.getAttribute("enctype"))||zd,o=new FormData(u,t),!WA()){let{name:h,type:m,value:g}=t;if(m==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,g)}}else{if(Gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,r=null,i=zd,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function cy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function QA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XA(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await QA(o,n);return l.links?l.links():[]}return[]}));return tR(r.flat(1).filter(YA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ow(t,e,n,r,i,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function JA(t,e,{includeHydrateFallback:n}={}){return ZA(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function ZA(t){return[...new Set(t)]}function eR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(eR(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nR=new Set([100,101,204,205]);function rR(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ji(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function FT(){let t=A.useContext(nl);return cy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iR(){let t=A.useContext(Kh);return cy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uy=A.createContext(void 0);uy.displayName="FrameworkContext";function UT(){let t=A.useContext(uy);return cy(t,"You must render this element inside a <HydratedRouter> element"),t}function sR(t,e){let n=A.useContext(uy),[r,i]=A.useState(!1),[o,l]=A.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=V=>{V.forEach(b=>{l(b.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),A.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:ec(u,T),onBlur:ec(d,S),onMouseEnter:ec(h,T),onMouseLeave:ec(m,S),onTouchStart:ec(g,T)}]:[!1,_,{}]}function ec(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oR({page:t,...e}){let{router:n}=FT(),r=A.useMemo(()=>AT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(lR,{page:t,matches:r,...e}):null}function aR(t){let{manifest:e,routeModules:n}=UT(),[r,i]=A.useState([]);return A.useEffect(()=>{let o=!1;return XA(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function lR({page:t,matches:e,...n}){let r=mi(),{manifest:i,routeModules:o}=UT(),{basename:l}=FT(),{loaderData:u,matches:d}=iR(),h=A.useMemo(()=>ow(t,e,d,i,r,"data"),[t,e,d,i,r]),m=A.useMemo(()=>ow(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(e.forEach(V=>{var k;let b=i.routes[V.route.id];!b||!b.hasLoader||(!h.some(M=>M.route.id===V.route.id)&&V.route.id in u&&((k=o[V.route.id])!=null&&k.shouldRevalidate)||b.hasClientLoader?R=!0:S.add(V.route.id))}),S.size===0)return[];let I=rR(t,l);return R&&S.size>0&&I.searchParams.set("_routes",e.filter(V=>S.has(V.route.id)).map(V=>V.route.id).join(",")),[I.pathname+I.search]},[l,u,r,i,h,e,t,o]),_=A.useMemo(()=>JA(m,i),[m,i]),T=aR(m);return A.createElement(A.Fragment,null,g.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:R})=>A.createElement("link",{key:S,...R})))}function cR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BT&&(window.__reactRouterVersion="7.6.2")}catch{}function uR({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=GP({window:n,v5Compat:!0}));let i=r.current,[o,l]=A.useState({action:i.action,location:i.location}),u=A.useCallback(d=>{A.startTransition(()=>l(d))},[l]);return A.useLayoutEffect(()=>i.listen(u),[i,u]),A.createElement(FA,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zT=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:S}=A.useContext(qr),R=typeof h=="string"&&$T.test(h),I,V=!1;if(typeof h=="string"&&R&&(I=h,BT))try{let N=new URL(window.location.href),j=h.startsWith("//")?new URL(N.protocol+h):new URL(h),$=ji(j.pathname,S);j.origin===N.origin&&$!=null?h=$+j.search+j.hash:V=!0}catch{$r(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=EA(h,{relative:i}),[k,M,F]=sR(r,_),K=pR(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(N){e&&e(N),N.defaultPrevented||K(N)}let C=A.createElement("a",{..._,...F,href:I||b,onClick:V||o?e:D,ref:cR(T,M),target:d,"data-discover":!R&&n==="render"?"true":void 0});return k&&!R?A.createElement(A.Fragment,null,C,A.createElement(oR,{page:b})):C});zT.displayName="Link";var dR=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...h},m){let g=Gc(l,{relative:h.relative}),_=mi(),T=A.useContext(Kh),{navigator:S,basename:R}=A.useContext(qr),I=T!=null&&_R(g)&&u===!0,V=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,b=_.pathname,k=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(b=b.toLowerCase(),k=k?k.toLowerCase():null,V=V.toLowerCase()),k&&R&&(k=ji(k,R)||k);const M=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let F=b===V||!i&&b.startsWith(V)&&b.charAt(M)==="/",K=k!=null&&(k===V||!i&&k.startsWith(V)&&k.charAt(V.length)==="/"),D={isActive:F,isPending:K,isTransitioning:I},C=F?e:void 0,N;typeof r=="function"?N=r(D):N=[r,F?"active":null,K?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(D):o;return A.createElement(zT,{...h,"aria-current":C,className:N,ref:m,style:j,to:l,viewTransition:u},typeof d=="function"?d(D):d)});dR.displayName="NavLink";var hR=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=$d,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let S=yR(),R=vR(u,{relative:h}),I=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&$T.test(u),b=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let M=k.nativeEvent.submitter,F=(M==null?void 0:M.getAttribute("formmethod"))||l;S(M||k.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:i,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return A.createElement("form",{ref:T,method:I,action:R,onSubmit:r?d:b,..._,"data-discover":!V&&t==="render"?"true":void 0})});hR.displayName="Form";function fR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(t){let e=A.useContext(nl);return Rt(e,fR(t)),e}function pR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=sr(),d=mi(),h=Gc(t,{relative:o});return A.useCallback(m=>{if(qA(m,e)){m.preventDefault();let g=n!==void 0?n:bc(d)===bc(h);u(t,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,n,r,e,t,i,o,l])}var mR=0,gR=()=>`__${String(++mR)}__`;function yR(){let{router:t}=HT("useSubmit"),{basename:e}=A.useContext(qr),n=DA();return A.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=GA(r,e);if(i.navigate===!1){let m=i.fetcherKey||gR();await t.fetch(m,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function vR(t,{relative:e}={}){let{basename:n}=A.useContext(qr),r=A.useContext(Er);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Gc(t||".",{relative:e})},l=mi();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Li([n,o.pathname])),bc(o)}function _R(t,e={}){let n=A.useContext(OT);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HT("useViewTransitionState"),i=Gc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return oh(i.pathname,l)!=null||oh(i.pathname,o)!=null}[...nR];const wR=()=>{};var aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ER=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(n[m],n[g],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ER(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||g==null)throw new TR;const _=o<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(t){const e=qT(t);return WT.encodeByteArray(e,!0)},ah=function(t){return SR(t).replace(/\./g,"")},KT=function(t){try{return WT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>xR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof aw>"u")return;const t=aw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KT(t[1]);return e&&JSON.parse(e)},Qh=()=>{try{return wR()||bR()||IR()||CR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GT=t=>{var e,n;return(n=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PR=t=>{const e=GT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QT=()=>{var t;return(t=Qh())===null||t===void 0?void 0:t.config},YT=t=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){return t.endsWith(".cloudworkstations.dev")}async function XT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ah(JSON.stringify(n)),ah(JSON.stringify(l)),""].join(".")}const dc={};function kR(){const t={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?t.emulator.push(e):t.prod.push(e);return t}function NR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lw=!1;function JT(t,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||dc[t]===e||dc[t]||lw)return;dc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=kR().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{lw=!0,l()},_}function m(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=NR(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),R=n("learnmore"),I=document.getElementById(R)||document.createElement("a"),V=n("preprendIcon"),b=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;u(k),m(I,R);const M=h();d(b,V),k.append(b,S,I,M),document.body.appendChild(k)}o?(S.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function DR(){var t;const e=(t=Qh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function BR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FirebaseError";class qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$R,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?zR(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new qi(i,u,r)}}function zR(t,e){return t.replace(HR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HR=/\{\$([^}]+)}/g;function qR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(cw(o)&&cw(l)){if(!Ro(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WR(t,e){const n=new KR(t,e);return n.subscribe.bind(n)}class KR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tm),i.error===void 0&&(i.error=Tm),i.complete===void 0&&(i.complete=Tm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XR(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YR(t){return t===Eo?void 0:t}function XR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const ZR={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},e2=tt.INFO,t2={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},n2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let dy=class{constructor(e){this.name=e,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}};const r2=(t,e)=>e.some(n=>t instanceof n);let uw,dw;function i2(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return dw||(dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Jm=new WeakMap,eS=new WeakMap,Sm=new WeakMap,hy=new WeakMap;function o2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(As(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ZT.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function a2(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Jm.set(t,e)}let Zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l2(t){Zm=t(Zm)}function c2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xm(this),e,...n);return eS.set(r,e.sort?e.sort():[e]),As(r)}:s2().includes(t)?function(...e){return t.apply(xm(this),e),As(ZT.get(this))}:function(...e){return As(t.apply(xm(this),e))}}function u2(t){return typeof t=="function"?c2(t):(t instanceof IDBTransaction&&a2(t),r2(t,i2())?new Proxy(t,Zm):t)}function As(t){if(t instanceof IDBRequest)return o2(t);if(Sm.has(t))return Sm.get(t);const e=u2(t);return e!==t&&(Sm.set(t,e),hy.set(e,t)),e}const xm=t=>hy.get(t);function d2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=As(l);return r&&l.addEventListener("upgradeneeded",d=>{r(As(l.result),d.oldVersion,d.newVersion,As(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const h2=["get","getKey","getAll","getAllKeys","count"],f2=["put","add","delete","clear"],bm=new Map;function hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=f2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h2.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return bm.set(e,o),o}l2(t=>({...t,get:(e,n,r)=>hw(e,n)||t.get(e,n,r),has:(e,n)=>!!hw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eg="@firebase/app",fw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new dy("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",v2="@firebase/analytics",_2="@firebase/app-check-compat",w2="@firebase/app-check",E2="@firebase/auth",T2="@firebase/auth-compat",S2="@firebase/database",x2="@firebase/data-connect",b2="@firebase/database-compat",I2="@firebase/functions",C2="@firebase/functions-compat",P2="@firebase/installations",A2="@firebase/installations-compat",R2="@firebase/messaging",k2="@firebase/messaging-compat",N2="@firebase/performance",O2="@firebase/performance-compat",D2="@firebase/remote-config",L2="@firebase/remote-config-compat",V2="@firebase/storage",j2="@firebase/storage-compat",M2="@firebase/firestore",F2="@firebase/ai",U2="@firebase/firestore-compat",B2="firebase",$2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",z2={[eg]:"fire-core",[g2]:"fire-core-compat",[v2]:"fire-analytics",[y2]:"fire-analytics-compat",[w2]:"fire-app-check",[_2]:"fire-app-check-compat",[E2]:"fire-auth",[T2]:"fire-auth-compat",[S2]:"fire-rtdb",[x2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[I2]:"fire-fn",[C2]:"fire-fn-compat",[P2]:"fire-iid",[A2]:"fire-iid-compat",[R2]:"fire-fcm",[k2]:"fire-fcm-compat",[N2]:"fire-perf",[O2]:"fire-perf-compat",[D2]:"fire-rc",[L2]:"fire-rc-compat",[V2]:"fire-gcs",[j2]:"fire-gcs-compat",[M2]:"fire-fst",[U2]:"fire-fst-compat",[F2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,H2=new Map,ng=new Map;function pw(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(ng.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(const n of lh.values())pw(n,t);for(const n of H2.values())pw(n,t);return!0}function fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Qc("app","Firebase",q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=$2;function tS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Rs.create("bad-app-name",{appName:String(i)});if(n||(n=QT()),!n)throw Rs.create("no-options");const o=lh.get(i);if(o){if(Ro(n,o.options)&&Ro(r,o.config))return o;throw Rs.create("duplicate-app",{appName:i})}const l=new JR(i);for(const d of ng.values())l.addComponent(d);const u=new W2(n,r,l);return lh.set(i,u),u}function nS(t=tg){const e=lh.get(t);if(!e&&t===tg&&QT())return tS();if(!e)throw Rs.create("no-app",{appName:t});return e}function ks(t,e,n){var r;let i=(r=z2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(u.join(" "));return}za(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-heartbeat-database",G2=1,Ic="firebase-heartbeat-store";let Im=null;function rS(){return Im||(Im=d2(K2,G2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),Im}async function Q2(t){try{const n=(await rS()).transaction(Ic),r=await n.objectStore(Ic).get(iS(t));return await n.done,r}catch(e){if(e instanceof qi)Mi.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function mw(t,e){try{const r=(await rS()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,iS(t)),await r.done}catch(n){if(n instanceof qi)Mi.warn(n.message);else{const r=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1024,X2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ek(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>X2){const l=tk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gw(),{heartbeatsToSend:r,unsentEntries:i}=Z2(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mi.warn(n),""}}}function gw(){return new Date().toISOString().substring(0,10)}function Z2(t,e=Y2){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),yw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?BR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yw(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}function tk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){za(new ko("platform-logger",e=>new p2(e),"PRIVATE")),za(new ko("heartbeat",e=>new J2(e),"PRIVATE")),ks(eg,fw,t),ks(eg,fw,"esm2017"),ks("fire-js","")}nk("");var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,sS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function N(){}N.prototype=C.prototype,D.D=C.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(j,$,U){for(var L=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)L[ye-2]=arguments[ye];return C.prototype[$].apply(j,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,C,N){N||(N=0);var j=Array(16);if(typeof C=="string")for(var $=0;16>$;++$)j[$]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for($=0;16>$;++$)j[$]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=D.g[0],N=D.g[1],$=D.g[2];var U=D.g[3],L=C+(U^N&($^U))+j[0]+3614090360&4294967295;C=N+(L<<7&4294967295|L>>>25),L=U+($^C&(N^$))+j[1]+3905402710&4294967295,U=C+(L<<12&4294967295|L>>>20),L=$+(N^U&(C^N))+j[2]+606105819&4294967295,$=U+(L<<17&4294967295|L>>>15),L=N+(C^$&(U^C))+j[3]+3250441966&4294967295,N=$+(L<<22&4294967295|L>>>10),L=C+(U^N&($^U))+j[4]+4118548399&4294967295,C=N+(L<<7&4294967295|L>>>25),L=U+($^C&(N^$))+j[5]+1200080426&4294967295,U=C+(L<<12&4294967295|L>>>20),L=$+(N^U&(C^N))+j[6]+2821735955&4294967295,$=U+(L<<17&4294967295|L>>>15),L=N+(C^$&(U^C))+j[7]+4249261313&4294967295,N=$+(L<<22&4294967295|L>>>10),L=C+(U^N&($^U))+j[8]+1770035416&4294967295,C=N+(L<<7&4294967295|L>>>25),L=U+($^C&(N^$))+j[9]+2336552879&4294967295,U=C+(L<<12&4294967295|L>>>20),L=$+(N^U&(C^N))+j[10]+4294925233&4294967295,$=U+(L<<17&4294967295|L>>>15),L=N+(C^$&(U^C))+j[11]+2304563134&4294967295,N=$+(L<<22&4294967295|L>>>10),L=C+(U^N&($^U))+j[12]+1804603682&4294967295,C=N+(L<<7&4294967295|L>>>25),L=U+($^C&(N^$))+j[13]+4254626195&4294967295,U=C+(L<<12&4294967295|L>>>20),L=$+(N^U&(C^N))+j[14]+2792965006&4294967295,$=U+(L<<17&4294967295|L>>>15),L=N+(C^$&(U^C))+j[15]+1236535329&4294967295,N=$+(L<<22&4294967295|L>>>10),L=C+($^U&(N^$))+j[1]+4129170786&4294967295,C=N+(L<<5&4294967295|L>>>27),L=U+(N^$&(C^N))+j[6]+3225465664&4294967295,U=C+(L<<9&4294967295|L>>>23),L=$+(C^N&(U^C))+j[11]+643717713&4294967295,$=U+(L<<14&4294967295|L>>>18),L=N+(U^C&($^U))+j[0]+3921069994&4294967295,N=$+(L<<20&4294967295|L>>>12),L=C+($^U&(N^$))+j[5]+3593408605&4294967295,C=N+(L<<5&4294967295|L>>>27),L=U+(N^$&(C^N))+j[10]+38016083&4294967295,U=C+(L<<9&4294967295|L>>>23),L=$+(C^N&(U^C))+j[15]+3634488961&4294967295,$=U+(L<<14&4294967295|L>>>18),L=N+(U^C&($^U))+j[4]+3889429448&4294967295,N=$+(L<<20&4294967295|L>>>12),L=C+($^U&(N^$))+j[9]+568446438&4294967295,C=N+(L<<5&4294967295|L>>>27),L=U+(N^$&(C^N))+j[14]+3275163606&4294967295,U=C+(L<<9&4294967295|L>>>23),L=$+(C^N&(U^C))+j[3]+4107603335&4294967295,$=U+(L<<14&4294967295|L>>>18),L=N+(U^C&($^U))+j[8]+1163531501&4294967295,N=$+(L<<20&4294967295|L>>>12),L=C+($^U&(N^$))+j[13]+2850285829&4294967295,C=N+(L<<5&4294967295|L>>>27),L=U+(N^$&(C^N))+j[2]+4243563512&4294967295,U=C+(L<<9&4294967295|L>>>23),L=$+(C^N&(U^C))+j[7]+1735328473&4294967295,$=U+(L<<14&4294967295|L>>>18),L=N+(U^C&($^U))+j[12]+2368359562&4294967295,N=$+(L<<20&4294967295|L>>>12),L=C+(N^$^U)+j[5]+4294588738&4294967295,C=N+(L<<4&4294967295|L>>>28),L=U+(C^N^$)+j[8]+2272392833&4294967295,U=C+(L<<11&4294967295|L>>>21),L=$+(U^C^N)+j[11]+1839030562&4294967295,$=U+(L<<16&4294967295|L>>>16),L=N+($^U^C)+j[14]+4259657740&4294967295,N=$+(L<<23&4294967295|L>>>9),L=C+(N^$^U)+j[1]+2763975236&4294967295,C=N+(L<<4&4294967295|L>>>28),L=U+(C^N^$)+j[4]+1272893353&4294967295,U=C+(L<<11&4294967295|L>>>21),L=$+(U^C^N)+j[7]+4139469664&4294967295,$=U+(L<<16&4294967295|L>>>16),L=N+($^U^C)+j[10]+3200236656&4294967295,N=$+(L<<23&4294967295|L>>>9),L=C+(N^$^U)+j[13]+681279174&4294967295,C=N+(L<<4&4294967295|L>>>28),L=U+(C^N^$)+j[0]+3936430074&4294967295,U=C+(L<<11&4294967295|L>>>21),L=$+(U^C^N)+j[3]+3572445317&4294967295,$=U+(L<<16&4294967295|L>>>16),L=N+($^U^C)+j[6]+76029189&4294967295,N=$+(L<<23&4294967295|L>>>9),L=C+(N^$^U)+j[9]+3654602809&4294967295,C=N+(L<<4&4294967295|L>>>28),L=U+(C^N^$)+j[12]+3873151461&4294967295,U=C+(L<<11&4294967295|L>>>21),L=$+(U^C^N)+j[15]+530742520&4294967295,$=U+(L<<16&4294967295|L>>>16),L=N+($^U^C)+j[2]+3299628645&4294967295,N=$+(L<<23&4294967295|L>>>9),L=C+($^(N|~U))+j[0]+4096336452&4294967295,C=N+(L<<6&4294967295|L>>>26),L=U+(N^(C|~$))+j[7]+1126891415&4294967295,U=C+(L<<10&4294967295|L>>>22),L=$+(C^(U|~N))+j[14]+2878612391&4294967295,$=U+(L<<15&4294967295|L>>>17),L=N+(U^($|~C))+j[5]+4237533241&4294967295,N=$+(L<<21&4294967295|L>>>11),L=C+($^(N|~U))+j[12]+1700485571&4294967295,C=N+(L<<6&4294967295|L>>>26),L=U+(N^(C|~$))+j[3]+2399980690&4294967295,U=C+(L<<10&4294967295|L>>>22),L=$+(C^(U|~N))+j[10]+4293915773&4294967295,$=U+(L<<15&4294967295|L>>>17),L=N+(U^($|~C))+j[1]+2240044497&4294967295,N=$+(L<<21&4294967295|L>>>11),L=C+($^(N|~U))+j[8]+1873313359&4294967295,C=N+(L<<6&4294967295|L>>>26),L=U+(N^(C|~$))+j[15]+4264355552&4294967295,U=C+(L<<10&4294967295|L>>>22),L=$+(C^(U|~N))+j[6]+2734768916&4294967295,$=U+(L<<15&4294967295|L>>>17),L=N+(U^($|~C))+j[13]+1309151649&4294967295,N=$+(L<<21&4294967295|L>>>11),L=C+($^(N|~U))+j[4]+4149444226&4294967295,C=N+(L<<6&4294967295|L>>>26),L=U+(N^(C|~$))+j[11]+3174756917&4294967295,U=C+(L<<10&4294967295|L>>>22),L=$+(C^(U|~N))+j[2]+718787259&4294967295,$=U+(L<<15&4294967295|L>>>17),L=N+(U^($|~C))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+($+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+$&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var N=C-this.blockSize,j=this.B,$=this.h,U=0;U<C;){if($==0)for(;U<=N;)i(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<C;)if(j[$++]=D.charCodeAt(U++),$==this.blockSize){i(this,j),$=0;break}}else for(;U<C;)if(j[$++]=D[U++],$==this.blockSize){i(this,j),$=0;break}}this.h=$,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var N=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=N&255,N/=256;for(this.u(D),D=Array(16),C=N=0;4>C;++C)for(var j=0;32>j;j+=8)D[N++]=this.g[C]>>>j&255;return D};function o(D,C){var N=u;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=C(D)}function l(D,C){this.h=C;for(var N=[],j=!0,$=D.length-1;0<=$;$--){var U=D[$]|0;j&&U==C||(N[$]=U,j=!1)}this.g=N}var u={};function d(D){return-128<=D&&128>D?o(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return I(h(-D));for(var C=[],N=1,j=0;D>=N;j++)C[j]=D/N|0,N*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=h(Math.pow(C,8)),j=g,$=0;$<D.length;$+=8){var U=Math.min(8,D.length-$),L=parseInt(D.substring($,$+U),C);8>U?(U=h(Math.pow(C,U)),j=j.j(U).add(h(L))):(j=j.j(N),j=j.add(h(L)))}return j}var g=d(0),_=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(R(this))return-I(this).m();for(var D=0,C=1,N=0;N<this.g.length;N++){var j=this.i(N);D+=(0<=j?j:4294967296+j)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(R(this))return"-"+I(this).toString(D);for(var C=h(Math.pow(D,6)),N=this,j="";;){var $=M(N,C).g;N=V(N,$.j(C));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=$,S(N))return U+j;for(;6>U.length;)U="0"+U;j=U+j}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=V(this,D),R(D)?-1:S(D)?0:1};function I(D){for(var C=D.g.length,N=[],j=0;j<C;j++)N[j]=~D.g[j];return new l(N,~D.h).add(_)}t.abs=function(){return R(this)?I(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),N=[],j=0,$=0;$<=C;$++){var U=j+(this.i($)&65535)+(D.i($)&65535),L=(U>>>16)+(this.i($)>>>16)+(D.i($)>>>16);j=L>>>16,U&=65535,L&=65535,N[$]=L<<16|U}return new l(N,N[N.length-1]&-2147483648?-1:0)};function V(D,C){return D.add(I(C))}t.j=function(D){if(S(this)||S(D))return g;if(R(this))return R(D)?I(this).j(I(D)):I(I(this).j(D));if(R(D))return I(this.j(I(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var C=this.g.length+D.g.length,N=[],j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(var $=0;$<D.g.length;$++){var U=this.i(j)>>>16,L=this.i(j)&65535,ye=D.i($)>>>16,Ne=D.i($)&65535;N[2*j+2*$]+=L*Ne,b(N,2*j+2*$),N[2*j+2*$+1]+=U*Ne,b(N,2*j+2*$+1),N[2*j+2*$+1]+=L*ye,b(N,2*j+2*$+1),N[2*j+2*$+2]+=U*ye,b(N,2*j+2*$+2)}for(j=0;j<C;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=C;j<2*C;j++)N[j]=0;return new l(N,0)};function b(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function k(D,C){this.g=D,this.h=C}function M(D,C){if(S(C))throw Error("division by zero");if(S(D))return new k(g,g);if(R(D))return C=M(I(D),C),new k(I(C.g),I(C.h));if(R(C))return C=M(D,I(C)),new k(I(C.g),C.h);if(30<D.g.length){if(R(D)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var N=_,j=C;0>=j.l(D);)N=F(N),j=F(j);var $=K(N,1),U=K(j,1);for(j=K(j,2),N=K(N,2);!S(j);){var L=U.add(j);0>=L.l(D)&&($=$.add(N),U=L),j=K(j,1),N=K(N,1)}return C=V(D,$.j(C)),new k($,C)}for($=g;0<=D.l(C);){for(N=Math.max(1,Math.floor(D.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),U=h(N),L=U.j(C);R(L)||0<L.l(D);)N-=j,U=h(N),L=U.j(C);S(U)&&(U=_),$=$.add(U),D=V(D,L)}return new k($,D)}t.A=function(D){return M(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),N=[],j=0;j<C;j++)N[j]=this.i(j)&D.i(j);return new l(N,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),N=[],j=0;j<C;j++)N[j]=this.i(j)|D.i(j);return new l(N,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),N=[],j=0;j<C;j++)N[j]=this.i(j)^D.i(j);return new l(N,this.h^D.h)};function F(D){for(var C=D.g.length+1,N=[],j=0;j<C;j++)N[j]=D.i(j)<<1|D.i(j-1)>>>31;return new l(N,D.h)}function K(D,C){var N=C>>5;C%=32;for(var j=D.g.length-N,$=[],U=0;U<j;U++)$[U]=0<C?D.i(U+N)>>>C|D.i(U+N+1)<<32-C:D.i(U+N);return new l($,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Ns=l}).apply(typeof vw<"u"?vw:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oS,ac,aS,Hd,rg,lS,cS,uS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,x){return f==Array.prototype||f==Object.prototype||(f[w]=x.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var w=0;w<f.length;++w){var x=f[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var x=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var G=f[O];if(!(G in x))break e;x=x[G]}f=f[f.length-1],O=x[f],w=w(O),w!=O&&w!=null&&e(x,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var x=0,O=!1,G={next:function(){if(!O&&x<f.length){var ee=x++;return{value:w(ee,f[ee]),done:!1}}return O=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function m(f,w,x){return f.call.apply(f.bind,arguments)}function g(f,w,x){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,O),f.apply(w,G)}}return function(){return f.apply(w,arguments)}}function _(f,w,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,w){var x=Array.prototype.slice.call(arguments,1);return function(){var O=x.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function S(f,w){function x(){}x.prototype=w.prototype,f.aa=w.prototype,f.prototype=new x,f.prototype.constructor=f,f.Qb=function(O,G,ee){for(var ve=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)ve[vt-2]=arguments[vt];return w.prototype[G].apply(O,ve)}}function R(f){const w=f.length;if(0<w){const x=Array(w);for(let O=0;O<w;O++)x[O]=f[O];return x}return[]}function I(f,w){for(let x=1;x<arguments.length;x++){const O=arguments[x];if(d(O)){const G=f.length||0,ee=O.length||0;f.length=G+ee;for(let ve=0;ve<ee;ve++)f[G+ve]=O[ve]}else f.push(O)}}class V{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(f){return/^[\s\xa0]*$/.test(f)}function k(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function M(f){return M[" "](f),f}M[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function K(f,w,x){for(const O in f)w.call(x,f[O],O,f)}function D(f,w){for(const x in f)w.call(void 0,f[x],x,f)}function C(f){const w={};for(const x in f)w[x]=f[x];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,w){let x,O;for(let G=1;G<arguments.length;G++){O=arguments[G];for(x in O)f[x]=O[x];for(let ee=0;ee<N.length;ee++)x=N[ee],Object.prototype.hasOwnProperty.call(O,x)&&(f[x]=O[x])}}function $(f){var w=1;f=f.split(":");const x=[];for(;0<w&&f.length;)x.push(f.shift()),w--;return f.length&&x.push(f.join(":")),x}function U(f){u.setTimeout(()=>{throw f},0)}function L(){var f=le;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,x){const O=Ne.get();O.set(w,x),this.h?this.h.next=O:this.g=O,this.h=O}}var Ne=new V(()=>new _e,f=>f.reset());class _e{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Y=!1,le=new ye,re=()=>{const f=u.Promise.resolve(void 0);we=()=>{f.then(z)}};var z=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(x){U(x)}var w=Ne;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}Y=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};u.addEventListener("test",x,w),u.removeEventListener("test",x,w)}catch{}return f}();function Oe(f,w){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var x=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(F){e:{try{M(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else x=="mouseover"?w=f.fromElement:x=="mouseout"&&(w=f.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ze[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Oe.aa.h.call(this)}}S(Oe,me);var ze={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function lt(f,w,x,O,G){this.listener=f,this.proxy=null,this.src=w,this.type=x,this.capture=!!O,this.ha=G,this.key=++Ye,this.da=this.fa=!1}function _t(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function wt(f){this.src=f,this.g={},this.h=0}wt.prototype.add=function(f,w,x,O,G){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var ve=kt(f,w,O,G);return-1<ve?(w=f[ve],x||(w.fa=!1)):(w=new lt(w,this.src,ee,!!O,G),w.fa=x,f.push(w)),w};function Kt(f,w){var x=w.type;if(x in f.g){var O=f.g[x],G=Array.prototype.indexOf.call(O,w,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(O,G,1),ee&&(_t(w),f.g[x].length==0&&(delete f.g[x],f.h--))}}function kt(f,w,x,O){for(var G=0;G<f.length;++G){var ee=f[G];if(!ee.da&&ee.listener==w&&ee.capture==!!x&&ee.ha==O)return G}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),yi={};function Wi(f,w,x,O,G){if(Array.isArray(w)){for(var ee=0;ee<w.length;ee++)Wi(f,w[ee],x,O,G);return null}return x=ce(x),f&&f[et]?f.K(w,x,h(O)?!!O.capture:!1,G):Gs(f,w,x,!1,O,G)}function Gs(f,w,x,O,G,ee){if(!w)throw Error("Invalid event type");var ve=h(G)?!!G.capture:!!G,vt=Gr(f);if(vt||(f[gi]=vt=new wt(f)),x=vt.add(w,x,O,ve,ee),x.proxy)return x;if(O=vi(),x.proxy=O,O.src=f,O.listener=x,f.addEventListener)xe||(G=ve),G===void 0&&(G=!1),f.addEventListener(w.toString(),O,G);else if(f.attachEvent)f.attachEvent(Gn(w.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return x}function vi(){function f(x){return w.call(f.src,f.listener,x)}const w=Kr;return f}function Ki(f,w,x,O,G){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)Ki(f,w[ee],x,O,G);else O=h(O)?!!O.capture:!!O,x=ce(x),f&&f[et]?(f=f.i,w=String(w).toString(),w in f.g&&(ee=f.g[w],x=kt(ee,x,O,G),-1<x&&(_t(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete f.g[w],f.h--)))):f&&(f=Gr(f))&&(w=f.g[w.toString()],f=-1,w&&(f=kt(w,x,O,G)),(x=-1<f?w[f]:null)&&or(x))}function or(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[et])Kt(w.i,f);else{var x=f.type,O=f.proxy;w.removeEventListener?w.removeEventListener(x,O,f.capture):w.detachEvent?w.detachEvent(Gn(x),O):w.addListener&&w.removeListener&&w.removeListener(O),(x=Gr(w))?(Kt(x,f),x.h==0&&(x.src=null,w[gi]=null)):_t(f)}}}function Gn(f){return f in yi?yi[f]:yi[f]="on"+f}function Kr(f,w){if(f.da)f=!0;else{w=new Oe(w,this);var x=f.listener,O=f.ha||f.src;f.fa&&or(f),f=x.call(O,w)}return f}function Gr(f){return f=f[gi],f instanceof wt?f:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(f){return typeof f=="function"?f:(f[Gi]||(f[Gi]=function(w){return f.handleEvent(w)}),f[Gi])}function W(){Z.call(this),this.i=new wt(this),this.M=this,this.F=null}S(W,Z),W.prototype[et]=!0,W.prototype.removeEventListener=function(f,w,x,O){Ki(this,f,w,x,O)};function oe(f,w){var x,O=f.F;if(O)for(x=[];O;O=O.F)x.push(O);if(f=f.M,O=w.type||w,typeof w=="string")w=new me(w,f);else if(w instanceof me)w.target=w.target||f;else{var G=w;w=new me(O,f),j(w,G)}if(G=!0,x)for(var ee=x.length-1;0<=ee;ee--){var ve=w.g=x[ee];G=he(ve,O,!0,w)&&G}if(ve=w.g=f,G=he(ve,O,!0,w)&&G,G=he(ve,O,!1,w)&&G,x)for(ee=0;ee<x.length;ee++)ve=w.g=x[ee],G=he(ve,O,!1,w)&&G}W.prototype.N=function(){if(W.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var x=f.g[w],O=0;O<x.length;O++)_t(x[O]);delete f.g[w],f.h--}}this.F=null},W.prototype.K=function(f,w,x,O){return this.i.add(String(f),w,!1,x,O)},W.prototype.L=function(f,w,x,O){return this.i.add(String(f),w,!0,x,O)};function he(f,w,x,O){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,ee=0;ee<w.length;++ee){var ve=w[ee];if(ve&&!ve.da&&ve.capture==x){var vt=ve.listener,Gt=ve.ha||ve.src;ve.fa&&Kt(f.i,ve),G=vt.call(Gt,O)!==!1&&G}}return G&&!O.defaultPrevented}function He(f,w,x){if(typeof f=="function")x&&(f=_(f,x));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function Be(f){f.g=He(()=>{f.g=null,f.i&&(f.i=!1,Be(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Ze extends Z{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(f){Z.call(this),this.h=f,this.g={}}S(ne,Z);var ie=[];function Ce(f){K(f.g,function(w,x){this.g.hasOwnProperty(x)&&or(w)},f),f.g={}}ne.prototype.N=function(){ne.aa.N.call(this),Ce(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Se=u.JSON.stringify,Ee=u.JSON.parse,Ke=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ht(){}ht.prototype.h=null;function mt(f){return f.h||(f.h=f.i())}function ct(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ft(){me.call(this,"d")}S(ft,me);function Nt(){me.call(this,"c")}S(Nt,me);var ln={},Qn=null;function ar(){return Qn=Qn||new W}ln.La="serverreachability";function Qi(f){me.call(this,ln.La,f)}S(Qi,me);function lr(f){const w=ar();oe(w,new Qi(w))}ln.STAT_EVENT="statevent";function gl(f,w){me.call(this,ln.STAT_EVENT,f),this.stat=w}S(gl,me);function Mt(f){const w=ar();oe(w,new gl(w,f))}ln.Ma="timingevent";function $o(f,w){me.call(this,ln.Ma,f),this.size=w}S($o,me);function Tr(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function Ys(f,w,x,O,G,ee){f.info(function(){if(f.g)if(ee)for(var ve="",vt=ee.split("&"),Gt=0;Gt<vt.length;Gt++){var st=vt[Gt].split("=");if(1<st.length){var tn=st[0];st=st[1];var $t=tn.split("_");ve=2<=$t.length&&$t[1]=="type"?ve+(tn+"="+st+"&"):ve+(tn+"=redacted&")}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+O+") [attempt "+G+"]: "+w+`
`+x+`
`+ve})}function zo(f,w,x,O,G,ee,ve){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+G+"]: "+w+`
`+x+`
`+ee+" "+ve})}function Sr(f,w,x,O){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+zf(f,x)+(O?" "+O:"")})}function yl(f,w){f.info(function(){return"TIMEOUT: "+w})}Qs.prototype.info=function(){};function zf(f,w){if(!f.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(f=0;f<x.length;f++)if(Array.isArray(x[f])){var O=x[f];if(!(2>O.length)){var G=O[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ve=1;ve<G.length;ve++)G[ve]=""}}}}return Se(x)}catch{return w}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Xs(){}S(Xs,ht),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},xr=new Xs;function br(f,w,x,O){this.j=f,this.i=w,this.l=x,this.R=O||1,this.U=new ne(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mu}function mu(){this.i=null,this.g="",this.h=!1}var vl={},qo={};function Wo(f,w,x){f.L=1,f.v=es(Xn(w)),f.m=x,f.P=!0,_l(f,null)}function _l(f,w){f.F=Date.now(),Tt(f),f.A=Xn(f.v);var x=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),ns(x.i,"t",O),f.C=0,x=f.j.J,f.h=new mu,f.g=Ou(f.j,x?w:null,!f.m),0<f.O&&(f.M=new Ze(_(f.Y,f,f.g),f.O)),w=f.U,x=f.g,O=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(ie[0]=G.toString()),G=ie);for(var ee=0;ee<G.length;ee++){var ve=Wi(x,G[ee],O||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),lr(),Ys(f.i,f.u,f.A,f.l,f.R,f.m)}br.prototype.ca=function(f){f=f.target;const w=this.M;w&&Vn(f)==3?w.j():this.Y(f)},br.prototype.Y=function(f){try{if(f==this.g)e:{const $t=Vn(this.g);var w=this.g.Ba();const dr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||bl(this.g)))){this.J||$t!=4||w==7||(w==8||0>=dr?lr(3):lr(2)),Js(this);var x=this.g.Z();this.X=x;t:if(gu(this)){var O=bl(this.g);f="";var G=O.length,ee=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),Yi(this);var ve="";break t}this.h.i=new u.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,f+=this.h.i.decode(O[w],{stream:!(ee&&w==G-1)});O.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=x==200,zo(this.i,this.u,this.A,this.l,this.R,$t,x),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,Gt=this.g;if((vt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(vt)){var st=vt;break t}}st=null}if(x=st)Sr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wl(this,x);else{this.o=!1,this.s=3,Mt(12),cr(this),Yi(this);break e}}if(this.P){x=!0;let Zn;for(;!this.J&&this.C<ve.length;)if(Zn=Hf(this,ve),Zn==qo){$t==4&&(this.s=4,Mt(14),x=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==vl){this.s=4,Mt(15),Sr(this.i,this.l,ve,"[Invalid Chunk]"),x=!1;break}else Sr(this.i,this.l,Zn,null),wl(this,Zn);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ve.length!=0||this.h.h||(this.s=1,Mt(16),x=!1),this.o=this.o&&x,!x)Sr(this.i,this.l,ve,"[Invalid Chunked Response]"),cr(this),Yi(this);else if(0<ve.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Cl(tn),tn.M=!0,Mt(11))}}else Sr(this.i,this.l,ve,null),wl(this,ve);$t==4&&cr(this),this.o&&!this.J&&($t==4?ra(this.j,this):(this.o=!1,Tt(this)))}else Jo(this.g),x==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),cr(this),Yi(this)}}}catch{}finally{}};function gu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Hf(f,w){var x=f.C,O=w.indexOf(`
`,x);return O==-1?qo:(x=Number(w.substring(x,O)),isNaN(x)?vl:(O+=1,O+x>w.length?qo:(w=w.slice(O,O+x),f.C=O+x,w)))}br.prototype.cancel=function(){this.J=!0,cr(this)};function Tt(f){f.S=Date.now()+f.I,yu(f,f.I)}function yu(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Tr(_(f.ba,f),w)}function Js(f){f.B&&(u.clearTimeout(f.B),f.B=null)}br.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(yl(this.i,this.A),this.L!=2&&(lr(),Mt(17)),cr(this),this.s=2,Yi(this)):yu(this,this.S-f)};function Yi(f){f.j.G==0||f.J||ra(f.j,f)}function cr(f){Js(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Ce(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function wl(f,w){try{var x=f.j;if(x.G!=0&&(x.g==f||Pn(x.h,f))){if(!f.K&&Pn(x.h,f)&&x.G==3){try{var O=x.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var G=O;if(G[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<f.F)na(x),Rr(x);else break e;ta(x),Mt(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=Tr(_(x.Za,x),6e3));if(1>=_u(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Si(x,11)}else if((f.K||x.g==f)&&na(x),!b(w))for(G=x.Da.g.parse(w),w=0;w<G.length;w++){let st=G[w];if(x.T=st[0],st=st[1],x.G==2)if(st[0]=="c"){x.K=st[1],x.ia=st[2];const tn=st[3];tn!=null&&(x.la=tn,x.j.info("VER="+x.la));const $t=st[4];$t!=null&&(x.Aa=$t,x.j.info("SVER="+x.Aa));const dr=st[5];dr!=null&&typeof dr=="number"&&0<dr&&(O=1.5*dr,x.L=O,x.j.info("backChannelRequestTimeoutMs_="+O)),O=x;const Zn=f.g;if(Zn){const so=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var ee=O.h;ee.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(El(ee,ee.h),ee.h=null))}if(O.D){const sa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(O.ya=sa,Et(O.I,O.D,sa))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-f.F,x.j.info("Handshake RTT: "+x.R+"ms")),O=x;var ve=f;if(O.qa=Nu(O,O.J?O.ia:null,O.W),ve.K){wu(O.h,ve);var vt=ve,Gt=O.L;Gt&&(vt.I=Gt),vt.B&&(Js(vt),Tt(vt)),O.g=ve}else io(O);0<x.i.length&&Jr(x)}else st[0]!="stop"&&st[0]!="close"||Si(x,7);else x.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Si(x,7):un(x):st[0]!="noop"&&x.l&&x.l.ta(st),x.v=0)}}lr(4)}catch{}}var vu=class{constructor(f,w){this.g=f,this.map=w}};function Zs(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _u(f){return f.h?1:f.g?f.g.size:0}function Pn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function El(f,w){f.g?f.g.add(w):f.h=w}function wu(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Zs.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Eu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const x of f.g.values())w=w.concat(x.D);return w}return R(f.i)}function Ko(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],x=f.length,O=0;O<x;O++)w.push(f[O]);return w}w=[],x=0;for(O in f)w[x++]=f[O];return w}function Go(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var x=0;x<f;x++)w.push(x);return w}w=[],x=0;for(const O in f)w[x++]=O;return w}}}function Xi(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var x=Go(f),O=Ko(f),G=O.length,ee=0;ee<G;ee++)w.call(void 0,O[ee],x&&x[ee],f)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qf(f,w){if(f){f=f.split("&");for(var x=0;x<f.length;x++){var O=f[x].indexOf("="),G=null;if(0<=O){var ee=f[x].substring(0,O);G=f[x].substring(O+1)}else ee=f[x];w(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function _i(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _i){this.h=f.h,to(this,f.j),this.o=f.o,this.g=f.g,Ji(this,f.s),this.l=f.l;var w=f.i,x=new Qr;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),Zi(this,x),this.m=f.m}else f&&(w=String(f).match(eo))?(this.h=!1,to(this,w[1]||"",!0),this.o=rt(w[2]||""),this.g=rt(w[3]||"",!0),Ji(this,w[4]),this.l=rt(w[5]||"",!0),Zi(this,w[6]||"",!0),this.m=rt(w[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}_i.prototype.toString=function(){var f=[],w=this.j;w&&f.push(ts(w,Qo,!0),":");var x=this.g;return(x||w=="file")&&(f.push("//"),(w=this.o)&&f.push(ts(w,Qo,!0),"@"),f.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&f.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(ts(x,x.charAt(0)=="/"?xu:Su,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",ts(x,Tl)),f.join("")};function Xn(f){return new _i(f)}function to(f,w,x){f.j=x?rt(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Ji(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Zi(f,w,x){w instanceof Qr?(f.i=w,Yr(f.i,f.h)):(x||(w=ts(w,bu)),f.i=new Qr(w,f.h))}function Et(f,w,x){f.i.set(w,x)}function es(f){return Et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function rt(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ts(f,w,x){return typeof f=="string"?(f=encodeURI(f).replace(w,Tu),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Tu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qo=/[#\/\?@]/g,Su=/[#\?:]/g,xu=/[#\?]/g,bu=/[#\?@]/g,Tl=/#/g;function Qr(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function cn(f){f.g||(f.g=new Map,f.h=0,f.i&&qf(f.i,function(w,x){f.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=Qr.prototype,t.add=function(f,w){cn(this),this.i=null,f=ur(this,f);var x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(w),this.h+=1,this};function Ir(f,w){cn(f),w=ur(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Cr(f,w){return cn(f),w=ur(f,w),f.g.has(w)}t.forEach=function(f,w){cn(this),this.g.forEach(function(x,O){x.forEach(function(G){f.call(w,G,O,this)},this)},this)},t.na=function(){cn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let O=0;O<w.length;O++){const G=f[O];for(let ee=0;ee<G.length;ee++)x.push(w[O])}return x},t.V=function(f){cn(this);let w=[];if(typeof f=="string")Cr(this,f)&&(w=w.concat(this.g.get(ur(this,f))));else{f=Array.from(this.g.values());for(let x=0;x<f.length;x++)w=w.concat(f[x])}return w},t.set=function(f,w){return cn(this),this.i=null,f=ur(this,f),Cr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function ns(f,w,x){Ir(f,w),0<x.length&&(f.i=null,f.g.set(ur(f,w),R(x)),f.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var O=w[x];const ee=encodeURIComponent(String(O)),ve=this.V(O);for(O=0;O<ve.length;O++){var G=ee;ve[O]!==""&&(G+="="+encodeURIComponent(String(ve[O]))),f.push(G)}}return this.i=f.join("&")};function ur(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Yr(f,w){w&&!f.j&&(cn(f),f.i=null,f.g.forEach(function(x,O){var G=O.toLowerCase();O!=G&&(Ir(this,O),ns(this,G,x))},f)),f.j=w}function Wf(f,w){const x=new Qs;if(u.Image){const O=new Image;O.onload=T(Ln,x,"TestLoadImage: loaded",!0,w,O),O.onerror=T(Ln,x,"TestLoadImage: error",!1,w,O),O.onabort=T(Ln,x,"TestLoadImage: abort",!1,w,O),O.ontimeout=T(Ln,x,"TestLoadImage: timeout",!1,w,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else w(!1)}function Iu(f,w){const x=new Qs,O=new AbortController,G=setTimeout(()=>{O.abort(),Ln(x,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:O.signal}).then(ee=>{clearTimeout(G),ee.ok?Ln(x,"TestPingServer: ok",!0,w):Ln(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Ln(x,"TestPingServer: error",!1,w)})}function Ln(f,w,x,O,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),O(x)}catch{}}function Kf(){this.g=new Ke}function Cu(f,w,x){const O=x||"";try{Xi(f,function(G,ee){let ve=G;h(G)&&(ve=Se(G)),w.push(O+ee+"="+encodeURIComponent(ve))})}catch(G){throw w.push(O+"type="+encodeURIComponent("_badmap")),G}}function wi(f){this.l=f.Ub||null,this.j=f.eb||!1}S(wi,ht),wi.prototype.g=function(){return new no(this.l,this.j)},wi.prototype.i=function(f){return function(){return f}}({});function no(f,w){W.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(no,W),t=no.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Ar(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Pr(this):Ar(this),this.readyState==3&&Pu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Pr(this))},t.Qa=function(f){this.g&&(this.response=f,Pr(this))},t.ga=function(){this.g&&Pr(this)};function Pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ar(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=w.next();return f.join(`\r
`)};function Ar(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ei(f){let w="";return K(f,function(x,O){w+=O,w+=":",w+=x,w+=`\r
`}),w}function rs(f,w,x){e:{for(O in x){var O=!1;break e}O=!0}O||(x=Ei(x),typeof f=="string"?x!=null&&encodeURIComponent(String(x)):Et(f,w,x))}function Pt(f){W.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Pt,W);var Gf=/^https?$/i,Sl=["POST","PUT"];t=Pt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,x,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?mt(this.o):mt(xr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ee){ro(this,ee);return}if(f=x||"",x=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var G in O)x.set(G,O[G]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ee of O.keys())x.set(ee,O.get(ee));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Sl,w,void 0))||O||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of x)this.g.setRequestHeader(ee,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){ro(this,ee)}};function ro(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Yo(f),Jn(f)}function Yo(f){f.A||(f.A=!0,oe(f,"complete"),oe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,oe(this,"complete"),oe(this,"abort"),Jn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xl(this):this.bb())},t.bb=function(){xl(this)};function xl(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Vn(f)!=4||f.Z()!=2)){if(f.u&&Vn(f)==4)He(f.Ea,0,f);else if(oe(f,"readystatechange"),Vn(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var O;if(O=ve===0){var G=String(f.D).match(eo)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),O=!Gf.test(G?G.toLowerCase():"")}x=O}if(x)oe(f,"complete"),oe(f,"success");else{f.m=6;try{var ee=2<Vn(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Yo(f)}}finally{Jn(f)}}}}function Jn(f,w){if(f.g){Xo(f);const x=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||oe(f,"ready");try{x.onreadystatechange=O}catch{}}}function Xo(f){f.I&&(u.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Vn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Ee(w)}};function bl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(f){const w={};f=(f.g&&2<=Vn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(b(f[O]))continue;var x=$(f[O]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=w[G]||[];w[G]=ee,ee.push(x)}D(w,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(f,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||w}function Il(f){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,f),this.cb=Xr("retryDelaySeedMs",1e4,f),this.Wa=Xr("forwardChannelMaxRetries",2,f),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(f&&f.concurrentRequestLimit),this.Da=new Kf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Il.prototype,t.la=8,t.G=1,t.connect=function(f,w,x,O){Mt(0),this.W=f,this.H=w||{},x&&O!==void 0&&(this.H.OSID=x,this.H.OAID=O),this.F=this.X,this.I=Nu(this,null,this.W),Jr(this)};function un(f){if(Zo(f),f.G==3){var w=f.U++,x=Xn(f.I);if(Et(x,"SID",f.K),Et(x,"RID",w),Et(x,"TYPE","terminate"),Ti(f,x),w=new br(f,f.j,w),w.L=2,w.v=es(Xn(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=w.v,x=!0),x||(w.g=Ou(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Tt(w)}ku(f)}function Rr(f){f.g&&(Cl(f),f.g.cancel(),f.g=null)}function Zo(f){Rr(f),f.u&&(u.clearTimeout(f.u),f.u=null),na(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Jr(f){if(!Yn(f.h)&&!f.s){f.s=!0;var w=f.Ga;we||re(),Y||(we(),Y=!0),le.add(w,f),f.B=0}}function Qf(f,w){return _u(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Tr(_(f.Ga,f,w),Ru(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new br(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=C(ee),j(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var O=this.i[x];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=is(this,G,w),x=Xn(this.I),Et(x,"RID",f),Et(x,"CVER",22),this.D&&Et(x,"X-HTTP-Session-Id",this.D),Ti(this,x),ee&&(this.O?w="headers="+encodeURIComponent(String(Ei(ee)))+"&"+w:this.m&&rs(x,this.m,ee)),El(this.h,G),this.Ua&&Et(x,"TYPE","init"),this.P?(Et(x,"$req",w),Et(x,"SID","null"),G.T=!0,Wo(G,x,null)):Wo(G,x,w),this.G=2}}else this.G==3&&(f?ea(this,f):this.i.length==0||Yn(this.h)||ea(this))};function ea(f,w){var x;w?x=w.l:x=f.U++;const O=Xn(f.I);Et(O,"SID",f.K),Et(O,"RID",x),Et(O,"AID",f.T),Ti(f,O),f.m&&f.o&&rs(O,f.m,f.o),x=new br(f,f.j,x,f.B+1),f.m===null&&(x.H=f.o),w&&(f.i=w.D.concat(f.i)),w=is(f,x,1e3),x.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),El(f.h,x),Wo(x,O,w)}function Ti(f,w){f.H&&K(f.H,function(x,O){Et(w,O,x)}),f.l&&Xi({},function(x,O){Et(w,O,x)})}function is(f,w,x){x=Math.min(f.i.length,x);var O=f.l?_(f.l.Na,f.l,f):null;e:{var G=f.i;let ee=-1;for(;;){const ve=["count="+x];ee==-1?0<x?(ee=G[0].g,ve.push("ofs="+ee)):ee=0:ve.push("ofs="+ee);let vt=!0;for(let Gt=0;Gt<x;Gt++){let st=G[Gt].g;const tn=G[Gt].map;if(st-=ee,0>st)ee=Math.max(0,G[Gt].g-100),vt=!1;else try{Cu(tn,ve,"req"+st+"_")}catch{O&&O(tn)}}if(vt){O=ve.join("&");break e}}}return f=f.i.splice(0,x),w.D=f,O}function io(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;we||re(),Y||(we(),Y=!0),le.add(w,f),f.v=0}}function ta(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Tr(_(f.Fa,f),Ru(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Tr(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Rr(this),Au(this))};function Cl(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Au(f){f.g=new br(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Xn(f.qa);Et(w,"RID","rpc"),Et(w,"SID",f.K),Et(w,"AID",f.T),Et(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Et(w,"TO",f.ja),Et(w,"TYPE","xmlhttp"),Ti(f,w),f.m&&f.o&&rs(w,f.m,f.o),f.L&&(f.g.I=f.L);var x=f.g;f=f.ia,x.L=1,x.v=es(Xn(w)),x.m=null,x.P=!0,_l(x,f)}t.Za=function(){this.C!=null&&(this.C=null,Rr(this),ta(this),Mt(19))};function na(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ra(f,w){var x=null;if(f.g==w){na(f),Cl(f),f.g=null;var O=2}else if(Pn(f.h,w))x=w.D,wu(f.h,w),O=1;else return;if(f.G!=0){if(w.o)if(O==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var G=f.B;O=ar(),oe(O,new $o(O,x)),Jr(f)}else io(f);else if(G=w.s,G==3||G==0&&0<w.X||!(O==1&&Qf(f,w)||O==2&&ta(f)))switch(x&&0<x.length&&(w=f.h,w.i=w.i.concat(x)),G){case 1:Si(f,5);break;case 4:Si(f,10);break;case 3:Si(f,6);break;default:Si(f,2)}}}function Ru(f,w){let x=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(x*=2),x*w}function Si(f,w){if(f.j.info("Error code "+w),w==2){var x=_(f.fb,f),O=f.Xa;const G=!O;O=new _i(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||to(O,"https"),es(O),G?Wf(O.toString(),x):Iu(O.toString(),x)}else Mt(2);f.G=0,f.l&&f.l.sa(w),ku(f),Zo(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function ku(f){if(f.G=0,f.ka=[],f.l){const w=Eu(f.h);(w.length!=0||f.i.length!=0)&&(I(f.ka,w),I(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Nu(f,w,x){var O=x instanceof _i?Xn(x):new _i(x);if(O.g!="")w&&(O.g=w+"."+O.g),Ji(O,O.s);else{var G=u.location;O=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var ee=new _i(null);O&&to(ee,O),w&&(ee.g=w),G&&Ji(ee,G),x&&(ee.l=x),O=ee}return x=f.D,w=f.ya,x&&w&&Et(O,x,w),Et(O,"VER",f.la),Ti(f,O),O}function Ou(f,w,x){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Pt(new wi({eb:x})):new Pt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pl(){}t=Pl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ia(){}ia.prototype.g=function(f,w){return new An(f,w)};function An(f,w){W.call(this),this.g=new Il(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!b(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Zr(this)}S(An,W),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){un(this.g)},An.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.u&&(x={},x.__data__=Se(f),f=x);w.i.push(new vu(w.Ya++,f)),w.G==3&&Jr(w)},An.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,An.aa.N.call(this)};function Du(f){ft.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const x in w){f=x;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}S(Du,ft);function Lu(){Nt.call(this),this.status=1}S(Lu,Nt);function Zr(f){this.g=f}S(Zr,Pl),Zr.prototype.ua=function(){oe(this.g,"a")},Zr.prototype.ta=function(f){oe(this.g,new Du(f))},Zr.prototype.sa=function(f){oe(this.g,new Lu)},Zr.prototype.ra=function(){oe(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,uS=function(){return new ia},cS=function(){return ar()},lS=ln,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Hd=Ho,pu.COMPLETE="complete",aS=pu,ct.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",W.prototype.listen=W.prototype.K,ac=ct,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,oS=Pt}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",ww="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new dy("@firebase/firestore");function Aa(){return No.logLevel}function be(t,...e){if(No.logLevel<=tt.DEBUG){const n=e.map(py);No.debug(`Firestore (${ol}): ${t}`,...n)}}function Fi(t,...e){if(No.logLevel<=tt.ERROR){const n=e.map(py);No.error(`Firestore (${ol}): ${t}`,...n)}}function Ha(t,...e){if(No.logLevel<=tt.WARN){const n=e.map(py);No.warn(`Firestore (${ol}): ${t}`,...n)}}function py(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dS(t,r,n)}function dS(t,e,n){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fi(r),new Error(r)}function yt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dS(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class ik{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sk{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new hS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class ok{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ak{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ok(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ew(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ck(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function ig(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Xe(r,i);{const o=fS(),l=uk(o.encode(Tw(t,n)),o.encode(Tw(e,n)));return l!==0?l:Xe(r,i)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function Tw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function uk(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function qa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,xw=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xw);return new Wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sw)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Wt(0,0))}static max(){return new qe(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__name__";class oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=oi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const r=oi.isNumericId(e),i=oi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oi.extractNumericId(e).compare(oi.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class Ct extends oi{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const dk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends oi{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return dk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new pn([bw])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Ie(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ct.fromString(e))}static fromName(e){return new De(Ct.fromString(e).popFirst(5))}static empty(){return new De(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=-1;function hk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Ls(i,De.empty(),e)}function fk(t){return new Ls(t.readTime,t.key,Cc)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(qe.min(),De.empty(),Cc)}static max(){return new Ls(qe.max(),De.empty(),Cc)}}function pk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==mk)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&n()},d=>r(d))}),l=!0,o===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(m=>{l[h]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new ae((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function yk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-1;function Xh(t){return t==null}function ch(t){return t===0&&1/t==-1/0}function vk(t){return typeof t=="number"&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="";function _k(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Iw(e)),e=wk(t.get(n),e);return Iw(e)}function wk(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case mS:n+="";break;default:n+=o}}return n}function Iw(t){return t+mS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??fn.RED,this.left=i??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new fn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new rr([])}unionWith(e){let n=new Jt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yS("Invalid base64 string: "+o):o}}(e);return new mn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=Ek.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="server_timestamp",_S="__type__",wS="__previous_value__",ES="__local_write_time__";function gy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_S])===null||n===void 0?void 0:n.stringValue)===vS}function Jh(t){const e=t.mapValue.fields[wS];return gy(e)?Jh(e):e}function Pc(t){const e=Vs(t.mapValue.fields[ES].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i,o,l,u,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const uh="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",Sk="__max__",Nd={mapValue:{}},SS="__vector__",dh="value";function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gy(t)?4:bk(t)?9007199254740991:xk(t)?10:11:Fe(28295,{value:t})}function fi(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Vs(i.timestampValue),u=Vs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return js(i.bytesValue).isEqual(js(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ut(i.doubleValue),u=Ut(o.doubleValue);return l===u?ch(l)===ch(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Cw(l)!==Cw(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!fi(l[d],u[d])))return!1;return!0}(t,e);default:return Fe(52216,{left:t})}}function Rc(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Ut(o.integerValue||o.doubleValue),d=Ut(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(Pc(t),Pc(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return function(o,l){const u=js(o),d=js(l);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Xe(u[h],d[h]);if(m!==0)return m}return Xe(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Xe(Ut(o.latitude),Ut(l.latitude));return u!==0?u:Xe(Ut(o.longitude),Ut(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rw(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,h,m;const g=o.fields||{},_=l.fields||{},T=(u=g[dh])===null||u===void 0?void 0:u.arrayValue,S=(d=_[dh])===null||d===void 0?void 0:d.arrayValue,R=Xe(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:Rw(T,S)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===Nd.mapValue&&l===Nd.mapValue)return 0;if(o===Nd.mapValue)return 1;if(l===Nd.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=ig(d[g],m[g]);if(_!==0)return _;const T=Wa(u[d[g]],h[m[g]]);if(T!==0)return T}return Xe(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Fe(23264,{Pe:n})}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Vs(t),r=Vs(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function Rw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Wa(n[i],r[i]);if(o)return o}return Xe(n.length,r.length)}function Ka(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${sg(n.fields[l])}`;return i+"}"}(t.mapValue):Fe(61005,{value:t})}function qd(t){switch(Ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+qd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hs(r.fields,(o,l)=>{i+=o.length+qd(l)}),i}(t.mapValue);default:throw Fe(13486,{value:t})}}function kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function yy(t){return!!t&&"arrayValue"in t}function Nw(t){return!!t&&"nullValue"in t}function Ow(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function xk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TS])===null||n===void 0?void 0:n.stringValue)===SS}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Sk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=hc(l):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hn(hc(this.value))}}function xS(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new pn([n]);if(Wd(r)){const o=xS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Tn(e,0,qe.min(),qe.min(),qe.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new Tn(e,2,n,qe.min(),qe.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,qe.min(),qe.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function Dw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Wa(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ik(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class qt extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pk(e,n,r):n==="array-contains"?new kk(e,r):n==="in"?new Nk(e,r):n==="not-in"?new Ok(e,r):n==="array-contains-any"?new Dk(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ak(e,r):new Rk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wa(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new zr(e,n)}matches(e){return IS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function IS(t){return t.op==="and"}function CS(t){return Ck(t)&&IS(t)}function Ck(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function ag(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Ka(t.value);if(CS(t))return t.filters.map(e=>ag(e)).join(",");{const e=t.filters.map(n=>ag(n)).join(",");return`${t.op}(${e})`}}function PS(t,e){return t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&PS(l,i.filters[u]),!0):!1}(t,e):void Fe(19439)}function AS(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"}(t):"Filter"}class Pk extends qt{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ak extends qt{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rk extends qt{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class kk extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yy(n)&&Rc(n.arrayValue,this.value)}}class Nk extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rc(this.value.arrayValue,n)}}class Ok extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rc(this.value.arrayValue,n)}}class Dk extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function Vw(t,e=null,n=[],r=[],i=null,o=null,l=null){return new Lk(t,e,n,r,i,o,l)}function vy(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ka(r)).join(",")),e.Ie=n}return e.Ie}function _y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ik(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function lg(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Vk(t,e,n,r,i,o,l,u){return new cl(t,e,n,r,i,o,l,u)}function Zh(t){return new cl(t)}function jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kS(t){return t.collectionGroup!==null}function fc(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Jt(pn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new kc(o,r))}),n.has(pn.keyField().canonicalString())||e.Ee.push(new kc(pn.keyField(),r))}return e.Ee}function li(t){const e=We(t);return e.de||(e.de=jk(e,fc(t))),e.de}function jk(t,e){if(t.limitType==="F")return Vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new kc(i.field,o)});const n=t.endAt?new hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hh(t.startAt.position,t.startAt.inclusive):null;return Vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ug(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return _y(li(t),li(e))&&t.limitType===e.limitType}function NS(t){return`${vy(li(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AS(i)).join(", ")}]`),Xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ka(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ka(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function tf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of fc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=Dw(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,fc(r),i)||r.endAt&&!function(l,u,d){const h=Dw(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,fc(r),i))}(t,e)}function Mk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let r=!1;for(const i of fc(t)){const o=Fk(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Fk(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(o,l,u){const d=l.data.field(o),h=u.data.field(o);return d!==null&&h!==null?Wa(d,h):Fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Lt(De.comparator);function Ui(){return Uk}const DS=new Lt(De.comparator);function lc(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=DS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function So(){return pc()}function VS(){return pc()}function pc(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bk=new Lt(De.comparator),$k=new Jt(De.comparator);function nt(...t){let e=$k;for(const n of t)e=e.add(n);return e}const zk=new Jt(Xe);function Hk(){return zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function jS(t){return{integerValue:""+t}}function qk(t,e){return vk(e)?jS(e):wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function Wk(t,e,n){return t instanceof Nc?function(i,o){const l={fields:{[_S]:{stringValue:vS},[ES]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gy(o)&&(o=Jh(o)),o&&(l.fields[wS]=o),{mapValue:l}}(n,e):t instanceof Oc?FS(t,e):t instanceof Dc?US(t,e):function(i,o){const l=MS(i,o),u=Mw(l)+Mw(i.Re);return og(l)&&og(i.Re)?jS(u):wy(i.serializer,u)}(t,e)}function Kk(t,e,n){return t instanceof Oc?FS(t,e):t instanceof Dc?US(t,e):n}function MS(t,e){return t instanceof fh?function(r){return og(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nc extends nf{}class Oc extends nf{constructor(e){super(),this.elements=e}}function FS(t,e){const n=BS(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Dc extends nf{constructor(e){super(),this.elements=e}}function US(t,e){let n=BS(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class fh extends nf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Mw(t){return Ut(t.integerValue||t.doubleValue)}function BS(t){return yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.field=e,this.transform=n}}function Qk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oc&&i instanceof Oc||r instanceof Dc&&i instanceof Dc?qa(r.elements,i.elements,fi):r instanceof fh&&i instanceof fh?fi(r.Re,i.Re):r instanceof Nc&&i instanceof Nc}(t.transform,e.transform)}class Yk{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rf{}function $S(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ey(t.key,Br.none()):new Xc(t.key,t.data,Br.none());{const n=t.data,r=Hn.empty();let i=new Jt(pn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new qs(t.key,r,new rr(i.toArray()),Br.none())}}function Xk(t,e,n){t instanceof Xc?function(i,o,l){const u=i.value.clone(),d=Uw(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(i,o,l){if(!Kd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Uw(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(zS(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Xc?function(o,l,u,d){if(!Kd(o.precondition,l))return u;const h=o.value.clone(),m=Bw(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(o,l,u,d){if(!Kd(o.precondition,l))return u;const h=Bw(o.fieldTransforms,d,l),m=l.data;return m.setAll(zS(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,l,u){return Kd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function Jk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MS(r.transform,i||null);o!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function Fw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qa(r,i,(o,l)=>Qk(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends rf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends rf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uw(t,e,n){const r=new Map;yt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,Kk(l,u,n[i]))}return r}function Bw(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,Wk(o,l,e))}return r}class Ey extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zk extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Xk(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VS();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const d=$S(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(n,r)=>Fw(n,r))&&qa(this.baseMutations,e.baseMutations,(n,r)=>Fw(n,r))}}class Ty{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Bk}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Ty(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,ot;function rN(t){switch(t){case se.OK:return Fe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function HS(t){if(t===void 0)return Fi("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ht.OK:return se.OK;case Ht.CANCELLED:return se.CANCELLED;case Ht.UNKNOWN:return se.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return se.INTERNAL;case Ht.UNAVAILABLE:return se.UNAVAILABLE;case Ht.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ht.NOT_FOUND:return se.NOT_FOUND;case Ht.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ht.ABORTED:return se.ABORTED;case Ht.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ht.DATA_LOSS:return se.DATA_LOSS;default:return Fe(39323,{code:t})}}(ot=Ht||(Ht={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Ns([4294967295,4294967295],0);function $w(t){const e=fS().encode(t),n=new sS;return n.update(e),new Uint8Array(n.digest())}function zw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ns([n,r],0),new Ns([i,o],0)]}class Sy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(r<0)throw new cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ns.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ns.fromNumber(r)));return i.compare(iN)===1&&(i=new Ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$w(e),[r,i]=zw(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Sy(o,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=$w(e),[r,i]=zw(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sf(qe.min(),i,new Lt(Xe),Ui(),nt())}}class Jc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jc(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class qS{constructor(e,n){this.targetId=e,this.Ce=n}}class WS{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hw{constructor(){this.Fe=0,this.Me=qw(),this.xe=mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),r=nt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:o})}}),new Jc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=qw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sN{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=Od(),this.Ye=Od(),this.Ze=new Lt(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(lg(o))if(r===0){const l=new De(o.path);this.tt(n,l,Tn.newNoDocument(l,qe.min()))}else yt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const u=this.ct(e),d=u?this.lt(u,e,l):1;if(d!==0){this.st(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=js(r).toUint8Array()}catch(d){if(d instanceof yS)return Ha("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Sy(l,i,o)}catch(d){return Ha(d instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&lg(u.target)){const d=new De(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,Tn.newNoDocument(d,e))}o.Le&&(n.set(l,o.qe()),o.Qe())}});let r=nt();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new sf(e,n,this.Ze,this.He,r);return this.He=Ui(),this.Je=Od(),this.Ye=Od(),this.Ze=new Lt(Xe),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Hw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Jt(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Jt(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Hw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Od(){return new Lt(De.comparator)}function qw(){return new Lt(De.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lN={and:"AND",or:"OR"};class cN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Xh(e)?e:{value:e}}function ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uN(t,e){return ph(t,e.toTimestamp())}function ci(t){return yt(!!t,49232),qe.fromTimestamp(function(n){const r=Vs(n);return new Wt(r.seconds,r.nanos)}(t))}function xy(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GS(t){const e=Ct.fromString(t);return yt(ZS(e),10190,{key:e.toString()}),e}function fg(t,e){return xy(t.databaseId,e.path)}function Cm(t,e){const n=GS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(YS(n))}function QS(t,e){return xy(t.databaseId,e)}function dN(t){const e=GS(t);return e.length===4?Ct.emptyPath():YS(e)}function pg(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YS(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ww(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function hN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Fe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(yt(m===void 0||typeof m=="string",58123),mn.fromBase64String(m||"")):(yt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?se.UNKNOWN:HS(h.code);return new Ie(m,h.message||"")}(l);n=new WS(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cm(t,r.document.name),o=ci(r.document.updateTime),l=r.document.createTime?ci(r.document.createTime):qe.min(),u=new Hn({mapValue:{fields:r.document.fields}}),d=Tn.newFoundDocument(i,o,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Gd(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cm(t,r.document),o=r.readTime?ci(r.readTime):qe.min(),l=Tn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Gd([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cm(t,r.document),o=r.removedTargetIds||[];n=new Gd([],o,i,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new nN(i,o),u=r.targetId;n=new qS(u,l)}}return n}function fN(t,e){let n;if(e instanceof Xc)n={update:Ww(t,e.key,e.value)};else if(e instanceof Ey)n={delete:fg(t,e.key)};else if(e instanceof qs)n={update:Ww(t,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof Zk))return Fe(16599,{ft:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Nc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Dc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fh)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Fe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)}(t,e.precondition)),n}function pN(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?ci(i.updateTime):ci(o);return l.isEqual(qe.min())&&(l=ci(o)),new Yk(l,i.transformResults||[])}(n,e))):[]}function mN(t,e){return{documents:[QS(t,e.path)]}}function gN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QS(t,i);const o=function(h){if(h.length!==0)return JS(zr.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:ka(_.field),direction:_N(_.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=dg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:i}}function yN(t){let e=dN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(g){const _=XS(g);return _ instanceof zr&&CS(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(_=>function(S){return new kc(Na(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Xh(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new hh(T,_)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new hh(T,_)}(n.endAt)),Vk(e,i,l,o,u,"F",d,h)}function vN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Na(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Na(n.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Na(n.unaryFilter.field);return qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Na(n.unaryFilter.field);return qt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>XS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(n.compositeFilter.op))}(t):Fe(30097,{filter:t})}function _N(t){return oN[t]}function wN(t){return aN[t]}function EN(t){return lN[t]}function ka(t){return{fieldPath:t.canonicalString()}}function Na(t){return pn.fromServerFormat(t.fieldPath)}function JS(t){return t instanceof qt?function(n){if(n.op==="=="){if(Ow(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(Nw(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ow(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(Nw(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:wN(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>JS(i));return r.length===1?r[0]:{compositeFilter:{op:EN(n.op),filters:r}}}(t):Fe(54877,{filter:t})}function TN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,o=qe.min(),l=qe.min(),u=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.wt=e}}function xN(t){const e=yN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.Cn=new IN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ls.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class IN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(Ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ex=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(ex,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ga(0)}static lr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="LruGarbageCollector",CN=1048576;function Qw([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class PN{constructor(e){this.Er=e,this.buffer=new Jt(Qw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){be(Gw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?be(Gw,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.mr(3e5)})}}class RN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Yh.le);const r=new PN(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Kw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Aa()<=tt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function kN(t,e){return new RN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,rr.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const i=So();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=lc();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=So();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let o=Ui();const l=pc(),u=function(){return pc()}();return n.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof qs)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),mc(m.mutation,h,m.mutation.getFieldMask(),Wt.now())):l.set(h.key,rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>l.set(h,m)),n.forEach((h,m)=>{var g;return u.set(h,new ON(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new Lt((l,u)=>l-u),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||rr.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||nt()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=VS();m.forEach(_=>{if(!o.has(_)){const T=$S(n.get(_),r.get(_));T!==null&&g.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ae.resolve(So());let u=Cc,d=o;return l.next(h=>ae.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?ae.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,nt())).next(m=>({batchId:u,changes:LS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=lc();return this.indexManager.getCollectionParents(e,o).next(u=>ae.forEach(u,d=>{const h=function(g,_){return new cl(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,Tn.newInvalidDocument(m)))});let u=lc();return l.forEach((d,h)=>{const m=o.get(d);m!==void 0&&mc(m.mutation,h,rr.empty(),Wt.now()),tf(n,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ci(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:xN(i.bundledQuery),readTime:ci(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.overlays=new Lt(De.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=So();return ae.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=So(),o=n.length+1,l=new De(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Lt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=So(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=So(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return ae.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new tN(n,r));let o=this.Qr.get(n);o===void 0&&(o=nt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.$r=new Jt(on.Ur),this.Kr=new Jt(on.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new on(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new on(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new De(new Ct([])),r=new on(n,e),i=new on(n,e+1),o=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new De(new Ct([])),r=new on(n,e),i=new on(n,e+1);let o=nt();return this.Kr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new on(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return De.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Jt(on.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new eN(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new on(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?my:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);o.push(u)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Xe);return n.forEach(i=>{const o=new on(i,0),l=new on(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{r=r.add(u.Zr)})}),ae.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const l=new on(new De(o),0);let u=new Jt(Xe);return this.Xr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Zr)),!0)},l),ae.resolve(this.ni(u))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ae.forEach(n.mutations,i=>{const o=new on(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new on(n,0),i=this.Xr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.ii=e,this.docs=function(){return new Lt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ui();const l=n.path,u=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||pk(fk(m),r)<=0||(i.has(m.key)||tf(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}si(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UN(this)}getSize(e){return ae.resolve(this.size)}}class UN extends NN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.persistence=e,this.oi=new jo(n=>vy(n),_y),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this._i=0,this.ai=new by,this.targetCount=0,this.ui=Ga.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ga(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ae.waitFor(o).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.ci={},this.overlays={},this.li=new Yh(0),this.hi=!1,this.hi=!0,this.Pi=new jN,this.referenceDelegate=e(this),this.Ti=new BN(this),this.indexManager=new bN,this.remoteDocumentCache=function(i){return new FN(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new SN(n),this.Ei=new LN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new MN(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new $N(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return ae.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class $N extends gk{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Vi=new by,this.mi=null}static fi(e){return new Iy(e)}get gi(){if(this.mi)return this.mi;throw Fe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,r=>{const i=De.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,qe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.yi=new jo(r=>_k(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kN(this,n)}static fi(e,n){return new mh(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?ae.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,n).next(u=>{u||(r++,o.removeEntry(l,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}Dr(e,n,r){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=nt(),i=nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Cy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FR()?8:yk(bn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new zN;return this.Ss(e,n,l).next(u=>{if(o.result=u,this.fs)return this.Ds(e,n,l,u.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Aa()<=tt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(Aa()<=tt.DEBUG&&be("QueryEngine","Query:",Ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Aa()<=tt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):ae.resolve())}ws(e,n){if(jw(n))return ae.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ug(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=nt(...o);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.vs(n,u);return this.Cs(n,h,l,d.readTime)?this.ws(e,ug(n,null,"F")):this.Fs(e,h,n,d)}))})))}bs(e,n,r,i){return jw(n)||i.isEqual(qe.min())?ae.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(n,o);return this.Cs(n,l,r,i)?ae.resolve(null):(Aa()<=tt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(n)),this.Fs(e,l,n,hk(i,Cc)).next(u=>u))})}vs(e,n){let r=new Jt(OS(e));return n.forEach((i,o)=>{tf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Aa()<=tt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.ys.getDocumentsMatchingQuery(e,n,Ls.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",qN=3e8;class WN{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Lt(Xe),this.Os=new jo(o=>vy(o),_y),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function KN(t,e,n,r){return new WN(t,e,n,r)}async function nx(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=nt();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:u}))})})}function GN(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=ae.resolve();return _.forEach(S=>{T=T.next(()=>m.getEntry(d,S)).next(R=>{const I=h.docVersions.get(S);yt(I!==null,48541),R.version.compareTo(I)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=nt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rx(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function QN(t,e){const n=We(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(n.Ti.removeMatchingKeys(o,m.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(o,m.addedDocuments,g)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(mn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,I,V){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=qN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,T,m)&&u.push(n.Ti.updateTargetData(o,T))});let d=Ui(),h=nt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(YN(o,l,e.documentUpdates).next(m=>{d=m.qs,h=m.Qs})),!r.isEqual(qe.min())){const m=n.Ti.getLastRemoteSnapshotVersion(o).next(g=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return ae.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.xs=i,o))}function YN(t,e,n){let r=nt(),i=nt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=Ui();return n.forEach((u,d)=>{const h=o.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):be(Py,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{qs:l,Qs:i}})}function XN(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=my),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JN(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,ae.resolve(i)):n.Ti.allocateTargetId(r).next(l=>(i=new Is(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function mg(t,e,n){const r=We(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ll(l))throw l;be(Py,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Yw(t,e,n){const r=We(t);let i=qe.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=We(d),_=g.Os.get(m);return _!==void 0?ae.resolve(g.xs.get(_)):g.Ti.getTargetData(h,m)}(r,l,li(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?i:qe.min(),n?o:nt())).next(u=>(ZN(r,Mk(e),u),{documents:u,$s:o})))}function ZN(t,e,n){let r=t.Ns.get(e)||qe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class Xw{constructor(){this.activeTargetIds=Hk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eO{constructor(){this.xo=new Xw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Xw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="ConnectivityMonitor";class Zw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){be(Jw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){be(Jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function gg(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",nO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const l=gg(),u=this.jo(e,n.toUriEncodedString());be(Pm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,i,o);const{host:h}=new URL(u),m=il(h);return this.Jo(e,u,d,r,m).then(g=>(be(Pm,`Received RPC '${e}' ${l}: `,g),g),g=>{throw Ha(Pm,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g})}Yo(e,n,r,i,o,l){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=nO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class sO extends rO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=gg();return new Promise((u,d)=>{const h=new oS;h.setWithCredentials(!0),h.listenOnce(aS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Hd.NO_ERROR:const g=h.getResponseJson();be(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Hd.TIMEOUT:be(wn,`RPC '${e}' ${l} timed out`),d(new Ie(se.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const _=h.getStatus();if(be(wn,`RPC '${e}' ${l} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const R=function(V){const b=V.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(b)>=0?b:se.UNKNOWN}(S.status);d(new Ie(R,S.message))}else d(new Ie(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ie(se.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{be(wn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);be(wn,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",m,r,15)})}I_(e,n,r){const i=gg(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uS(),u=cS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");be(wn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);this.E_(g);let _=!1,T=!1;const S=new iO({Zo:I=>{T?be(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(be(wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),be(wn,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},Xo:()=>g.close()}),R=(I,V,b)=>{I.listen(V,k=>{try{b(k)}catch(M){setTimeout(()=>{throw M},0)}})};return R(g,ac.EventType.OPEN,()=>{T||(be(wn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),R(g,ac.EventType.CLOSE,()=>{T||(T=!0,be(wn,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(g))}),R(g,ac.EventType.ERROR,I=>{T||(T=!0,Ha(wn,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),S.u_(new Ie(se.UNAVAILABLE,"The operation could not be completed")))}),R(g,ac.EventType.MESSAGE,I=>{var V;if(!T){const b=I.data[0];yt(!!b,16349);const k=b,M=(k==null?void 0:k.error)||((V=k[0])===null||V===void 0?void 0:V.error);if(M){be(wn,`RPC '${e}' stream ${i} received error:`,M);const F=M.status;let K=function(N){const j=Ht[N];if(j!==void 0)return HS(j)}(F),D=M.message;K===void 0&&(K=se.INTERNAL,D="Unknown error status: "+F+" with message "+M.message),T=!0,S.u_(new Ie(K,D)),g.close()}else be(wn,`RPC '${e}' stream ${i} received:`,b),S.c_(b)}}),R(u,lS.STAT_EVENT,I=>{I.stat===rg.PROXY?be(wn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===rg.NOPROXY&&be(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){return new cN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="PersistentStream";class sx{constructor(e,n,r,i,o,l,u,d){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ix(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new Ie(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return be(e1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(be(e1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oO extends sx{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=hN(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?ci(l.readTime):qe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(o,l){let u;const d=l.target;if(u=lg(d)?{documents:mN(o,d)}:{query:gN(o,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=KS(o,l.resumeToken);const h=dg(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(qe.min())>0){u.readTime=ph(o,l.snapshotVersion.toTimestamp());const h=dg(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=vN(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.Q_(n)}}class aO extends sx{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=pN(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=pg(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fN(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{}class cO extends lO{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,hg(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(se.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,hg(n,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(se.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class uO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fi(n),this.ua=!1):be("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class dO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Mo(this)&&(be(Oo,"Restarting streams for network reachability change."),await async function(d){const h=We(d);h.da.add(4),await Zc(h),h.Va.set("Unknown"),h.da.delete(4),await af(h)}(this))})}),this.Va=new uO(r,i)}}async function af(t){if(Mo(t))for(const e of t.Aa)await e(!0)}async function Zc(t){for(const e of t.Aa)await e(!1)}function ox(t,e){const n=We(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Ny(n)?ky(n):ul(n).N_()&&Ry(n,e))}function Ay(t,e){const n=We(t),r=ul(n);n.Ea.delete(e),r.N_()&&ax(n,e),n.Ea.size===0&&(r.N_()?r.k_():Mo(n)&&n.Va.set("Unknown"))}function Ry(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).Z_(e)}function ax(t,e){t.ma.Ke(e),ul(t).X_(e)}function ky(t){t.ma=new sN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.Va.ca()}function Ny(t){return Mo(t)&&!ul(t).O_()&&t.Ea.size>0}function Mo(t){return We(t).da.size===0}function lx(t){t.ma=void 0}async function hO(t){t.Va.set("Online")}async function fO(t){t.Ea.forEach((e,n)=>{Ry(t,e)})}async function pO(t,e){lx(t),Ny(t)?(t.Va.Pa(e),ky(t)):t.Va.set("Unknown")}async function mO(t,e,n){if(t.Va.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(t,e)}catch(r){be(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(t,r)}else if(e instanceof Gd?t.ma.Xe(e):e instanceof qS?t.ma.ot(e):t.ma.nt(e),!n.isEqual(qe.min()))try{const r=await rx(t.localStore);n.compareTo(r)>=0&&await function(o,l){const u=o.ma.It(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ea.get(h);m&&o.Ea.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=o.Ea.get(d);if(!m)return;o.Ea.set(d,m.withResumeToken(mn.EMPTY_BYTE_STRING,m.snapshotVersion)),ax(o,d);const g=new Is(m.target,d,h,m.sequenceNumber);Ry(o,g)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){be(Oo,"Failed to raise snapshot:",r),await gh(t,r)}}async function gh(t,e,n){if(!ll(e))throw e;t.da.add(1),await Zc(t),t.Va.set("Offline"),n||(n=()=>rx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(Oo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await af(t)})}function cx(t,e){return e().catch(n=>gh(t,n,e))}async function lf(t){const e=We(t),n=Fs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:my;for(;gO(e);)try{const i=await XN(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,yO(e,i)}catch(i){await gh(e,i)}ux(e)&&dx(e)}function gO(t){return Mo(t)&&t.Ia.length<10}function yO(t,e){t.Ia.push(e);const n=Fs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function ux(t){return Mo(t)&&!Fs(t).O_()&&t.Ia.length>0}function dx(t){Fs(t).start()}async function vO(t){Fs(t).ia()}async function _O(t){const e=Fs(t);for(const n of t.Ia)e.ta(n.mutations)}async function wO(t,e,n){const r=t.Ia.shift(),i=Ty.from(r,e,n);await cx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lf(t)}async function EO(t,e){e&&Fs(t).ea&&await async function(r,i){if(function(l){return rN(l)&&l!==se.ABORTED}(i.code)){const o=r.Ia.shift();Fs(r).L_(),await cx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await lf(r)}}(t,e),ux(t)&&dx(t)}async function t1(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),be(Oo,"RemoteStore received new credentials");const r=Mo(n);n.da.add(3),await Zc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await af(n)}async function TO(t,e){const n=We(t);e?(n.da.delete(2),await af(n)):e||(n.da.add(2),await Zc(n),n.Va.set("Unknown"))}function ul(t){return t.fa||(t.fa=function(n,r,i){const o=We(n);return o.oa(),new oO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:hO.bind(null,t),n_:fO.bind(null,t),i_:pO.bind(null,t),Y_:mO.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Ny(t)?ky(t):t.Va.set("Unknown")):(await t.fa.stop(),lx(t))})),t.fa}function Fs(t){return t.ga||(t.ga=function(n,r,i){const o=We(n);return o.oa(),new aO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:vO.bind(null,t),i_:EO.bind(null,t),na:_O.bind(null,t),ra:wO.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await lf(t)):(await t.ga.stop(),t.Ia.length>0&&(be(Oo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new Oy(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),ll(t))return new Ie(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.pa=new Lt(De.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Fe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qa{constructor(e,n,r,i,o,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Qa(e,n,ja.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xO{constructor(){this.queries=r1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),o=i.queries;i.queries=r1(),o.forEach((l,u)=>{for(const d of u.Sa)d.onError(r)})})(this,new Ie(se.ABORTED,"Firestore shutting down"))}}function r1(){return new jo(t=>NS(t),ef)}async function Ly(t,e){const n=We(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new SO,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Dy(l,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&jy(n)}async function Vy(t,e){const n=We(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bO(t,e){const n=We(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&jy(n)}function IO(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function jy(t){t.Ca.forEach(e=>{e.next()})}var yg,i1;(i1=yg||(yg={})).xa="default",i1.Cache="cache";class My{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.key=e}}class fx{constructor(e){this.key=e}}class CO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.Za=OS(e),this.Xa=new ja(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new n1,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=tf(this.query,g)?g:null,S=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;_&&T?_.data.isEqual(T.data)?S!==R&&(r.track({type:3,doc:T}),I=!0):this.ru(_,T)||(r.track({type:2,doc:T}),I=!0,(d&&this.Za(T,d)>0||h&&this.Za(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),I=!0):_&&!T&&(r.track({type:1,doc:_}),I=!0,(d||h)&&(u=!0)),I&&(T?(l=l.add(T),o=R?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:u,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,g)=>function(T,S){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:I})}};return R(T)-R(S)}(m.type,g.type)||this.Za(m.doc,g.doc)),this.iu(r),i=i!=null&&i;const u=n&&!i?this.su():[],d=this.Ya.size===0&&this.current&&!i?1:0,h=d!==this.Ja;return this.Ja=d,l.length!==0||h?{snapshot:new Qa(this.query,e.Xa,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new n1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new fx(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new hx(r))}),n}au(e){this.Ha=e.$s,this.Ya=nt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fy="SyncEngine";class PO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AO{constructor(e){this.key=e,this.cu=!1}}class RO{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new jo(u=>NS(u),ef),this.Pu=new Map,this.Tu=new Set,this.Iu=new Lt(De.comparator),this.Eu=new Map,this.du=new by,this.Au={},this.Ru=new Map,this.Vu=Ga.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function kO(t,e,n=!0){const r=_x(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await px(r,e,n,!0),i}async function NO(t,e){const n=_x(t);await px(n,e,!0,!1)}async function px(t,e,n,r){const i=await JN(t.localStore,li(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await OO(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&ox(t.remoteStore,i),u}async function OO(t,e,n,r,i){t.fu=(g,_,T)=>async function(R,I,V,b){let k=I.view.tu(V);k.Cs&&(k=await Yw(R.localStore,I.query,!1).then(({documents:D})=>I.view.tu(D,k)));const M=b&&b.targetChanges.get(I.targetId),F=b&&b.targetMismatches.get(I.targetId)!=null,K=I.view.applyChanges(k,R.isPrimaryClient,M,F);return o1(R,I.targetId,K.ou),K.snapshot}(t,g,_,T);const o=await Yw(t.localStore,e,!0),l=new CO(e,o.$s),u=l.tu(o.documents),d=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);o1(t,n,h.ou);const m=new PO(e,n,l);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function DO(t,e,n){const r=We(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(l=>!ef(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ay(r.remoteStore,i.targetId),vg(r,i.targetId)}).catch(al)):(vg(r,i.targetId),await mg(r.localStore,i.targetId,!0))}async function LO(t,e){const n=We(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ay(n.remoteStore,r.targetId))}async function VO(t,e,n){const r=zO(t);try{const i=await function(l,u){const d=We(l),h=Wt.now(),m=u.reduce((T,S)=>T.add(S.key),nt());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Ui(),R=nt();return d.Bs.getEntries(T,m).next(I=>{S=I,S.forEach((V,b)=>{b.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,S)).next(I=>{g=I;const V=[];for(const b of u){const k=Jk(b,g.get(b.key).overlayedDocument);k!=null&&V.push(new qs(b.key,k,xS(k.value.mapValue),Br.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,V,u)}).next(I=>{_=I;const V=I.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,I.batchId,V)})}).then(()=>({batchId:_.batchId,changes:LS(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Au[l.currentUser.toKey()];h||(h=new Lt(Xe)),h=h.insert(u,d),l.Au[l.currentUser.toKey()]=h}(r,i.batchId,n),await eu(r,i.changes),await lf(r.remoteStore)}catch(i){const o=Dy(i,"Failed to persist write");n.reject(o)}}async function mx(t,e){const n=We(t);try{const r=await QN(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Eu.get(o);l&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?yt(l.cu,14607):i.removedDocuments.size>0&&(yt(l.cu,42227),l.cu=!1))}),await eu(n,r,e)}catch(r){await al(r)}}function s1(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=We(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.Sa)_.Fa(u)&&(h=!0)}),h&&jy(d)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jO(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new Lt(De.comparator);l=l.insert(o,Tn.newNoDocument(o,qe.min()));const u=nt().add(o),d=new sf(qe.min(),new Map,new Lt(Xe),l,u);await mx(r,d),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Uy(r)}else await mg(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(al)}async function MO(t,e){const n=We(t),r=e.batch.batchId;try{const i=await GN(n.localStore,e);yx(n,r,null),gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await al(i)}}async function FO(t,e,n){const r=We(t);try{const i=await function(l,u){const d=We(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(yt(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);yx(r,e,n),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await al(i)}}function gx(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function yx(t,e,n){const r=We(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||vx(t,r)})}function vx(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Ay(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Uy(t))}function o1(t,e,n){for(const r of n)r instanceof hx?(t.du.addReference(r.key,e),UO(t,r)):r instanceof fx?(be(Fy,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||vx(t,r.key)):Fe(19791,{pu:r})}function UO(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(be(Fy,"New document in limbo: "+n),t.Tu.add(r),Uy(t))}function Uy(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new De(Ct.fromString(e)),r=t.Vu.next();t.Eu.set(r,new AO(n)),t.Iu=t.Iu.insert(n,r),ox(t.remoteStore,new Is(li(Zh(n.path)),r,"TargetPurposeLimboResolution",Yh.le))}}async function eu(t,e,n){const r=We(t),i=[],o=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,d)=>{l.push(r.fu(d,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Cy.Rs(d.targetId,h);o.push(g)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(d,h){const m=We(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ae.forEach(h,_=>ae.forEach(_.ds,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>ae.forEach(_.As,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!ll(g))throw g;be(Py,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.xs.get(_),S=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(S);m.xs=m.xs.insert(_,R)}}}(r.localStore,o))}async function BO(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){be(Fy,"User change. New user:",e.toKey());const r=await nx(n.localStore,e);n.currentUser=e,function(o,l){o.Ru.forEach(u=>{u.forEach(d=>{d.reject(new Ie(se.CANCELLED,l))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.ks)}}function $O(t,e){const n=We(t),r=n.Eu.get(e);if(r&&r.cu)return nt().add(r.key);{let i=nt();const o=n.Pu.get(e);if(!o)return i;for(const l of o){const u=n.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function _x(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jO.bind(null,e),e.lu.Y_=bO.bind(null,e.eventManager),e.lu.gu=IO.bind(null,e.eventManager),e}function zO(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return KN(this.persistence,new HN,e.initialUser,this.serializer)}Su(e){return new tx(Iy.fi,this.serializer)}bu(e){return new eO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class HO extends yh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){yt(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AN(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new tx(r=>mh.fi(r,n),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xO}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),r=function(o){return new sO(o)}(e.databaseInfo);return function(o,l,u,d){return new cO(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,u){return new dO(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>s1(this.syncEngine,n,0),function(){return Zw.C()?new Zw:new tO}())}createSyncEngine(e,n){return function(i,o,l,u,d,h,m){const g=new RO(i,o,l,u,d,h);return m&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=We(i);be(Oo,"RemoteStore shutting down."),o.da.add(5),await Zc(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class qO{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=pS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{be(Us,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(Us,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),be(Us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function a1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WO(t);be(Us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>t1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>t1(e.remoteStore,i)),t._onlineComponents=e}async function WO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Us,"Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new yh)}}else be(Us,"Using default OfflineComponentProvider"),await Rm(t,new HO(void 0));return t._offlineComponents}async function wx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Us,"Using user provided OnlineComponentProvider"),await a1(t,t._uninitializedComponentsProvider._online)):(be(Us,"Using default OnlineComponentProvider"),await a1(t,new _g))),t._onlineComponents}function KO(t){return wx(t).then(e=>e.syncEngine)}async function vh(t){const e=await wx(t),n=e.eventManager;return n.onListen=kO.bind(null,e.syncEngine),n.onUnlisten=DO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LO.bind(null,e.syncEngine),n}function GO(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const m=new By({next:_=>{m.xu(),l.enqueueAndForget(()=>Vy(o,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new Ie(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new Ie(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new My(Zh(u.path),m,{includeMetadataChanges:!0,Qa:!0});return Ly(o,g)}(await vh(t),t.asyncQueue,e,n,r)),r.promise}function QO(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const m=new By({next:_=>{m.xu(),l.enqueueAndForget(()=>Vy(o,g)),_.fromCache&&d.source==="server"?h.reject(new Ie(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new My(u,m,{includeMetadataChanges:!0,Qa:!0});return Ly(o,g)}(await vh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){if(!n)throw new Ie(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YO(t,e,n,r){if(e===!0&&r===!0)throw new Ie(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c1(t){if(!De.isDocumentKey(t))throw new Ie(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u1(t){if(De.isDocumentKey(t))throw new Ie(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(t);throw new Ie(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firestore.googleapis.com",d1=!0;class h1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sx,this.ssl=d1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:d1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ex;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CN)throw new Ie(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ex((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rk;switch(r.type){case"firstParty":return new ak(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l1.get(n);r&&(be("ComponentProvider","Removing Datastore"),l1.delete(n),r.terminate())}(this),Promise.resolve()}}function XO(t,e,n,r={}){var i;t=_r(t,uf);const o=il(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(XT(`https://${d}`),JT("Firestore",!0)),l.host!==Sx&&l.host!==d&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Ro(h,u)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=En.MOCK_USER;else{m=RR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ie(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new En(_)}t._authCredentials=new ik(new hS(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Os extends Ws{constructor(e,n,r){super(e,n,Zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new De(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function qn(t,e,...n){if(t=Zt(t),Tx("collection","path",e),t instanceof uf){const r=Ct.fromString(e,...n);return u1(r),new Os(t,null,r)}{if(!(t instanceof Dn||t instanceof Os))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return u1(r),new Os(t.firestore,null,r)}}function dt(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=pS.newId()),Tx("doc","path",e),t instanceof uf){const r=Ct.fromString(e,...n);return c1(r),new Dn(t,null,new De(r))}{if(!(t instanceof Dn||t instanceof Os))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return c1(r),new Dn(t.firestore,t instanceof Os?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="AsyncQueue";class p1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ix(this,"async_queue_retry"),this.rc=()=>{const r=Am();r&&be(f1,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Vi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ll(e))throw e;be(f1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Fi("INTERNAL UNHANDLED ERROR: ",m1(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Oy.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Fe(47125,{cc:m1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function m1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Bs extends uf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new p1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p1(e),this._firestoreClient=void 0,await e}}}function JO(t,e){const n=typeof t=="object"?t:nS(),r=typeof t=="string"?t:uh,i=fy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PR("firestore");o&&XO(i,...o)}return i}function df(t){if(t._terminated)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZO(t),t._firestoreClient}function ZO(t){var e,n,r;const i=t._freezeSettings(),o=function(u,d,h,m){return new Tk(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ex(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new qO(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(mn.fromBase64String(e))}catch(n){throw new Ie(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ya(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^__.*__$/;class t4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}class xx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ic:t})}}class Hy{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return _h(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(bx(this.Ic)&&e4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class n4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||of(e)}bc(e,n,r,i=!1){return new Hy({Ic:e,methodName:n,wc:r,path:pn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qy(t){const e=t._freezeSettings(),n=of(t._databaseId);return new n4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r4(t,e,n,r,i,o={}){const l=t.bc(o.merge||o.mergeFields?2:0,e,n,i);Ky("Data must be an object, but it was:",l,r);const u=Ix(r,l);let d,h;if(o.merge)d=new rr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const _=wg(e,g,n);if(!l.contains(_))throw new Ie(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Px(m,_)||m.push(_)}d=new rr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new t4(new Hn(u),d,h)}class pf extends ff{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}class Wy extends ff{_toFieldTransform(e){return new Gk(e.path,new Nc)}isEqual(e){return e instanceof Wy}}function i4(t,e,n,r){const i=t.bc(1,e,n);Ky("Data must be an object, but it was:",i,r);const o=[],l=Hn.empty();Hs(r,(d,h)=>{const m=Gy(e,d,n);h=Zt(h);const g=i.mc(m);if(h instanceof pf)o.push(m);else{const _=tu(h,g);_!=null&&(o.push(m),l.set(m,_))}});const u=new rr(o);return new xx(l,u,i.fieldTransforms)}function s4(t,e,n,r,i,o){const l=t.bc(1,e,n),u=[wg(e,r,n)],d=[i];if(o.length%2!=0)throw new Ie(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(wg(e,o[_])),d.push(o[_+1]);const h=[],m=Hn.empty();for(let _=u.length-1;_>=0;--_)if(!Px(h,u[_])){const T=u[_];let S=d[_];S=Zt(S);const R=l.mc(T);if(S instanceof pf)h.push(T);else{const I=tu(S,R);I!=null&&(h.push(T),m.set(T,I))}}const g=new rr(h);return new xx(m,g,l.fieldTransforms)}function o4(t,e,n,r=!1){return tu(n,t.bc(r?4:3,e))}function tu(t,e){if(Cx(t=Zt(t)))return Ky("Unsupported field value:",e,t),Ix(t,e);if(t instanceof ff)return function(r,i){if(!bx(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=tu(u,i.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wt.fromDate(r);return{timestampValue:ph(i.serializer,o)}}if(r instanceof Wt){const o=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ph(i.serializer,o)}}if(r instanceof $y)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:KS(i.serializer,r._byteString)};if(r instanceof Dn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zy)return function(l,u){return{mapValue:{fields:{[TS]:{stringValue:SS},[dh]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.gc("VectorValues must only contain numeric values.");return wy(u.serializer,h)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${cf(r)}`)}(t,e)}function Ix(t,e){const n={};return gS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const o=tu(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Cx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof $y||t instanceof Ya||t instanceof Dn||t instanceof ff||t instanceof zy)}function Ky(t,e,n){if(!Cx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function wg(t,e,n){if((e=Zt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return Gy(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const a4=new RegExp("[~\\*/\\[\\]]");function Gy(t,e,n){if(e.search(a4)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ie(se.INVALID_ARGUMENT,u+t+d)}function Px(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l4 extends Ax{data(){return super.data()}}function Qy(t,e){return typeof e=="string"?Gy(t,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yy{}class kx extends Yy{}function Eg(t,e,...n){let r=[];e instanceof Yy&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof Jy).length,u=o.filter(d=>d instanceof Xy).length;if(l>1||l>0&&u>0)throw new Ie(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xy extends kx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xy(e,n,r)}_apply(e){const n=this._parse(e);return Nx(e._query,n),new Ws(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=qy(e.firestore);return function(o,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ie(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){v1(g,m);const S=[];for(const R of g)S.push(y1(d,o,R));_={arrayValue:{values:S}}}else _=y1(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||v1(g,m),_=o4(u,l,g,m==="in"||m==="not-in");return qt.create(h,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Jy extends Yy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)Nx(l,d),l=cg(l,d)}(e._query,n),new Ws(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zy extends kx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zy(e,n)}_apply(e){const n=function(i,o,l){if(i.startAt!==null)throw new Ie(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(o,l)}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new cl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Tg(t,e="asc"){const n=e,r=Qy("orderBy",t);return Zy._create(r,n)}function y1(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new Ie(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&n.indexOf("/")!==-1)throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!De.isDocumentKey(r))throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kw(t,new De(r))}if(n instanceof Dn)return kw(t,n._key);throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function v1(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nx(t,e){const n=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c4{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ut(l.doubleValue));return new zy(o)}convertGeoPoint(e){return new $y(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);yt(ZS(r),9688,{name:e});const i=new Ac(r.get(1),r.get(3)),o=new De(r.popFirst(5));return i.isEqual(n)||Fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ox extends Ax{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qd extends Ox{data(e={}){return super.data(e)}}class Dx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qd(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Qd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new uc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Qd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new uc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:d4(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){t=_r(t,Dn);const e=_r(t.firestore,Bs);return GO(df(e),t._key).then(n=>Lx(e,t,n))}class ev extends c4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function Bi(t){t=_r(t,Ws);const e=_r(t.firestore,Bs),n=df(e),r=new ev(e);return Rx(t._query),QO(n,t._query).then(i=>new Dx(e,r,t,i))}function $s(t,e,n,...r){t=_r(t,Dn);const i=_r(t.firestore,Bs),o=qy(i);let l;return l=typeof(e=Zt(e))=="string"||e instanceof hf?s4(o,"updateDoc",t._key,e,n,r):i4(o,"updateDoc",t._key,e),tv(i,[l.toMutation(t._key,Br.exists(!0))])}function Xa(t){return tv(_r(t.firestore,Bs),[new Ey(t._key,Br.none())])}function mf(t,e){const n=_r(t.firestore,Bs),r=dt(t),i=u4(t.converter,e);return tv(n,[r4(qy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function h4(t,...e){var n,r,i;t=Zt(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||g1(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(g1(e[l])){const g=e[l];e[l]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(t instanceof Dn)h=_r(t.firestore,Bs),m=Zh(t._key.path),d={next:g=>{e[l]&&e[l](Lx(h,t,g))},error:e[l+1],complete:e[l+2]};else{const g=_r(t,Ws);h=_r(g.firestore,Bs),m=g._query;const _=new ev(h);d={next:T=>{e[l]&&e[l](new Dx(h,_,g,T))},error:e[l+1],complete:e[l+2]},Rx(t._query)}return function(_,T,S,R){const I=new By(R),V=new My(T,I,S);return _.asyncQueue.enqueueAndForget(async()=>Ly(await vh(_),V)),()=>{I.xu(),_.asyncQueue.enqueueAndForget(async()=>Vy(await vh(_),V))}}(df(h),m,u,d)}function tv(t,e){return function(r,i){const o=new Vi;return r.asyncQueue.enqueueAndForget(async()=>VO(await KO(r),i,o)),o.promise}(df(t),e)}function Lx(t,e,n){const r=n.docs.get(e._key),i=new ev(t);return new Ox(t,i,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}function f4(){return new Wy("serverTimestamp")}(function(e,n=!0){(function(i){ol=i})(sl),za(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Bs(new sk(r.getProvider("auth-internal")),new lk(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(h.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ks(_w,ww,e),ks(_w,ww,"esm2017")})();var p4="firebase",m4="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(p4,m4,"app");function nv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g4=Vx,jx=new Qc("auth","Firebase",Vx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new dy("@firebase/auth");function y4(t,...e){wh.logLevel<=tt.WARN&&wh.warn(`Auth (${sl}): ${t}`,...e)}function Yd(t,...e){wh.logLevel<=tt.ERROR&&wh.error(`Auth (${sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,...e){throw rv(t,...e)}function ui(t,...e){return rv(t,...e)}function Mx(t,e,n){const r=Object.assign(Object.assign({},g4()),{[e]:n});return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function Ds(t){return Mx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jx.create(t,...e)}function Me(t,e,...n){if(!t)throw rv(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function $i(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v4(){return _1()==="http:"||_1()==="https:"}function _1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v4()||VR()||"connection"in navigator)?navigator.onLine:!0}function w4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=OR()||jR()}get(){return _4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S4=new nu(3e4,6e4);function Fo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ks(t,e,n,r,i={}){return Ux(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Yc(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},o);return LR()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&il(t.emulatorConfig.host)&&(h.credentials="include"),Fx.fetch()(await Bx(t,t.config.apiHost,n,u),h)})}async function Ux(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},E4),e);try{const i=new b4(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ld(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ld(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Mx(t,m,h);Hr(t,m)}}catch(i){if(i instanceof qi)throw i;Hr(t,"network-request-failed",{message:String(i)})}}async function gf(t,e,n,r,i={}){const o=await Ks(t,e,n,r,i);return"mfaPendingCredential"in o&&Hr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Bx(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?iv(t.config,i):`${t.config.apiScheme}://${i}`;return T4.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function x4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),S4.get())})}}function Ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ui(t,e,r);return i.customData._tokenResponse=n,i}function w1(t){return t!==void 0&&t.enterprise!==void 0}class I4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C4(t,e){return Ks(t,"GET","/v2/recaptchaConfig",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function Eh(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A4(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),i=sv(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:gc(km(i.auth_time)),issuedAtTime:gc(km(i.iat)),expirationTime:gc(km(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function km(t){return Number(t)*1e3}function sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=KT(n);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E1(t){const e=sv(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qi&&R4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Lc(t,Eh(n,{idToken:r}));Me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$x(o.providerUserInfo):[],u=O4(t.providerData,l),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function N4(t){const e=Zt(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $x(t){return t.map(e=>{var{providerId:n}=e,r=nv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){const n=await Ux(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await Bx(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&il(t.emulatorConfig.host)&&(d.credentials="include"),Fx.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L4(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=E1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await D4(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Ma;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Me(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ur{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A4(this,e)}reload(){return N4(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await Lc(this,P4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,u,d,h,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,R=(u=n.tenantId)!==null&&u!==void 0?u:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=n.createdAt)!==null&&h!==void 0?h:void 0,b=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:k,emailVerified:M,isAnonymous:F,providerData:K,stsTokenManager:D}=n;Me(k&&D,e,"internal-error");const C=Ma.fromJSON(this.name,D);Me(typeof k=="string",e,"internal-error"),_s(g,e.name),_s(_,e.name),Me(typeof M=="boolean",e,"internal-error"),Me(typeof F=="boolean",e,"internal-error"),_s(T,e.name),_s(S,e.name),_s(R,e.name),_s(I,e.name),_s(V,e.name),_s(b,e.name);const N=new Ur({uid:k,auth:e,email:_,emailVerified:M,displayName:g,isAnonymous:F,photoURL:S,phoneNumber:T,tenantId:R,stsTokenManager:C,createdAt:V,lastLoginAt:b});return K&&Array.isArray(K)&&(N.providerData=K.map(j=>Object.assign({},j))),I&&(N._redirectEventId=I),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ma;i.updateFromServerResponse(n);const o=new Ur({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Th(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?$x(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Ma;u.updateFromIdToken(r);const d=new Ur({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;function Di(t){$i(t instanceof Function,"Expected a class definition");let e=T1.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zx.type="NONE";const S1=zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?Ur._fromGetAccountInfoResponse(this.auth,n,e):null}return Ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fa(Di(S1),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Di(S1);const l=Xd(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const _=await Eh(e,{idToken:m}).catch(()=>{});if(!_)break;g=await Ur._fromGetAccountInfoResponse(e,_,m)}else g=Ur._fromJSON(e,m);h!==o&&(u=g),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Fa(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Fa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qx(e))return"Blackberry";if(Yx(e))return"Webos";if(qx(e))return"Safari";if((e.includes("chrome/")||Wx(e))&&!e.includes("edge/"))return"Chrome";if(Gx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hx(t=bn()){return/firefox\//i.test(t)}function qx(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wx(t=bn()){return/crios\//i.test(t)}function Kx(t=bn()){return/iemobile/i.test(t)}function Gx(t=bn()){return/android/i.test(t)}function Qx(t=bn()){return/blackberry/i.test(t)}function Yx(t=bn()){return/webos/i.test(t)}function ov(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V4(t=bn()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j4(){return MR()&&document.documentMode===10}function Xx(t=bn()){return ov(t)||Gx(t)||Yx(t)||Qx(t)||/windows phone/i.test(t)||Kx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e=[]){let n;switch(t){case"Browser":n=x1(bn());break;case"Worker":n=`${x1(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",Fo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=6;class B4{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:U4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b1(this),this.idTokenSubscription=new b1(this),this.beforeStateQueue=new M4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),r=await Ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(Ds(this));const n=e?Zt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F4(this),n=new B4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&y4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dl(t){return Zt(t)}class b1{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z4(t){yf=t}function Zx(t){return yf.loadJS(t)}function H4(){return yf.recaptchaEnterpriseScript}function q4(){return yf.gapiScript}function W4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class K4{constructor(){this.enterprise=new G4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q4="recaptcha-enterprise",eb="NO_RECAPTCHA";class Y4{constructor(e){this.type=Q4,this.auth=dl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{C4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new I4(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;w1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(eb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&w1(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=H4();d.length!==0&&(d+=u),Zx(d).then(()=>{i(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function I1(t,e,n,r=!1,i=!1){const o=new Y4(t);let l;if(i)l=eb;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function C1(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await I1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await I1(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){const n=fy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ro(o,e??{}))return i;Hr(i,"already-initialized")}return n.initialize({options:e})}function J4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z4(t,e,n){const r=dl(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=tb(e),{host:l,port:u}=eD(e),d=u===null?"":`:${u}`,h={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Ro(h,r.config.emulator)&&Ro(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,il(l)?(XT(`${o}//${l}${d}`),JT("Auth",!0)):tD()}function tb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eD(t){const e=tb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:P1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:P1(l)}}}function P1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function nD(t,e){return Ks(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,e))}async function sD(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends av{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C1(e,n,"signInWithPassword",rD);case"emailLink":return iD(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C1(e,r,"signUpPassword",nD);case"emailLink":return sD(e,{idToken:n,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",Fo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="http://localhost";class Do extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nv(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Do(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ua(e,n)}buildRequest(){const e={requestUri:oD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lD(t){const e=sc(oc(t)).link,n=e?sc(oc(e)).deep_link_id:null,r=sc(oc(t)).deep_link_id;return(r?sc(oc(r)).link:null)||r||n||e||t}class lv{constructor(e){var n,r,i,o,l,u;const d=sc(oc(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=aD((i=d.mode)!==null&&i!==void 0?i:null);Me(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=lD(e);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lv.parseLink(n);return Me(r,"argument-error"),Vc._fromEmailAndCode(e,r.code,r.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends nb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends ru{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ru{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends ru{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ur._fromIdTokenResponse(e,r,i),l=A1(r);return new Ja({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A1(r);return new Ja({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends qi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sh(e,n,r,i)}}function rb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,o,e,r):o})}async function cD(t,e,n=!1){const r=await Lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(Ds(r));const i="reauthenticate";try{const o=await Lc(t,rb(r,i,e,t),n);Me(o.idToken,r,"internal-error");const l=sv(o.idToken);Me(l,r,"internal-error");const{sub:u}=l;return Me(t.uid===u,r,"user-mismatch"),Ja._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Hr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(t,e,n=!1){if(Mr(t.app))return Promise.reject(Ds(t));const r="signIn",i=await rb(t,r,e),o=await Ja._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function dD(t,e){return ib(dl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t){const e=dl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function fD(t,e,n){return Mr(t.app)?Promise.reject(Ds(t)):dD(Zt(t),hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hD(t),r})}function pD(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function mD(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function cv(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function xo(t){return Zt(t).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,yD=10;class ob extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);j4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ob.type="LOCAL";const vD=ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ab.type="SESSION";const lb=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,o)),d=await _D(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const h=uv("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function ED(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function TD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xD(){return cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firebaseLocalStorageDb",bD=1,bh="firebaseLocalStorage",db="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function ID(){const t=indexedDB.deleteDatabase(ub);return new iu(t).toPromise()}function bg(){const t=indexedDB.open(ub,bD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bh,{keyPath:db})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await ID(),e(await bg()))})})}async function R1(t,e,n){const r=_f(t,!0).put({[db]:e,value:n});return new iu(r).toPromise()}async function CD(t,e){const n=_f(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function k1(t,e){const n=_f(t,!0).delete(e);return new iu(n).toPromise()}const PD=800,AD=3;class hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(xD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await R1(e,xh,"1"),await k1(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=_f(i,!1).getAll();return new iu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hb.type="LOCAL";const RD=hb;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){return e?Di(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ND(t){return ib(t.auth,new dv(t),t.bypassAuthState)}function OD(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),uD(n,new dv(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),cD(n,new dv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ND;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:Hr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new nu(2e3,1e4);class Da extends fb{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="pendingRedirect",Jd=new Map;class jD extends fb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await MD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MD(t,e){const n=BD(e),r=UD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FD(t,e){Jd.set(t._key(),e)}function UD(t){return Di(t._redirectPersistence)}function BD(t){return Xd(VD,t.config.apiKey,t.name)}async function $D(t,e,n=!1){if(Mr(t.app))return Promise.reject(Ds(t));const r=dl(t),i=kD(r,e),l=await new jD(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(N1(e))}saveEventToCache(e){this.cachedEventUids.add(N1(e)),this.lastProcessedEventTime=Date.now()}}function N1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function QD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WD(t);for(const n of e)try{if(YD(n))return}catch{}Hr(t,"unauthorized-domain")}function YD(t){const e=Sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!GD.test(n))return!1;if(KD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new nu(3e4,6e4);function O1(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JD(t){return new Promise((e,n)=>{var r,i,o;function l(){O1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O1(),n(ui(t,"network-request-failed"))},timeout:XD.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=di().gapi)===null||o===void 0)&&o.load)l();else{const u=W4("iframefcb");return di()[u]=()=>{gapi.load?l():n(ui(t,"network-request-failed"))},Zx(`${q4()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function ZD(t){return Zd=Zd||JD(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new nu(5e3,15e3),tL="__/auth/iframe",nL="emulator/auth/iframe",rL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sL(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iv(e,nL):`https://${t.config.authDomain}/${tL}`,r={apiKey:e.apiKey,appName:t.name,v:sl},i=iL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yc(r).slice(1)}`}async function oL(t){const e=await ZD(t),n=di().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:sL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ui(t,"network-request-failed"),u=di().setTimeout(()=>{o(l)},eL.get());function d(){di().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lL=500,cL=600,uL="_blank",dL="http://localhost";class D1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hL(t,e,n,r=lL,i=cL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},aL),{width:r.toString(),height:i.toString(),top:o,left:l}),h=bn().toLowerCase();n&&(u=Wx(h)?uL:n),Hx(h)&&(e=e||dL,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,S])=>`${_}${T}=${S},`,"");if(V4(h)&&u!=="_self")return fL(e||"",u),new D1(null);const g=window.open(e||"",u,m);Me(g,t,"popup-blocked");try{g.focus()}catch{}return new D1(g)}function fL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="__/auth/handler",mL="emulator/auth/handler",gL=encodeURIComponent("fac");async function L1(t,e,n,r,i,o){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sl,eventId:i};if(e instanceof nb){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",qR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof ru){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await t._getAppCheckToken(),h=d?`#${gL}=${encodeURIComponent(d)}`:"";return`${yL(t)}?${Yc(u).slice(1)}${h}`}function yL({config:t}){return t.emulator?iv(t,mL):`https://${t.authDomain}/${pL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class vL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=$D,this._overrideRedirectResult=FD}async _openPopup(e,n,r,i){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await L1(e,n,r,Sg(),i);return hL(e,l,uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await L1(e,n,r,Sg(),i);return ED(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oL(e),r=new HD(e);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Nm];l!==void 0&&n(!!l),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xx()||qx()||ov()}}const _L=vL;var V1="@firebase/auth",j1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TL(t){za(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jx(t)},h=new $4(r,i,o,d);return J4(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),za(new ko("auth-internal",e=>{const n=dl(e.getProvider("auth").getImmediate());return(r=>new wL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(V1,j1,EL(t)),ks(V1,j1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=5*60,xL=YT("authIdTokenMaxAge")||SL;let M1=null;const bL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xL)return;const i=n==null?void 0:n.token;M1!==i&&(M1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function IL(t=nS()){const e=fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X4(t,{popupRedirectResolver:_L,persistence:[RD,vD,lb]}),r=YT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=bL(o.toString());mD(n,l,()=>l(n.currentUser)),pD(n,u=>l(u))}}const i=GT("auth");return i&&Z4(n,`http://${i}`),n}function CL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ui("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",CL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TL("Browser");const PL={apiKey:"AIzaSyDgaiFJLZ9c23CFHxylywvMJo6qKk19ORc",authDomain:"reverse-saas-98918.firebaseapp.com",projectId:"reverse-saas-98918",storageBucket:"reverse-saas-98918.firebasestorage.app",messagingSenderId:"536068162304",appId:"1:536068162304:web:29928e71ffa3d4c6b5a9e5"},mb=tS(PL),Fr=IL(mb),Qe=JO(mb);var Om={exports:{}},F1;function AL(){return F1||(F1=1,(()=>{var t={296:(i,o,l)=>{var u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,_=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,T=typeof self=="object"&&self&&self.Object===Object&&self,S=_||T||Function("return this")(),R=Object.prototype.toString,I=Math.max,V=Math.min,b=function(){return S.Date.now()};function k(F){var K=typeof F;return!!F&&(K=="object"||K=="function")}function M(F){if(typeof F=="number")return F;if(function(C){return typeof C=="symbol"||function(N){return!!N&&typeof N=="object"}(C)&&R.call(C)=="[object Symbol]"}(F))return NaN;if(k(F)){var K=typeof F.valueOf=="function"?F.valueOf():F;F=k(K)?K+"":K}if(typeof F!="string")return F===0?F:+F;F=F.replace(u,"");var D=h.test(F);return D||m.test(F)?g(F.slice(2),D?2:8):d.test(F)?NaN:+F}i.exports=function(F,K,D){var C,N,j,$,U,L,ye=0,Ne=!1,_e=!1,we=!0;if(typeof F!="function")throw new TypeError("Expected a function");function Y(me){var xe=C,Oe=N;return C=N=void 0,ye=me,$=F.apply(Oe,xe)}function le(me){var xe=me-L;return L===void 0||xe>=K||xe<0||_e&&me-ye>=j}function re(){var me=b();if(le(me))return z(me);U=setTimeout(re,function(xe){var Oe=K-(xe-L);return _e?V(Oe,j-(xe-ye)):Oe}(me))}function z(me){return U=void 0,we&&C?Y(me):(C=N=void 0,$)}function Z(){var me=b(),xe=le(me);if(C=arguments,N=this,L=me,xe){if(U===void 0)return function(Oe){return ye=Oe,U=setTimeout(re,K),Ne?Y(Oe):$}(L);if(_e)return U=setTimeout(re,K),Y(L)}return U===void 0&&(U=setTimeout(re,K)),$}return K=M(K)||0,k(D)&&(Ne=!!D.leading,j=(_e="maxWait"in D)?I(M(D.maxWait)||0,K):j,we="trailing"in D?!!D.trailing:we),Z.cancel=function(){U!==void 0&&clearTimeout(U),ye=0,C=L=N=U=void 0},Z.flush=function(){return U===void 0?$:z(b())},Z}},96:(i,o,l)=>{var u="Expected a function",d=NaN,h="[object Symbol]",m=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,T=/^0o[0-7]+$/i,S=parseInt,R=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,I=typeof self=="object"&&self&&self.Object===Object&&self,V=R||I||Function("return this")(),b=Object.prototype.toString,k=Math.max,M=Math.min,F=function(){return V.Date.now()};function K(C){var N=typeof C;return!!C&&(N=="object"||N=="function")}function D(C){if(typeof C=="number")return C;if(function($){return typeof $=="symbol"||function(U){return!!U&&typeof U=="object"}($)&&b.call($)==h}(C))return d;if(K(C)){var N=typeof C.valueOf=="function"?C.valueOf():C;C=K(N)?N+"":N}if(typeof C!="string")return C===0?C:+C;C=C.replace(m,"");var j=_.test(C);return j||T.test(C)?S(C.slice(2),j?2:8):g.test(C)?d:+C}i.exports=function(C,N,j){var $=!0,U=!0;if(typeof C!="function")throw new TypeError(u);return K(j)&&($="leading"in j?!!j.leading:$,U="trailing"in j?!!j.trailing:U),function(L,ye,Ne){var _e,we,Y,le,re,z,Z=0,me=!1,xe=!1,Oe=!0;if(typeof L!="function")throw new TypeError(u);function ze(wt){var Kt=_e,kt=we;return _e=we=void 0,Z=wt,le=L.apply(kt,Kt)}function et(wt){var Kt=wt-z;return z===void 0||Kt>=ye||Kt<0||xe&&wt-Z>=Y}function Ye(){var wt=F();if(et(wt))return lt(wt);re=setTimeout(Ye,function(Kt){var kt=ye-(Kt-z);return xe?M(kt,Y-(Kt-Z)):kt}(wt))}function lt(wt){return re=void 0,Oe&&_e?ze(wt):(_e=we=void 0,le)}function _t(){var wt=F(),Kt=et(wt);if(_e=arguments,we=this,z=wt,Kt){if(re===void 0)return function(kt){return Z=kt,re=setTimeout(Ye,ye),me?ze(kt):le}(z);if(xe)return re=setTimeout(Ye,ye),ze(z)}return re===void 0&&(re=setTimeout(Ye,ye)),le}return ye=D(ye)||0,K(Ne)&&(me=!!Ne.leading,Y=(xe="maxWait"in Ne)?k(D(Ne.maxWait)||0,ye):Y,Oe="trailing"in Ne?!!Ne.trailing:Oe),_t.cancel=function(){re!==void 0&&clearTimeout(re),Z=0,_e=z=we=re=void 0},_t.flush=function(){return re===void 0?le:lt(F())},_t}(C,N,{leading:$,maxWait:N,trailing:U})}},703:(i,o,l)=>{var u=l(414);function d(){}function h(){}h.resetWarningCache=d,i.exports=function(){function m(T,S,R,I,V,b){if(b!==u){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}function g(){return m}m.isRequired=m;var _={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:g,element:m,elementType:m,instanceOf:g,node:m,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:h,resetWarningCache:d};return _.PropTypes=_,_}},697:(i,o,l)=>{i.exports=l(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var o=e[i];if(o!==void 0)return o.exports;var l=e[i]={exports:{}};return t[i](l,l.exports,n),l.exports}n.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return n.d(o,{a:o}),o},n.d=(i,o)=>{for(var l in o)n.o(o,l)&&!n.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:o[l]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Kt,LazyLoadImage:()=>Gi,trackWindowScroll:()=>le});const i=Wh();var o=n.n(i),l=n(697);function u(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function d(ce){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},d(ce)}function h(ce,W){var oe=Object.keys(ce);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ce);W&&(he=he.filter(function(He){return Object.getOwnPropertyDescriptor(ce,He).enumerable})),oe.push.apply(oe,he)}return oe}function m(ce,W,oe){return(W=_(W))in ce?Object.defineProperty(ce,W,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ce[W]=oe,ce}function g(ce,W){for(var oe=0;oe<W.length;oe++){var he=W[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ce,_(he.key),he)}}function _(ce){var W=function(oe,he){if(d(oe)!=="object"||oe===null)return oe;var He=oe[Symbol.toPrimitive];if(He!==void 0){var Be=He.call(oe,"string");if(d(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)}(ce);return d(W)==="symbol"?W:String(W)}function T(ce,W){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,he){return oe.__proto__=he,oe},T(ce,W)}function S(ce){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},S(ce)}var R=function(ce){ce.forEach(function(W){W.isIntersecting&&W.target.onVisible()})},I={},V=function(ce){(function(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),ie&&T(ne,ie)})(Ze,ce);var W,oe,he,He,Be=(he=Ze,He=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ne,ie=S(he);if(He){var Ce=S(this).constructor;ne=Reflect.construct(ie,arguments,Ce)}else ne=ie.apply(this,arguments);return function(Se,Ee){if(Ee&&(d(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ke){if(Ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ke}(Se)}(this,ne)});function Ze(ne){var ie;if(function(Se,Ee){if(!(Se instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,Ze),(ie=Be.call(this,ne)).supportsObserver=!ne.scrollPosition&&ne.useIntersectionObserver&&u(),ie.supportsObserver){var Ce=ne.threshold;ie.observer=function(Se){return I[Se]=I[Se]||new IntersectionObserver(R,{rootMargin:Se+"px"}),I[Se]}(Ce)}return ie}return W=Ze,oe=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ie=this.placeholder.getBoundingClientRect(),Ce=this.placeholder.style,Se=parseInt(Ce.getPropertyValue("margin-left"),10)||0,Ee=parseInt(Ce.getPropertyValue("margin-top"),10)||0;return{bottom:ne.y+ie.bottom+Ee,left:ne.x+ie.left+Se,right:ne.x+ie.right+Se,top:ne.y+ie.top+Ee}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var ne=this.props,ie=ne.scrollPosition,Ce=ne.threshold,Se=this.getPlaceholderBoundingBox(ie),Ee=ie.y+window.innerHeight,Ke=ie.x,ht=ie.x+window.innerWidth,mt=ie.y;return mt-Ce<=Se.bottom&&Ee+Ce>=Se.top&&Ke-Ce<=Se.right&&ht+Ce>=Se.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var ne=this,ie=this.props,Ce=ie.className,Se=ie.height,Ee=ie.placeholder,Ke=ie.style,ht=ie.width;if(Ee&&typeof Ee.type!="function")return o().cloneElement(Ee,{ref:function(ct){return ne.placeholder=ct}});var mt=function(ct){for(var gt=1;gt<arguments.length;gt++){var ft=arguments[gt]!=null?arguments[gt]:{};gt%2?h(Object(ft),!0).forEach(function(Nt){m(ct,Nt,ft[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(ft)):h(Object(ft)).forEach(function(Nt){Object.defineProperty(ct,Nt,Object.getOwnPropertyDescriptor(ft,Nt))})}return ct}({display:"inline-block"},Ke);return ht!==void 0&&(mt.width=ht),Se!==void 0&&(mt.height=Se),o().createElement("span",{className:Ce,ref:function(ct){return ne.placeholder=ct},style:mt},Ee)}}],oe&&g(W.prototype,oe),Object.defineProperty(W,"prototype",{writable:!1}),Ze}(o().Component);V.propTypes={onVisible:l.PropTypes.func.isRequired,className:l.PropTypes.string,height:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string]),placeholder:l.PropTypes.element,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,scrollPosition:l.PropTypes.shape({x:l.PropTypes.number.isRequired,y:l.PropTypes.number.isRequired}),width:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string])},V.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const b=V;var k=n(296),M=n.n(k),F=n(96),K=n.n(F),D=function(ce){var W=getComputedStyle(ce,null);return W.getPropertyValue("overflow")+W.getPropertyValue("overflow-y")+W.getPropertyValue("overflow-x")};const C=function(ce){if(!(ce instanceof HTMLElement))return window;for(var W=ce;W&&W instanceof HTMLElement;){if(/(scroll|auto)/.test(D(W)))return W;W=W.parentNode}return window};function N(ce){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},N(ce)}var j=["delayMethod","delayTime"];function $(){return $=Object.assign?Object.assign.bind():function(ce){for(var W=1;W<arguments.length;W++){var oe=arguments[W];for(var he in oe)Object.prototype.hasOwnProperty.call(oe,he)&&(ce[he]=oe[he])}return ce},$.apply(this,arguments)}function U(ce,W){for(var oe=0;oe<W.length;oe++){var he=W[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ce,(He=function(Be,Ze){if(N(Be)!=="object"||Be===null)return Be;var ne=Be[Symbol.toPrimitive];if(ne!==void 0){var ie=ne.call(Be,"string");if(N(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(he.key),N(He)==="symbol"?He:String(He)),he)}var He}function L(ce,W){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,he){return oe.__proto__=he,oe},L(ce,W)}function ye(ce,W){if(W&&(N(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(ce)}function Ne(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function _e(ce){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},_e(ce)}var we=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},Y=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const le=function(ce){var W=function(oe){(function(Ce,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),Se&&L(Ce,Se)})(ie,oe);var he,He,Be,Ze,ne=(Be=ie,Ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ce,Se=_e(Be);if(Ze){var Ee=_e(this).constructor;Ce=Reflect.construct(Se,arguments,Ee)}else Ce=Se.apply(this,arguments);return ye(this,Ce)});function ie(Ce){var Se;if(function(Ke,ht){if(!(Ke instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,ie),(Se=ne.call(this,Ce)).useIntersectionObserver=Ce.useIntersectionObserver&&u(),Se.useIntersectionObserver)return ye(Se);var Ee=Se.onChangeScroll.bind(Ne(Se));return Ce.delayMethod==="debounce"?Se.delayedScroll=M()(Ee,Ce.delayTime):Ce.delayMethod==="throttle"&&(Se.delayedScroll=K()(Ee,Ce.delayTime)),Se.state={scrollPosition:{x:we(),y:Y()}},Se.baseComponentRef=o().createRef(),Se}return he=ie,(He=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||C(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=C(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:we(),y:Y()}})}},{key:"render",value:function(){var Ce=this.props,Se=(Ce.delayMethod,Ce.delayTime,function(Ke,ht){if(Ke==null)return{};var mt,ct,gt=function(Nt,ln){if(Nt==null)return{};var Qn,ar,Qi={},lr=Object.keys(Nt);for(ar=0;ar<lr.length;ar++)Qn=lr[ar],ln.indexOf(Qn)>=0||(Qi[Qn]=Nt[Qn]);return Qi}(Ke,ht);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(Ke);for(ct=0;ct<ft.length;ct++)mt=ft[ct],ht.indexOf(mt)>=0||Object.prototype.propertyIsEnumerable.call(Ke,mt)&&(gt[mt]=Ke[mt])}return gt}(Ce,j)),Ee=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(ce,$({forwardRef:this.baseComponentRef,scrollPosition:Ee},Se))}}])&&U(he.prototype,He),Object.defineProperty(he,"prototype",{writable:!1}),ie}(o().Component);return W.propTypes={delayMethod:l.PropTypes.oneOf(["debounce","throttle"]),delayTime:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool},W.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},W};function re(ce){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},re(ce)}function z(ce,W){for(var oe=0;oe<W.length;oe++){var he=W[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ce,(He=function(Be,Ze){if(re(Be)!=="object"||Be===null)return Be;var ne=Be[Symbol.toPrimitive];if(ne!==void 0){var ie=ne.call(Be,"string");if(re(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(he.key),re(He)==="symbol"?He:String(He)),he)}var He}function Z(ce,W){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,he){return oe.__proto__=he,oe},Z(ce,W)}function me(ce){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},me(ce)}var xe=function(ce){(function(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),ie&&Z(ne,ie)})(Ze,ce);var W,oe,he,He,Be=(he=Ze,He=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ne,ie=me(he);if(He){var Ce=me(this).constructor;ne=Reflect.construct(ie,arguments,Ce)}else ne=ie.apply(this,arguments);return function(Se,Ee){if(Ee&&(re(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ke){if(Ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ke}(Se)}(this,ne)});function Ze(ne){return function(ie,Ce){if(!(ie instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,Ze),Be.call(this,ne)}return W=Ze,(oe=[{key:"render",value:function(){return o().createElement(b,this.props)}}])&&z(W.prototype,oe),Object.defineProperty(W,"prototype",{writable:!1}),Ze}(o().Component);const Oe=le(xe);function ze(ce){return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},ze(ce)}function et(ce,W){for(var oe=0;oe<W.length;oe++){var he=W[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ce,(He=function(Be,Ze){if(ze(Be)!=="object"||Be===null)return Be;var ne=Be[Symbol.toPrimitive];if(ne!==void 0){var ie=ne.call(Be,"string");if(ze(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(he.key),ze(He)==="symbol"?He:String(He)),he)}var He}function Ye(ce,W){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,he){return oe.__proto__=he,oe},Ye(ce,W)}function lt(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function _t(ce){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},_t(ce)}var wt=function(ce){(function(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),ie&&Ye(ne,ie)})(Ze,ce);var W,oe,he,He,Be=(he=Ze,He=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ne,ie=_t(he);if(He){var Ce=_t(this).constructor;ne=Reflect.construct(ie,arguments,Ce)}else ne=ie.apply(this,arguments);return function(Se,Ee){if(Ee&&(ze(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(Se)}(this,ne)});function Ze(ne){var ie;(function(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ze),ie=Be.call(this,ne);var Ce=ne.afterLoad,Se=ne.beforeLoad,Ee=ne.scrollPosition,Ke=ne.visibleByDefault;return ie.state={visible:Ke},Ke&&(Se(),Ce()),ie.onVisible=ie.onVisible.bind(lt(ie)),ie.isScrollTracked=!!(Ee&&Number.isFinite(Ee.x)&&Ee.x>=0&&Number.isFinite(Ee.y)&&Ee.y>=0),ie}return W=Ze,(oe=[{key:"componentDidUpdate",value:function(ne,ie){ie.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var ne=this.props,ie=ne.className,Ce=ne.delayMethod,Se=ne.delayTime,Ee=ne.height,Ke=ne.placeholder,ht=ne.scrollPosition,mt=ne.style,ct=ne.threshold,gt=ne.useIntersectionObserver,ft=ne.width;return this.isScrollTracked||gt&&u()?o().createElement(b,{className:ie,height:Ee,onVisible:this.onVisible,placeholder:Ke,scrollPosition:ht,style:mt,threshold:ct,useIntersectionObserver:gt,width:ft}):o().createElement(Oe,{className:ie,delayMethod:Ce,delayTime:Se,height:Ee,onVisible:this.onVisible,placeholder:Ke,style:mt,threshold:ct,width:ft})}}])&&et(W.prototype,oe),Object.defineProperty(W,"prototype",{writable:!1}),Ze}(o().Component);wt.propTypes={afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool},wt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Kt=wt;function kt(ce){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},kt(ce)}var gi=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function yi(ce,W){var oe=Object.keys(ce);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(ce);W&&(he=he.filter(function(He){return Object.getOwnPropertyDescriptor(ce,He).enumerable})),oe.push.apply(oe,he)}return oe}function Wi(ce){for(var W=1;W<arguments.length;W++){var oe=arguments[W]!=null?arguments[W]:{};W%2?yi(Object(oe),!0).forEach(function(he){Gs(ce,he,oe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(oe)):yi(Object(oe)).forEach(function(he){Object.defineProperty(ce,he,Object.getOwnPropertyDescriptor(oe,he))})}return ce}function Gs(ce,W,oe){return(W=or(W))in ce?Object.defineProperty(ce,W,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ce[W]=oe,ce}function vi(){return vi=Object.assign?Object.assign.bind():function(ce){for(var W=1;W<arguments.length;W++){var oe=arguments[W];for(var he in oe)Object.prototype.hasOwnProperty.call(oe,he)&&(ce[he]=oe[he])}return ce},vi.apply(this,arguments)}function Ki(ce,W){for(var oe=0;oe<W.length;oe++){var he=W[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(ce,or(he.key),he)}}function or(ce){var W=function(oe,he){if(kt(oe)!=="object"||oe===null)return oe;var He=oe[Symbol.toPrimitive];if(He!==void 0){var Be=He.call(oe,"string");if(kt(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)}(ce);return kt(W)==="symbol"?W:String(W)}function Gn(ce,W){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,he){return oe.__proto__=he,oe},Gn(ce,W)}function Kr(ce){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},Kr(ce)}var Gr=function(ce){(function(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),ie&&Gn(ne,ie)})(Ze,ce);var W,oe,he,He,Be=(he=Ze,He=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ne,ie=Kr(he);if(He){var Ce=Kr(this).constructor;ne=Reflect.construct(ie,arguments,Ce)}else ne=ie.apply(this,arguments);return function(Se,Ee){if(Ee&&(kt(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ke){if(Ke===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ke}(Se)}(this,ne)});function Ze(ne){var ie;return function(Ce,Se){if(!(Ce instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,Ze),(ie=Be.call(this,ne)).state={loaded:!1},ie}return W=Ze,(oe=[{key:"onImageLoad",value:function(){var ne=this;return this.state.loaded?null:function(ie){ne.props.onLoad(ie),ne.props.afterLoad(),ne.setState({loaded:!0})}}},{key:"getImg",value:function(){var ne=this.props,ie=(ne.afterLoad,ne.beforeLoad,ne.delayMethod,ne.delayTime,ne.effect,ne.placeholder,ne.placeholderSrc,ne.scrollPosition,ne.threshold,ne.useIntersectionObserver,ne.visibleByDefault,ne.wrapperClassName,ne.wrapperProps,function(Ce,Se){if(Ce==null)return{};var Ee,Ke,ht=function(ct,gt){if(ct==null)return{};var ft,Nt,ln={},Qn=Object.keys(ct);for(Nt=0;Nt<Qn.length;Nt++)ft=Qn[Nt],gt.indexOf(ft)>=0||(ln[ft]=ct[ft]);return ln}(Ce,Se);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ce);for(Ke=0;Ke<mt.length;Ke++)Ee=mt[Ke],Se.indexOf(Ee)>=0||Object.prototype.propertyIsEnumerable.call(Ce,Ee)&&(ht[Ee]=Ce[Ee])}return ht}(ne,gi));return o().createElement("img",vi({},ie,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var ne=this.props,ie=ne.beforeLoad,Ce=ne.className,Se=ne.delayMethod,Ee=ne.delayTime,Ke=ne.height,ht=ne.placeholder,mt=ne.scrollPosition,ct=ne.style,gt=ne.threshold,ft=ne.useIntersectionObserver,Nt=ne.visibleByDefault,ln=ne.width;return o().createElement(Kt,{beforeLoad:ie,className:Ce,delayMethod:Se,delayTime:Ee,height:Ke,placeholder:ht,scrollPosition:mt,style:ct,threshold:gt,useIntersectionObserver:ft,visibleByDefault:Nt,width:ln},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(ne){var ie=this.props,Ce=ie.effect,Se=ie.height,Ee=ie.placeholderSrc,Ke=ie.width,ht=ie.wrapperClassName,mt=ie.wrapperProps,ct=this.state.loaded,gt=ct?" lazy-load-image-loaded":"",ft=ct||!Ee?{}:{backgroundImage:"url(".concat(Ee,")"),backgroundSize:"100% 100%"};return o().createElement("span",vi({className:ht+" lazy-load-image-background "+Ce+gt,style:Wi(Wi({},ft),{},{color:"transparent",display:"inline-block",height:Se,width:Ke})},mt),ne)}},{key:"render",value:function(){var ne=this.props,ie=ne.effect,Ce=ne.placeholderSrc,Se=ne.visibleByDefault,Ee=ne.wrapperClassName,Ke=ne.wrapperProps,ht=this.getLazyLoadImage();return(ie||Ce)&&!Se||Ee||Ke?this.getWrappedLazyLoadImage(ht):ht}}])&&Ki(W.prototype,oe),Object.defineProperty(W,"prototype",{writable:!1}),Ze}(o().Component);Gr.propTypes={onLoad:l.PropTypes.func,afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,delayMethod:l.PropTypes.string,delayTime:l.PropTypes.number,effect:l.PropTypes.string,placeholderSrc:l.PropTypes.string,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool,wrapperClassName:l.PropTypes.string,wrapperProps:l.PropTypes.object},Gr.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Gi=Gr})(),Om.exports=r})()),Om.exports}var RL=AL();function kL(){const{slug:t}=an(),[e,n]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const i=dt(Qe,"ReVerse",t),o=await In(i);o.exists()?n(o.data()):console.error("Document not found")}catch(i){console.error("Error fetching hero data:",i)}})()},[t]),e?v.jsx("header",{className:"header",children:v.jsxs("div",{className:"header-container",children:[v.jsxs("div",{className:"header-text",children:[v.jsx("h1",{children:e.heroTitle}),v.jsx("p",{children:e.heroSubtitle})]}),v.jsx("div",{className:"header-image",children:v.jsx(RL.LazyLoadImage,{src:e.heroImage,alt:"Hero",effect:"blur"})})]})}):null}const wf=A.createContext(),gb=({children:t,slug:e})=>{const n=()=>{const d=localStorage.getItem(`cartItems_${e}`);return d?JSON.parse(d):{}},[r,i]=A.useState(n);A.useEffect(()=>{e&&localStorage.setItem(`cartItems_${e}`,JSON.stringify(r))},[r,e]);const o=(d,h)=>{if(!d||!(h!=null&&h.label)||!(h!=null&&h.price))return;const m=`${d.id}_${h.label}`;i(g=>{const _=g[m]||{id:d.id,name:d.name,size:h.label,price:h.price,quantity:0,image:d.image||"",collection:h.collection||"products"};return{...g,[m]:{..._,quantity:_.quantity+1}}})},l=(d,h,m="products")=>{const g=`${d}_${h}`;i(_=>{const T=_[g];if(!T)return _;if(T.quantity<=1){const S={..._};return delete S[g],S}return{..._,[g]:{...T,quantity:T.quantity-1}}})},u=()=>{i({}),localStorage.removeItem(`cartItems_${e}`)};return v.jsx(wf.Provider,{value:{cartItems:r,addToCart:o,removeFromCart:l,clearCart:u},children:t})};function NL({title:t,description:e}){return v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"menu-section__title fade-in",children:t}),v.jsx("p",{className:"menu-section__description fade-in delay",children:e})]})}function OL({items:t,selectedSizes:e,sizeErrors:n,cartItems:r,handleSizeSelect:i,handleAddToCart:o,removeFromCart:l,renderDescription:u,specialTitle:d}){return t!=null&&t.length?(A.useEffect(()=>{t.forEach(h=>{const m=e[h.id],g=(h.sizes||[]).reduce((S,R)=>(R.label&&R.price&&(S[R.label]={price:R.price}),S),{}),_=Object.keys(g),T=_.length===1?_[0]:null;T&&!m&&i(h.id,T)})},[t,e,i]),v.jsxs("div",{className:"menu-special-section",children:[v.jsx("h3",{className:"menu-special-section__title fade-in",children:d}),v.jsx("div",{className:"menu-products-container",children:t.map((h,m)=>{var V,b;const g=e[h.id],_=n[h.id]||!1,T=(h.sizes||[]).reduce((k,M)=>(M.label&&M.price&&(k[M.label]={price:M.price}),k),{}),S=Object.keys(T),R=g?`${h.id}_${g}`:null,I=R&&((V=r[R])!=null&&V.quantity)?r[R].quantity:0;return v.jsxs("div",{className:"menu-item-special fade-in",style:{animationDelay:`${m*.2}s`},children:[v.jsx("img",{loading:"lazy",className:"menu-item__image",src:h.image,alt:h.name}),v.jsx("h4",{className:"menu-item__name",children:h.name}),u(h),v.jsxs("div",{children:[h.oldPrice&&v.jsxs("span",{className:"menu-item__old-price",children:["$",h.oldPrice]}),v.jsx("span",{className:"menu-item__price",children:g?`$${(b=T[g])==null?void 0:b.price.toFixed(2)}`:`$${h.price}`})]}),S.length>1&&v.jsx("div",{className:"choices",children:Object.entries(T).map(([k,M])=>v.jsxs("button",{className:`choice-button ${g===k?"selected":""} ${_?"error-border":""}`,onClick:()=>i(h.id,k),children:[k," ($",parseFloat(M.price).toFixed(2),")"]},k))}),v.jsx("div",{className:"menu-item__actions",children:I===0?v.jsx("button",{className:"add-btn",onClick:()=>o(h,T,"specialItems"),children:"+"}):v.jsxs("div",{className:"quantity-controls",children:[v.jsx("button",{className:"qty-btn",onClick:()=>l(h.id,g,"specialItems"),children:"-"}),v.jsx("span",{className:"qty-count",children:I}),v.jsx("button",{className:"qty-btn",onClick:()=>{var k;return o(h,{label:g,price:((k=T[g])==null?void 0:k.price)||h.price,collection:"specialItems"})},children:"+"})]})})]},`${h.id}`)})})]})):null}function DL({categories:t=[],selectedCategory:e,setSelectedCategory:n}){return t.length?v.jsx("div",{className:"category-list",children:t.map((r,i)=>{const o=typeof r=="string"?r:r.name,l=typeof r=="object"&&r.image;return v.jsxs("button",{onClick:()=>n(u=>u===o?null:o),className:`category-btn fade-in ${e===o?"active":""}`,style:{animationDelay:`${i*.1}s`},children:[l&&v.jsx("img",{className:"category-btn__img",src:l,alt:o,width:"50"}),v.jsx("p",{children:o})]},o)})}):null}const LL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAYNSURBVGhD1Vo9TyRHEJ2Z5RYjIV2GEYGxBMYSgS8gP0iwiJwAoSNfRkCwASGSTUJqzA9ADh2tnQBHgqUNEewJIWFA3AkCAiSvEOJLsOv3aqpaveO1fMcO7GxJj/7Yme56XVX9NQS1Wi0MIPPz8xESgmXL5xL5Dg8vRkdHJSWGh4fzms+PjIxImoTV81l9npD3CbY3PT1t/Ujq6WUIWaf11NUgEpKQkpIXvIcdAXakyhgBU8QU62wAqfcUb1Tv2tL2rQ/27SMyHT0ilNAsYhASimQjRsIgihmBYrH4+eXl5Zvb29ulh4eHYrVafQ/8jfadsA6/bd7c3CxVKpXpvb29Ib4/ODhoxIyUQQYQEB3UWjmPhE8mtgZSIaAP+USsMSPi3ILKQ6nC/f39Zqzqpwvfvbi4eIP26sgkLFNHxtORMCPUEyE8P5XGvEZl9NbW1now8j8lR7wZgaXes030Ye4mKfvW/usIeWQcESnYD0rCXnQEFJ3n5+fj7FT7T13YNl2UfRFKyvSoIwP4ZFyGqT1QR4KNqRWWtL8nF/T1M12X/SsaWcYRMQLCSNMQLwRbW1tWDhCUXw4NDf2Wy+W+Yfm5BK774fj4eBzu/AHFWlwbp5hBg56enhoGOa6nS3kxYTBrdHJmeUpX+j9h34eHh1+piwm4DOgaZusOjRG7k5HxX2g1CRPqQF1ML2/yERcT3X1r2AOcmeifWSBhgmm67MVMHRGFMw8r3QL3nIH9scIJgIPsWcQnE1sDELPxQU5/+m7mhNO/6Qo0JGIbv84suVRSqBuXAuhpRIxMTAIQllxd9Z3MyvX1NXcAFgaOiCMBZNoaJtwaNQh8YSNEshwbSbm6uiqo3kIkgnm4mHB1DLu6ur5H2haSz+e/QxJCf9l9yIoICbHg9EdR9FrLmRdsl16XSqWXWhQyEhs86KjVUpODg4Pa7OysgPm0RXfJstKbWwVwq9StgY6CcrksYD5t6ejoeMWUG9yIO12tfNadbRoCnb9AjDAbRmBD/6qFYdjPmnYS6PwKsS15F+xtSuQltlQS6PzDYOe5/YYVjxXGAM4NWoqF5eXlZcnPzMwE6FTyJr29vYJmBGQ+QyKXDty2R5hVmiKyuroaLC4uaunjZG5uLpiYmNDS48SI0LVCjBxns4r80n4isy7P5y+wCQt3d3f/aiZO6FrJKXZnZ8dZaWFhIRgYGJC8SXd3t+CxwjM9FsavwaHKsuyzcAL7nWZJU7a3t2tjY2MC5tMWXu6p/rIgUkLsenlT0VYCnd/pOhJw0xgA3BqXpaaNBGenTbeOIFNjYX19/Q+paSM5PT19p1lZR7ifZxrC59a5q+QPacjZ2VmwsrIi+cnJyX+tI80I3OpPbFF4fg8Q7DJz2Vk9z5t1jaPMC2baH6gz9QfcUZeQu6w0b9ifSngcp76AI2KzFqVaKBQqCKBftJxZubu7+1WzdKs4o5dzZCV3WhsbG5m6YUyKWYPhoCFh98DuOsiQ5yWYvpc5we5BToUK+9SQ4/U8iRgrIUKm/M6n72ZGqBP0Y2zYoIvugNw02r2vI0Iw8HlxrG20XOhSpVKp0Q0j9c9x/RA2FJhJgl9PjcHJyUl/X1/f2yiKWnro4uZwf3//26mpKcYHPzxx3ZC1AzHuPvZQ+Zy5mMJZ5ujoqOUfeqC4+zaiutVZAxADcPSFDOATMbTsgw9duwEJiWedbal3DFZ4lT4ZR4jBT/98zgmAfVlMsH+dnYQIQD0N8f8G8I/3zdp9glPYy+4DEKe/p7QO28YebVz7EygJ0Un1c/84oLpLTMuGERAy9qDCJ+P2ZFw4ebWfJiFujbCr+NH79lFnBRtgTf3BN/3jP0x9yyhkFLwGHRkDLcSTmurzycJ3uVm1zwTsy1yJ8OJBkCBgqYgjAghTfdjcLEnIrOTI0EIMSt4f07epXNJaHHHW4bciRn6JA2DKJ93I64dwJADfEvKfQgTywkEyfmUDyxDWsBHx4RShUqqY/AsGSTK1Oi075Vn2lU8sA/5g+v8V5IMiafIHg2MO/BchgygBODJMk0obVGmBP/pGQlPrz9fDYEI9IUH4D73WUcZJ0wQDAAAAAElFTkSuQmCC",VL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK/SURBVHgBzZhNbxJBGMf/M922JGrEeFF7WU2aWKQEEj0aqQevtBfP9QNo6cnoRTh48FTrFyhnL+XqSTjXBNryltjonoxHFGuksIzP8NZSdsvwtvBLlp2dGXb/eZ6ZZ54Zhj5IiZRbg8vPIEIAozt0AaG32hmYIQADEOkakPQxTxx9wFQ65UVeNyE2qLhOlxvqFElgnAPRJbZk9Op8oZiGJWYjDHwDQ0KiYr1E2Yo5FPkgh9ghs+sYEfQxcmNtzcu8aat2blWZEbkwjYvPoxQiabyPpzIiE4aKmEORjdBtC2OFb1kJ6nDTgThY5dB24RAC5soyW07gvBg5Y2pjcE0POcUKTm4HWKAon9puorjwxlkhEuaew/xO+0n+NOPId0yIlrvqlpFWwQRhmKl/nw1rlXffPqBwfIS7lxbx8s5zDEoF5WuaCTNoE26UkEL2flMMY0oriy2zcIU4megRpoMgp1XXj6lA+KV/dEwFQtfQR0pQOP6KUvVPR13ruVQtYe9Xqus/D64GoAZzM1oUhWJvPPnyFD/KP1W7Y2H+Bj7d/6jcX7qpiKlAFKVlpG2VBrGVVV7kXqPw96jujreLr7rab5F1FElrlIGlVWeU1YuvaJcvbFdHpGlqm0lMBTzBK6j0lcGPiwr+JXkzl0hgoogY6TC0ehFmlJaFIAbg8fWHWHDdrE/jQaEEKyrv7dUtK3K7FHBW4Tgi5mX3nslSe7k+QVlWOB1zjJZVOsTIsUPuWoOD1FDdlGMF58VIZOpnorYJB6B9WcTHfPHOOgv2aU8zQ3sbjAmyQNjDPNvoEmgDbbIoKnO5h9IxOgwSsk5CLAOtbb4p98OUl67I0Y7R8J7eF7ATIlFKXOk0Qp/FHGXwTE79vo5E6IqRiO2zA3UoMWfJikKIThKCVGweFp26sXHKIA+LkCaTx8so77d2iyr8B6Fv/i4/597HAAAAAElFTkSuQmCC",jL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIKSURBVHgBzZjJTcNAFIb/N3BFMldOpgFIKiCpAOgARAGECggVQAqIkg5IB5AKsjSATzlHyjke/hnbyiLHSxbbn5TF9tjzaZ7teW8EOdCjkcOfGpS6h0gNWrvcdteaeNzn8dgYvj+Uen2AHEiWRpRwKfDKv0/8OMjOnGIDLJcfFPPSGkuKhEOJNv++4lBE+mlSkiDSoEgPm2E4FI/he6TQOO6gQrxIiyI/RxaBvZ5SI3v9LDJ6MmnzhE+cEl4/TmgjTGzwwIbfKArfbzJkv9iWCZ+YU4QmiTmFrik0NxurMJ2dvRcsYnDYby/asCMTjsofyiIMVzAywaiUh4jtX0oflQjfvzQj00AV4HynGKI7VAGtG4pfNVQBZgEmTC6qgXuOfCkB8PICzGbJba6ugG4XOXHOkRcjkiazJ0bGvIqzj06zCSwWyW0uLrAHc+EsPYJJJctnbJ6mMaoAPYzMEFVAxM5NuTL4k8FqQtlcglYoE637JlEPZm1m7SgTrW3/Vsamfqa+KUekH5Uvq0xvuXxG8M4pEi8alQ0Ze++wpkGR+P7belG3UarYcLEBiqG9XYvHVpRhEXfK2qklt7ed7Z1J5W0trKFcHA+zQvEkNzexL1q16yxbDzNrN3c7jsMXr1ffJWL7RAZs0m4yeJEH5F0SAfqU6By8JBIrNp3em3w1dbEoWJeZRNViFv4BR9XKFZuL/aIAAAAASUVORK5CYII=",Dm={add_icon_green:VL,add_icon_white:LL,remove_icon_red:jL},ML=(t,e,n,r)=>{var o,l,u,d;const i=[n,{code:e,...r||{}}];if((l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Co(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(u=t==null?void 0:t.services)==null?void 0:u.logger)!=null&&d.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},U1={},Ig=(t,e,n,r)=>{Co(n)&&U1[n]||(Co(n)&&(U1[n]=new Date),ML(t,e,n,r))},yb=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Cg=(t,e,n)=>{t.loadNamespaces(e,yb(t,n))},B1=(t,e,n,r)=>{if(Co(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Cg(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,yb(t,r))},FL=(t,e,n={})=>!e.languages||!e.languages.length?(Ig(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var o;if(((o=n.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Co=t=>typeof t=="string",UL=t=>typeof t=="object"&&t!==null,BL=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$L={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},zL=t=>$L[t],HL=t=>t.replace(BL,zL);let Pg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HL};const qL=(t={})=>{Pg={...Pg,...t}},WL=()=>Pg;let vb;const KL=t=>{vb=t},GL=()=>vb,QL={type:"3rdParty",init(t){qL(t.options.react),KL(t)}},YL=A.createContext();class XL{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const JL=(t,e)=>{const n=A.useRef();return A.useEffect(()=>{n.current=t},[t,e]),n.current},_b=(t,e,n,r)=>t.getFixedT(e,n,r),ZL=(t,e,n,r)=>A.useCallback(_b(t,e,n,r),[t,e,n,r]),pt=(t,e={})=>{var M,F,K,D;const{i18n:n}=e,{i18n:r,defaultNS:i}=A.useContext(YL)||{},o=n||r||GL();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new XL),!o){Ig(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(j,$)=>Co($)?$:UL($)&&Co($.defaultValue)?$.defaultValue:Array.isArray(j)?j[j.length-1]:j,N=[C,{},!1];return N.t=C,N.i18n={},N.ready=!1,N}(M=o.options.react)!=null&&M.wait&&Ig(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...WL(),...o.options.react,...e},{useSuspense:u,keyPrefix:d}=l;let h=i||((F=o.options)==null?void 0:F.defaultNS);h=Co(h)?[h]:h||["translation"],(D=(K=o.reportNamespaces).addUsedNamespaces)==null||D.call(K,h);const m=(o.isInitialized||o.initializedStoreOnce)&&h.every(C=>FL(C,o,l)),g=ZL(o,e.lng||null,l.nsMode==="fallback"?h:h[0],d),_=()=>g,T=()=>_b(o,e.lng||null,l.nsMode==="fallback"?h:h[0],d),[S,R]=A.useState(_);let I=h.join();e.lng&&(I=`${e.lng}${I}`);const V=JL(I),b=A.useRef(!0);A.useEffect(()=>{const{bindI18n:C,bindI18nStore:N}=l;b.current=!0,!m&&!u&&(e.lng?B1(o,e.lng,h,()=>{b.current&&R(T)}):Cg(o,h,()=>{b.current&&R(T)})),m&&V&&V!==I&&b.current&&R(T);const j=()=>{b.current&&R(T)};return C&&(o==null||o.on(C,j)),N&&(o==null||o.store.on(N,j)),()=>{b.current=!1,o&&(C==null||C.split(" ").forEach($=>o.off($,j))),N&&o&&N.split(" ").forEach($=>o.store.off($,j))}},[o,I]),A.useEffect(()=>{b.current&&m&&R(_)},[o,d,m]);const k=[S,o,m];if(k.t=S,k.i18n=o,k.ready=m,m||!m&&!u)return k;throw new Promise(C=>{e.lng?B1(o,e.lng,h,()=>C()):Cg(o,h,()=>C())})};function eV({products:t,selectedSizes:e,sizeErrors:n,cartItems:r,handleSizeSelect:i,handleAddToCart:o,removeFromCart:l,renderDescription:u}){const{t:d}=pt(),[h,m]=A.useState(!1);if(!(t!=null&&t.length))return v.jsx("p",{children:d("productList.noProduct")});const g=h?t:t.slice(0,5);return v.jsxs("div",{className:"menu-items-wrapper",children:[v.jsx("div",{className:"menu-items-container",children:g.map((_,T)=>{var k,M;const S=e[_.id],R=n[_.id],I=(_.sizes||[]).reduce((F,K)=>(K.label&&K.price&&(F[K.label]={price:K.price}),F),{}),V=S?`${_.id}_${S}`:null,b=V&&((k=r[V])!=null&&k.quantity)?r[V].quantity:0;return v.jsxs("div",{className:"food-item fade-in",style:{animationDelay:`${T*.05}s`},children:[v.jsxs("div",{className:"food-item-image-container",children:[v.jsx("img",{className:"food-item-image",src:_.image,alt:_.name}),b?v.jsxs("div",{className:"food-item-counter",children:[v.jsx("img",{onClick:()=>l(_.id,S,"products"),src:Dm.remove_icon_red,alt:"remove"}),v.jsx("p",{children:b}),v.jsx("img",{onClick:()=>o(_,I,"products"),src:Dm.add_icon_green,alt:"add"})]}):v.jsx("img",{className:"add",onClick:()=>o(_,I,"products"),src:Dm.add_icon_white,alt:"add"})]}),v.jsxs("div",{className:"food-item-info",children:[v.jsx("div",{className:"food-item-name-only",children:v.jsx("p",{children:_.name})}),v.jsx("div",{className:"food-item-desc",children:u(_)}),v.jsxs("div",{className:"price-and-sizes",children:[v.jsx("p",{className:"food-item-price",children:S?`$${(M=I[S])==null?void 0:M.price.toFixed(2)}`:d("productList.priceLabel")}),v.jsx("div",{className:"food-item-sizes",children:Object.entries(I).map(([F])=>v.jsx("button",{className:`size-btn ${S===F?"selected":""} ${R?"error-border":""}`,onClick:()=>i(_.id,F),children:F},F))})]})]})]},`${_.id}-${S||"default"}`)})}),t.length>5&&v.jsx("button",{className:"view-toggle-button fade-in",onClick:()=>m(_=>!_),style:{animationDelay:`${g.length*.05}s`},children:d(h?"productList.viewLess":"productList.viewMore")})]})}function tV({showModal:t,setShowModal:e,modalContent:n}){const{t:r}=pt();return t?v.jsx("div",{className:"menu-modal fade-in-modal",onClick:()=>e(!1),children:v.jsxs("div",{className:"menu-modal-content scale-in",onClick:i=>i.stopPropagation(),children:[v.jsx("h3",{className:"menu-modal-title",children:n.title}),v.jsx("p",{className:"menu-modal-description",children:n.description}),v.jsx("button",{className:"menu-modal-close",onClick:()=>e(!1),children:r("buttons.close")})]})}):null}function nV(){const{slug:t}=an(),[e,n]=A.useState(null),[r,i]=A.useState([]),[o,l]=A.useState([]),[u,d]=A.useState(null),[h,m]=A.useState({}),[g,_]=A.useState({}),[T,S]=A.useState(!1),[R,I]=A.useState({title:"",description:""}),[V,b]=A.useState("basic"),{cartItems:k,addToCart:M,removeFromCart:F}=A.useContext(wf);if(A.useEffect(()=>{(async()=>{try{const L=dt(Qe,"ReVerse",t),ye=await In(L);if(!ye.exists())return;const Ne=ye.data();n(Ne),b(Ne.plan||"basic");const we=(await Bi(qn(Qe,"ReVerse",t,"specialItems"))).docs.map(z=>({id:z.id,...z.data()}));l(we);const Y=qn(L,"products"),re=(await Bi(Y)).docs.map(z=>({id:z.id,...z.data()}));i(re)}catch(L){console.error("Error fetching menu data:",L)}})()},[t]),!e)return null;const K=u?r.filter(U=>U.category===u):r,D=(U,L)=>{m(ye=>({...ye,[U]:L})),_(ye=>({...ye,[U]:!1}))},C=(U,L,ye)=>{const Ne=h[U.id];if(Object.keys(L).length&&!Ne){_(we=>({...we,[U.id]:!0}));return}const _e=L[Ne];M(U,{label:Ne,price:(_e==null?void 0:_e.price)||U.price,collection:ye})},N=(U,L)=>{const ye=U.split(" ");return ye.length<=L?U:ye.slice(0,L).join(" ")+"..."},j=(U,L)=>{I({title:U,description:L}),S(!0)},$=U=>{const L=U.description||"",Ne=L.trim().split(" ").length>3,_e=N(L,3);return v.jsx("p",{onClick:()=>Ne&&j(U.name,L),style:{cursor:Ne?"pointer":"default",color:"#444"},className:"menu-item__desc",children:_e})};return v.jsxs("section",{id:"menu",className:"menu-section",children:[v.jsx(NL,{title:e.menuHeaderTitle,description:e.menuHeaderDesc}),V==="premium"&&v.jsx(OL,{items:o,selectedSizes:h,sizeErrors:g,cartItems:k,handleSizeSelect:D,handleAddToCart:C,removeFromCart:F,renderDescription:$,specialTitle:e.specialTitle},"special-items"),v.jsx(DL,{categories:e.categories,selectedCategory:u,setSelectedCategory:d}),v.jsx("hr",{}),e.topDishesTitle&&v.jsx("h3",{children:e.topDishesTitle}),v.jsx(eV,{products:K,selectedSizes:h,sizeErrors:g,cartItems:k,handleSizeSelect:D,handleAddToCart:C,removeFromCart:F,renderDescription:$}),v.jsx(tV,{showModal:T,setShowModal:S,modalContent:R})]})}function wb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Po(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wb(t))&&(r&&(r+=" "),r+=e);return r}function rV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}rV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var su=t=>typeof t=="number"&&!isNaN(t),Lo=t=>typeof t=="string",zi=t=>typeof t=="function",iV=t=>Lo(t)||su(t),Ag=t=>Lo(t)||zi(t)?t:null,sV=(t,e)=>t===!1||su(t)&&t>0?t:e,Rg=t=>A.isValidElement(t)||Lo(t)||zi(t)||su(t);function oV(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function aV({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:h,isIn:m,playToast:g}){let _=n?`${t}--${l}`:t,T=n?`${e}--${l}`:e,S=A.useRef(0);return A.useLayoutEffect(()=>{let R=h.current,I=_.split(" "),V=b=>{b.target===h.current&&(g(),R.removeEventListener("animationend",V),R.removeEventListener("animationcancel",V),S.current===0&&b.type!=="animationcancel"&&R.classList.remove(...I))};R.classList.add(...I),R.addEventListener("animationend",V),R.addEventListener("animationcancel",V)},[]),A.useEffect(()=>{let R=h.current,I=()=>{R.removeEventListener("animationend",I),r?oV(R,d,i):d()};m||(u?I():(S.current=1,R.className+=` ${T}`,R.addEventListener("animationend",I)))},[m]),it.createElement(it.Fragment,null,o)}}function $1(t,e){return{content:Eb(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Eb(t,e,n=!1){return A.isValidElement(t)&&!Lo(t.type)?A.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):zi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function lV({closeToast:t,theme:e,ariaLabel:n="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cV({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:m}){let g=i||l&&u===0,_={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(_.transform=`scaleX(${u})`);let T=Po("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),S=zi(o)?o({rtl:d,type:r,defaultClassName:T}):Po(T,o),R={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&n()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),it.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:S,style:_,...R}))}var uV=1,Tb=()=>`${uV++}`;function dV(t,e,n){let r=1,i=0,o=[],l=[],u=e,d=new Map,h=new Set,m=b=>(h.add(b),()=>h.delete(b)),g=()=>{l=Array.from(d.values()),h.forEach(b=>b())},_=({containerId:b,toastId:k,updateId:M})=>{let F=b?b!==t:t!==1,K=d.has(k)&&M==null;return F||K},T=(b,k)=>{d.forEach(M=>{var F;(k==null||k===M.props.toastId)&&((F=M.toggle)==null||F.call(M,b))})},S=b=>{var k,M;(M=(k=b.props)==null?void 0:k.onClose)==null||M.call(k,b.removalReason),b.isActive=!1},R=b=>{if(b==null)d.forEach(S);else{let k=d.get(b);k&&S(k)}g()},I=()=>{i-=o.length,o=[]},V=b=>{var k,M;let{toastId:F,updateId:K}=b.props,D=K==null;b.staleId&&d.delete(b.staleId),b.isActive=!0,d.set(F,b),g(),n($1(b,D?"added":"updated")),D&&((M=(k=b.props).onOpen)==null||M.call(k))};return{id:t,props:u,observe:m,toggle:T,removeToast:R,toasts:d,clearQueue:I,buildToast:(b,k)=>{if(_(k))return;let{toastId:M,updateId:F,data:K,staleId:D,delay:C}=k,N=F==null;N&&i++;let j={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(k).filter(([U,L])=>L!=null)),toastId:M,updateId:F,data:K,isIn:!1,className:Ag(k.className||u.toastClassName),progressClassName:Ag(k.progressClassName||u.progressClassName),autoClose:k.isLoading?!1:sV(k.autoClose,u.autoClose),closeToast(U){d.get(M).removalReason=U,R(M)},deleteToast(){let U=d.get(M);if(U!=null){if(n($1(U,"removed")),d.delete(M),i--,i<0&&(i=0),o.length>0){V(o.shift());return}g()}}};j.closeButton=u.closeButton,k.closeButton===!1||Rg(k.closeButton)?j.closeButton=k.closeButton:k.closeButton===!0&&(j.closeButton=Rg(u.closeButton)?u.closeButton:!0);let $={content:b,props:j,staleId:D};u.limit&&u.limit>0&&i>u.limit&&N?o.push($):su(C)?setTimeout(()=>{V($)},C):V($)},setProps(b){u=b},setToggle:(b,k)=>{let M=d.get(b);M&&(M.toggle=k)},isToastActive:b=>{var k;return(k=d.get(b))==null?void 0:k.isActive},getSnapshot:()=>l}}var On=new Map,jc=[],kg=new Set,hV=t=>kg.forEach(e=>e(t)),Sb=()=>On.size>0;function fV(){jc.forEach(t=>bb(t.content,t.options)),jc=[]}var pV=(t,{containerId:e})=>{var n;return(n=On.get(e||1))==null?void 0:n.toasts.get(t)};function xb(t,e){var n;if(e)return!!((n=On.get(e))!=null&&n.isToastActive(t));let r=!1;return On.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function mV(t){if(!Sb()){jc=jc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||iV(t))On.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=On.get(t.containerId);e?e.removeToast(t.id):On.forEach(n=>{n.removeToast(t.id)})}}var gV=(t={})=>{On.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function bb(t,e){Rg(t)&&(Sb()||jc.push({content:t,options:e}),On.forEach(n=>{n.buildToast(t,e)}))}function yV(t){var e;(e=On.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Ib(t,e){On.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function vV(t){let e=t.containerId||1;return{subscribe(n){let r=dV(e,t,hV);On.set(e,r);let i=r.observe(n);return fV(),()=>{i(),On.delete(e)}},setProps(n){var r;(r=On.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=On.get(e))==null?void 0:n.getSnapshot()}}}function _V(t){return kg.add(t),()=>{kg.delete(t)}}function wV(t){return t&&(Lo(t.toastId)||su(t.toastId))?t.toastId:Tb()}function ou(t,e){return bb(t,e),e.toastId}function Ef(t,e){return{...e,type:e&&e.type||t,toastId:wV(e)}}function Tf(t){return(e,n)=>ou(e,Ef(t,n))}function pe(t,e){return ou(t,Ef("default",e))}pe.loading=(t,e)=>ou(t,Ef("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function EV(t,{pending:e,error:n,success:r},i){let o;e&&(o=Lo(e)?pe.loading(e,i):pe.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,m,g)=>{if(m==null){pe.dismiss(o);return}let _={type:h,...l,...i,data:g},T=Lo(m)?{render:m}:m;return o?pe.update(o,{..._,...T}):pe(T.render,{..._,...T}),g},d=zi(t)?t():t;return d.then(h=>u("success",r,h)).catch(h=>u("error",n,h)),d}pe.promise=EV;pe.success=Tf("success");pe.info=Tf("info");pe.error=Tf("error");pe.warning=Tf("warning");pe.warn=pe.warning;pe.dark=(t,e)=>ou(t,Ef("default",{theme:"dark",...e}));function TV(t){mV(t)}pe.dismiss=TV;pe.clearWaitingQueue=gV;pe.isActive=xb;pe.update=(t,e={})=>{let n=pV(t,e);if(n){let{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:Tb()};o.toastId!==t&&(o.staleId=t);let l=o.render||i;delete o.render,ou(l,o)}};pe.done=t=>{pe.update(t,{progress:1})};pe.onChange=_V;pe.play=t=>Ib(!0,t);pe.pause=t=>Ib(!1,t);function SV(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=A.useRef(vV(t)).current;i(t);let o=(e=A.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let d=new Map;return t.newestOnTop&&o.reverse(),o.forEach(h=>{let{position:m}=h.props;d.has(m)||d.set(m,[]),d.get(m).push(h)}),Array.from(d,h=>u(h[0],h[1]))}return{getToastToRender:l,isToastActive:xb,count:o==null?void 0:o.length}}function xV(t){let[e,n]=A.useState(!1),[r,i]=A.useState(!1),o=A.useRef(null),l=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:h,onClick:m,closeOnClick:g}=t;yV({id:t.toastId,containerId:t.containerId,fn:n}),A.useEffect(()=>{if(t.pauseOnFocusLoss)return _(),()=>{T()}},[t.pauseOnFocusLoss]);function _(){document.hasFocus()||V(),window.addEventListener("focus",I),window.addEventListener("blur",V)}function T(){window.removeEventListener("focus",I),window.removeEventListener("blur",V)}function S(D){if(t.draggable===!0||t.draggable===D.pointerType){b();let C=o.current;l.canCloseOnClick=!0,l.canDrag=!0,C.style.transition="none",t.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=C.offsetWidth*(t.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=C.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function R(D){let{top:C,bottom:N,left:j,right:$}=o.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&t.pauseOnHover&&D.clientX>=j&&D.clientX<=$&&D.clientY>=C&&D.clientY<=N?V():I()}function I(){n(!0)}function V(){n(!1)}function b(){l.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",F)}function k(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",F)}function M(D){let C=o.current;if(l.canDrag&&C){l.didMove=!0,e&&V(),t.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let N=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;C.style.transform=`translate3d(${N},0)`,C.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function F(){k();let D=o.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let K={onPointerDown:S,onPointerUp:R};return u&&d&&(K.onMouseEnter=V,t.stacked||(K.onMouseLeave=I)),g&&(K.onClick=D=>{m&&m(D),l.canCloseOnClick&&h(!0)}),{playToast:I,pauseToast:V,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:K}}var bV=typeof window<"u"?A.useLayoutEffect:A.useEffect,Sf=({theme:t,type:e,isLoading:n,...r})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function IV(t){return it.createElement(Sf,{...t},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CV(t){return it.createElement(Sf,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function PV(t){return it.createElement(Sf,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function AV(t){return it.createElement(Sf,{...t},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function RV(){return it.createElement("div",{className:"Toastify__spinner"})}var Ng={info:CV,warning:IV,success:PV,error:AV,spinner:RV},kV=t=>t in Ng;function NV({theme:t,type:e,isLoading:n,icon:r}){let i=null,o={theme:t,type:e};return r===!1||(zi(r)?i=r({...o,isLoading:n}):A.isValidElement(r)?i=A.cloneElement(r,o):n?i=Ng.spinner():kV(e)&&(i=Ng[e](o))),i}var OV=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=xV(t),{closeButton:l,children:u,autoClose:d,onClick:h,type:m,hideProgressBar:g,closeToast:_,transition:T,position:S,className:R,style:I,progressClassName:V,updateId:b,role:k,progress:M,rtl:F,toastId:K,deleteToast:D,isIn:C,isLoading:N,closeOnClick:j,theme:$,ariaLabel:U}=t,L=Po("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":j}),ye=zi(R)?R({rtl:F,position:S,type:m,defaultClassName:L}):Po(L,R),Ne=NV(t),_e=!!M||!d,we={closeToast:_,type:m,theme:$},Y=null;return l===!1||(zi(l)?Y=l(we):A.isValidElement(l)?Y=A.cloneElement(l,we):Y=lV(we)),it.createElement(T,{isIn:C,done:D,position:S,preventExitTransition:n,nodeRef:r,playToast:o},it.createElement("div",{id:K,tabIndex:0,onClick:h,"data-in":C,className:ye,...i,style:I,ref:r,...C&&{role:k,"aria-label":U}},Ne!=null&&it.createElement("div",{className:Po("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},Ne),Eb(u,t,!e),Y,!t.customProgressBar&&it.createElement(cV,{...b&&!_e?{key:`p-${b}`}:{},rtl:F,theme:$,delay:d,isRunning:e,isIn:C,closeToast:_,hide:g,type:m,className:V,controlledProgress:_e,progress:M||0})))},DV=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),LV=aV(DV("bounce",!0)),VV={position:"top-right",transition:LV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function au(t){let e={...VV,...t},n=t.stacked,[r,i]=A.useState(!0),o=A.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=SV(e),{className:h,style:m,rtl:g,containerId:_,hotKeys:T}=e;function S(I){let V=Po("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":g});return zi(h)?h({position:I,rtl:g,defaultClassName:V}):Po(V,Ag(h))}function R(){n&&(i(!0),pe.play())}return bV(()=>{var I;if(n){let V=o.current.querySelectorAll('[data-in="true"]'),b=12,k=(I=e.position)==null?void 0:I.includes("top"),M=0,F=0;Array.from(V).reverse().forEach((K,D)=>{let C=K;C.classList.add("Toastify__toast--stacked"),D>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=k?"top":"bot");let N=M*(r?.2:1)+(r?0:b*D);C.style.setProperty("--y",`${k?N:N*-1}px`),C.style.setProperty("--g",`${b}`),C.style.setProperty("--s",`${1-(r?F:0)}`),M+=C.offsetHeight,F+=.025})}},[r,d,n]),A.useEffect(()=>{function I(V){var b;let k=o.current;T(V)&&((b=k.querySelector('[tabIndex="0"]'))==null||b.focus(),i(!1),pe.pause()),V.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(i(!0),pe.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[T]),it.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(i(!1),pe.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((I,V)=>{let b=V.length?{...m}:{...m,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:S(I),"data-stacked":n,style:b,key:`c-${I}`},V.map(({content:k,props:M})=>it.createElement(OV,{...M,stacked:n,collapseAll:R,isIn:u(M.toastId,M.containerId),key:`t-${M.key}`},k)))}))}const jV=({onClose:t,settings:e,reservationId:n,slug:r})=>{var T;const[i,o]=A.useState(""),[l,u]=A.useState(!1),[d,h]=A.useState(!1),{t:m}=pt();A.useEffect(()=>{const S=setTimeout(()=>h(!0),10);return()=>clearTimeout(S)},[]);const g=()=>({"Vodafone Cash":e.vodafoneNumber?m("modal.instructions.vodafone",{number:e.vodafoneNumber}):null,PayPal:e.paypalAccount?m("modal.instructions.paypal",{account:e.paypalAccount}):null,Stripe:e.stripeLink?m("modal.instructions.stripe",{link:e.stripeLink}):null,Fawry:e.fawryCode?m("modal.instructions.fawry",{code:e.fawryCode}):null})[i]||null,_=async()=>{if(!i){u(!0),pe.error(m("modal.error"));return}const S=dt(Qe,"ReVerse",r,"bookTable",n);await $s(S,{paymentMethod:i}),pe.success(m("modal.success")),t()};return v.jsxs("div",{className:"modal-overlay",children:[v.jsxs("div",{className:`modal-content ${d?"fade-scale-in":""}`,children:[v.jsx("h3",{className:"modal-title",children:m("modal.title")}),v.jsx("p",{className:"modal-text",children:m("modal.depositNotice",{amount:e.depositAmount})}),v.jsx("label",{className:"modal-label",children:m("modal.selectMethod")}),v.jsxs("select",{className:`modal-select ${l&&!i?"error-border":""}`,value:i,onChange:S=>{o(S.target.value),u(!1)},children:[v.jsx("option",{value:"",children:m("modal.chooseMethod")}),(T=e.paymentOptions)==null?void 0:T.map((S,R)=>v.jsx("option",{value:S,children:S},R))]}),i&&g()&&v.jsx("p",{className:"payment-instructions",children:g()}),v.jsxs("div",{className:"modal-buttons",children:[v.jsx("button",{onClick:_,className:"confirm-btn",children:m("modal.confirm")}),v.jsx("button",{onClick:t,className:"cancel-btn",children:m("modal.cancel")})]})]}),v.jsx(au,{position:"top-center"})]})};function MV({slug:t}){const[e,n]=A.useState(null),[r,i]=A.useState("2"),[o,l]=A.useState(""),[u,d]=A.useState("08:00 PM"),[h,m]=A.useState(""),[g,_]=A.useState(!1),[T,S]=A.useState(null),R=A.useRef(null),{t:I}=pt();A.useEffect(()=>{(async()=>{const k=dt(Qe,"ReVerse",t),M=await In(k);if(M.exists()){const F=M.data().reservationSettings;n(F)}})()},[t]);const V=async b=>{if(b.preventDefault(),!h||!o||!u){pe.error(I("reservation.errors.requiredFields"));return}try{const k=qn(dt(Qe,"ReVerse",t),"bookTable"),M=await mf(k,{name:h,tableSize:r,date:o,time:u,depositAmount:e.depositAmount,createdAt:Wt.now(),status:"pending"});S(M.id),_(!0),i("2"),l(""),d("08:00 PM"),m("")}catch(k){console.error("Reservation error:",k),pe.error(I("reservation.errors.general"))}};return e?v.jsxs("section",{id:"book",className:"reservation-section",ref:R,children:[v.jsxs("h2",{className:"reservation-title fade-up",children:["",I("reservation.title"),""]}),v.jsxs("div",{className:"reservation-wrapper",children:[v.jsxs("div",{className:"left-side fade-left",children:[v.jsx("img",{className:"reservation-image",src:e.reservationImage,alt:"Restaurant"}),v.jsxs("p",{className:"reservation-info",children:[v.jsxs("strong",{children:[I("reservation.info.openingHours"),":"]}),v.jsx("br",{}),e.openingHours]}),v.jsxs("p",{className:"reservation-info",children:[v.jsxs("strong",{children:[I("reservation.info.additionalInfo"),":"]}),v.jsx("br",{}),e.additionalInfo]})]}),v.jsx("div",{className:"right-side fade-right",children:v.jsxs("form",{onSubmit:V,children:[v.jsxs("label",{className:"reservation-label",children:[I("reservation.labels.yourName"),":"]}),v.jsx("input",{className:"reservation-input",type:"text",value:h,onChange:b=>m(b.target.value),required:!0}),v.jsxs("label",{className:"reservation-label",children:[I("reservation.labels.tableSize"),":"]}),v.jsx("select",{value:r,onChange:b=>i(b.target.value),children:[2,4,6,8,10,12].map(b=>v.jsx("option",{value:b,children:b},b))}),v.jsxs("label",{className:"reservation-label",children:[I("reservation.labels.chooseADay"),":"]}),v.jsx("input",{className:"reservation-input",type:"date",value:o,onChange:b=>l(b.target.value),required:!0}),v.jsxs("label",{className:"reservation-label",children:[I("reservation.labels.chooseATime"),":"]}),v.jsx("select",{value:u,onChange:b=>d(b.target.value),children:["01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM","08:30 PM","09:00 PM"].map(b=>v.jsx("option",{value:b,children:b},b))}),v.jsx("button",{className:"reservation-button",type:"submit",children:I("buttons.submit")})]})})]}),g&&v.jsx(jV,{onClose:()=>_(!1),settings:e,reservationId:T,slug:t}),v.jsx(au,{})]}):null}const FV=()=>{const{slug:t}=an(),e=mi();return A.useEffect(()=>{const r=new URLSearchParams(e.search).get("scrollTo");if(r){const i=document.getElementById(r);i&&setTimeout(()=>{i.scrollIntoView({behavior:"smooth"})},300)}},[e]),v.jsxs("div",{children:[v.jsx(kL,{slug:t}),v.jsx(nV,{slug:t}),v.jsx(MV,{slug:t})]})},hv=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xf=A.createContext({});function UV(){return A.useContext(xf).visualElement}const lu=A.createContext(null),Uo=typeof document<"u",Ih=Uo?A.useLayoutEffect:A.useEffect,Cb=A.createContext({strict:!1});function BV(t,e,n,r){const i=UV(),o=A.useContext(Cb),l=A.useContext(lu),u=A.useContext(hv).reducedMotion,d=A.useRef();r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceId:l?l.id:void 0,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current;return Ih(()=>{h&&h.render()}),A.useEffect(()=>{h&&h.animationState&&h.animationState.animateChanges()}),Ih(()=>()=>h&&h.notify("Unmount"),[]),h}function La(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $V(t,e,n){return A.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[e])}function Mc(t){return typeof t=="string"||Array.isArray(t)}function bf(t){return typeof t=="object"&&typeof t.start=="function"}const zV=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function If(t){return bf(t.animate)||zV.some(e=>Mc(t[e]))}function Pb(t){return!!(If(t)||t.variants)}function HV(t,e){if(If(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Mc(n)?n:void 0,animate:Mc(r)?r:void 0}}return t.inherit!==!1?e:{}}function qV(t){const{initial:e,animate:n}=HV(t,A.useContext(xf));return A.useMemo(()=>({initial:e,animate:n}),[z1(e),z1(n)])}function z1(t){return Array.isArray(t)?t.join(" "):t}const Ni=t=>({isEnabled:e=>t.some(n=>!!e[n])}),Fc={measureLayout:Ni(["layout","layoutId","drag"]),animation:Ni(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Ni(["exit"]),drag:Ni(["drag","dragControls"]),focus:Ni(["whileFocus"]),hover:Ni(["whileHover","onHoverStart","onHoverEnd"]),tap:Ni(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Ni(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Ni(["whileInView","onViewportEnter","onViewportLeave"])};function WV(t){for(const e in t)e==="projectionNodeConstructor"?Fc.projectionNodeConstructor=t[e]:Fc[e].Component=t[e]}function Cf(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let KV=1;function GV(){return Cf(()=>{if(yc.hasEverUpdated)return KV++})}const fv=A.createContext({});class QV extends it.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const Ab=A.createContext({}),YV=Symbol.for("motionComponentSymbol");function XV({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:o}){t&&WV(t);function l(d,h){const m={...A.useContext(hv),...d,layoutId:JV(d)},{isStatic:g}=m;let _=null;const T=qV(d),S=g?void 0:GV(),R=i(d,g);if(!g&&Uo){T.visualElement=BV(o,R,m,e);const I=A.useContext(Cb).strict,V=A.useContext(Ab);T.visualElement&&(_=T.visualElement.loadFeatures(m,I,t,S,n||Fc.projectionNodeConstructor,V))}return A.createElement(QV,{visualElement:T.visualElement,props:m},_,A.createElement(xf.Provider,{value:T},r(o,d,S,$V(R,T.visualElement,h),R,g,T.visualElement)))}const u=A.forwardRef(l);return u[YV]=o,u}function JV({layoutId:t}){const e=A.useContext(fv).id;return e&&t!==void 0?e+"-"+t:t}function ZV(t){function e(r,i={}){return XV(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const e3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","text","tspan","use","view"];function pv(t){return typeof t!="string"||t.includes("-")?!1:!!(e3.indexOf(t)>-1||/[A-Z]/.test(t))}const Ch={};function t3(t){Object.assign(Ch,t)}const Ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(Ph);function Rb(t,{layout:e,layoutId:n}){return fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ch[t]||t==="opacity")}const pi=t=>!!(t!=null&&t.getVelocity),n3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r3=(t,e)=>Ph.indexOf(t)-Ph.indexOf(e);function i3({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,o){let l="";e.sort(r3);for(const u of e)l+=`${n3[u]||u}(${t[u]}) `;return n&&!t.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(t,i?"":l):r&&i&&(l="none"),l}function kb(t){return t.startsWith("--")}const s3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nb=(t,e)=>n=>Math.max(Math.min(n,e),t),vc=t=>t%1?Number(t.toFixed(5)):t,Uc=/(-)?([\d]*\.?[\d])+/g,Og=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,o3=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cu(t){return typeof t=="string"}const Bo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_c=Object.assign(Object.assign({},Bo),{transform:Nb(0,1)}),Vd=Object.assign(Object.assign({},Bo),{default:1}),uu=t=>({test:e=>cu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ws=uu("deg"),hi=uu("%"),je=uu("px"),a3=uu("vh"),l3=uu("vw"),H1=Object.assign(Object.assign({},hi),{parse:t=>hi.parse(t)/100,transform:t=>hi.transform(t*100)}),mv=(t,e)=>n=>!!(cu(n)&&o3.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Ob=(t,e,n)=>r=>{if(!cu(r))return r;const[i,o,l,u]=r.match(Uc);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},bo={test:mv("hsl","hue"),parse:Ob("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hi.transform(vc(e))+", "+hi.transform(vc(n))+", "+vc(_c.transform(r))+")"},c3=Nb(0,255),Lm=Object.assign(Object.assign({},Bo),{transform:t=>Math.round(c3(t))}),Cs={test:mv("rgb","red"),parse:Ob("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Lm.transform(t)+", "+Lm.transform(e)+", "+Lm.transform(n)+", "+vc(_c.transform(r))+")"};function u3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Dg={test:mv("#"),parse:u3,transform:Cs.transform},Nn={test:t=>Cs.test(t)||Dg.test(t)||bo.test(t),parse:t=>Cs.test(t)?Cs.parse(t):bo.test(t)?bo.parse(t):Dg.parse(t),transform:t=>cu(t)?t:t.hasOwnProperty("red")?Cs.transform(t):bo.transform(t)},Db="${c}",Lb="${n}";function d3(t){var e,n,r,i;return isNaN(t)&&cu(t)&&((n=(e=t.match(Uc))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((i=(r=t.match(Og))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function Vb(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(Og);r&&(n=r.length,t=t.replace(Og,Db),e.push(...r.map(Nn.parse)));const i=t.match(Uc);return i&&(t=t.replace(Uc,Lb),e.push(...i.map(Bo.parse))),{values:e,numColors:n,tokenised:t}}function jb(t){return Vb(t).values}function Mb(t){const{values:e,numColors:n,tokenised:r}=Vb(t),i=e.length;return o=>{let l=r;for(let u=0;u<i;u++)l=l.replace(u<n?Db:Lb,u<n?Nn.transform(o[u]):vc(o[u]));return l}}const h3=t=>typeof t=="number"?0:t;function f3(t){const e=jb(t);return Mb(t)(e.map(h3))}const Hi={test:d3,parse:jb,createTransformer:Mb,getAnimatableNone:f3},p3=new Set(["brightness","contrast","saturate","opacity"]);function m3(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Uc)||[];if(!r)return t;const i=n.replace(r,"");let o=p3.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const g3=/([a-z-]*)\(.*?\)/g,Lg=Object.assign(Object.assign({},Hi),{getAnimatableNone:t=>{const e=t.match(g3);return e?e.map(m3).join(" "):t}}),q1={...Bo,transform:Math.round},Fb={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,size:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:Vd,scaleX:Vd,scaleY:Vd,scaleZ:Vd,skew:ws,skewX:ws,skewY:ws,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:_c,originX:H1,originY:H1,originZ:je,zIndex:q1,fillOpacity:_c,strokeOpacity:_c,numOctaves:q1};function gv(t,e,n,r){const{style:i,vars:o,transform:l,transformKeys:u,transformOrigin:d}=t;u.length=0;let h=!1,m=!1,g=!0;for(const _ in e){const T=e[_];if(kb(_)){o[_]=T;continue}const S=Fb[_],R=s3(T,S);if(fl.has(_)){if(h=!0,l[_]=R,u.push(_),!g)continue;T!==(S.default||0)&&(g=!1)}else _.startsWith("origin")?(m=!0,d[_]=R):i[_]=R}if(e.transform||(h||r?i.transform=i3(t,n,g,r):i.transform&&(i.transform="none")),m){const{originX:_="50%",originY:T="50%",originZ:S=0}=d;i.transformOrigin=`${_} ${T} ${S}`}}const yv=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function Ub(t,e,n){for(const r in e)!pi(e[r])&&!Rb(r,n)&&(t[r]=e[r])}function y3({transformTemplate:t},e,n){return A.useMemo(()=>{const r=yv();return gv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function v3(t,e,n){const r=t.style||{},i={};return Ub(i,r,t),Object.assign(i,y3(t,e,n)),t.transformValues?t.transformValues(i):i}function _3(t,e,n){const r={},i=v3(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),r.style=i,r}const w3=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],E3=["whileTap","onTap","onTapStart","onTapCancel"],T3=["onPan","onPanStart","onPanSessionStart","onPanEnd"],S3=["whileInView","onViewportEnter","onViewportLeave","viewport"],x3=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...S3,...E3,...w3,...T3]);function Ah(t){return x3.has(t)}let Bb=t=>!Ah(t);function b3(t){t&&(Bb=e=>e.startsWith("on")?!Ah(e):t(e))}try{b3(require("@emotion/is-prop-valid").default)}catch{}function I3(t,e,n){const r={};for(const i in t)(Bb(i)||n===!0&&Ah(i)||!e&&!Ah(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function W1(t,e,n){return typeof t=="string"?t:je.transform(e+n*t)}function C3(t,e,n){const r=W1(e,t.x,t.width),i=W1(n,t.y,t.height);return`${r} ${i}`}const P3={offset:"stroke-dashoffset",array:"stroke-dasharray"},A3={offset:"strokeDashoffset",array:"strokeDasharray"};function R3(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?P3:A3;t[o.offset]=je.transform(-r);const l=je.transform(e),u=je.transform(n);t[o.array]=`${l} ${u}`}function vv(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,m){gv(t,d,h,m),t.attrs=t.style,t.style={};const{attrs:g,style:_,dimensions:T}=t;g.transform&&(T&&(_.transform=g.transform),delete g.transform),T&&(r!==void 0||i!==void 0||_.transform)&&(_.transformOrigin=C3(T,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),o!==void 0&&R3(g,o,l,u,!1)}const $b=()=>({...yv(),attrs:{}});function k3(t,e){const n=A.useMemo(()=>{const r=$b();return vv(r,e,{enableHardwareAcceleration:!1},t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};Ub(r,t.style,t),n.style={...r,...n.style}}return n}function N3(t=!1){return(n,r,i,o,{latestValues:l},u)=>{const h=(pv(n)?k3:_3)(r,l,u),g={...I3(r,typeof n=="string",t),...h,ref:o};return i&&(g["data-projection-id"]=i),A.createElement(n,g)}}const zb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Hb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const qb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Wb(t,e,n,r){Hb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(qb.has(i)?i:zb(i),e.attrs[i])}function _v(t){const{style:e}=t,n={};for(const r in e)(pi(e[r])||Rb(r,t))&&(n[r]=e[r]);return n}function Kb(t){const e=_v(t);for(const n in t)if(pi(t[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[r]=t[n]}return e}function wv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const Bc=t=>Array.isArray(t),O3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Gb=t=>Bc(t)?t[t.length-1]||0:t;function eh(t){const e=pi(t)?t.get():t;return O3(e)?e.toValue():e}function D3({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const l={latestValues:L3(r,i,o,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const Qb=t=>(e,n)=>{const r=A.useContext(xf),i=A.useContext(lu),o=()=>D3(t,e,r,i);return n?o():Cf(o)};function L3(t,e,n,r){const i={},o=r(t);for(const _ in o)i[_]=eh(o[_]);let{initial:l,animate:u}=t;const d=If(t),h=Pb(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?u:l;return g&&typeof g!="boolean"&&!bf(g)&&(Array.isArray(g)?g:[g]).forEach(T=>{const S=wv(t,T);if(!S)return;const{transitionEnd:R,transition:I,...V}=S;for(const b in V){let k=V[b];if(Array.isArray(k)){const M=m?k.length-1:0;k=k[M]}k!==null&&(i[b]=k)}for(const b in R)i[b]=R[b]}),i}const V3={useVisualState:Qb({scrapeMotionValuesFromProps:Kb,createRenderState:$b,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}vv(n,r,{enableHardwareAcceleration:!1},t.transformTemplate),Wb(e,n)}})},j3={useVisualState:Qb({scrapeMotionValuesFromProps:_v,createRenderState:yv})};function M3(t,{forwardMotionProps:e=!1},n,r,i){return{...pv(t)?V3:j3,preloadedFeatures:n,useRender:N3(e),createVisualElement:r,projectionNodeConstructor:i,Component:t}}var xt;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(xt||(xt={}));function Pf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vg(t,e,n,r){A.useEffect(()=>{const i=t.current;if(n&&i)return Pf(i,e,n,r)},[t,e,n,r])}function F3({whileFocus:t,visualElement:e}){const{animationState:n}=e,r=()=>{n&&n.setActive(xt.Focus,!0)},i=()=>{n&&n.setActive(xt.Focus,!1)};Vg(e,"focus",t?r:void 0),Vg(e,"blur",t?i:void 0)}function Yb(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function Xb(t){return!!t.touches}function U3(t){return e=>{const n=e instanceof MouseEvent;(!n||n&&e.button===0)&&t(e)}}const B3={pageX:0,pageY:0};function $3(t,e="page"){const r=t.touches[0]||t.changedTouches[0]||B3;return{x:r[e+"X"],y:r[e+"Y"]}}function z3(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function Ev(t,e="page"){return{point:Xb(t)?$3(t,e):z3(t,e)}}const Jb=(t,e=!1)=>{const n=r=>t(r,Ev(r));return e?U3(n):n},H3=()=>Uo&&window.onpointerdown===null,q3=()=>Uo&&window.ontouchstart===null,W3=()=>Uo&&window.onmousedown===null,K3={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},G3={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Zb(t){return H3()?t:q3()?G3[t]:W3()?K3[t]:t}function Ba(t,e,n,r){return Pf(t,Zb(e),Jb(n,e==="pointerdown"),r)}function Rh(t,e,n,r){return Vg(t,Zb(e),n&&Jb(n,e==="pointerdown"),r)}function eI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const K1=eI("dragHorizontal"),G1=eI("dragVertical");function tI(t){let e=!1;if(t==="y")e=G1();else if(t==="x")e=K1();else{const n=K1(),r=G1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function nI(){const t=tI(!0);return t?(t(),!1):!0}function Q1(t,e,n){return(r,i)=>{!Yb(r)||nI()||(t.animationState&&t.animationState.setActive(xt.Hover,e),n&&n(r,i))}}function Q3({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:r}){Rh(r,"pointerenter",t||n?Q1(r,!0,t):void 0,{passive:!t}),Rh(r,"pointerleave",e||n?Q1(r,!1,e):void 0,{passive:!e})}const rI=(t,e)=>e?t===e?!0:rI(t,e.parentElement):!1;function Tv(t){return A.useEffect(()=>()=>t(),[])}function iI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var kh=function(){};const Nh=(t,e,n)=>Math.min(Math.max(n,t),e),Vm=.001,Y3=.01,X3=10,J3=.05,Z3=1;function ej({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,l=1-e;l=Nh(J3,Z3,l),t=Nh(Y3,X3,t/1e3),l<1?(i=h=>{const m=h*l,g=m*t,_=m-n,T=jg(h,l),S=Math.exp(-g);return Vm-_/T*S},o=h=>{const g=h*l*t,_=g*n+n,T=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),R=jg(Math.pow(h,2),l);return(-i(h)+Vm>0?-1:1)*((_-T)*S)/R}):(i=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-Vm+m*g},o=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const u=5/t,d=nj(i,o,u);if(t=t*1e3,isNaN(d))return{stiffness:100,damping:10,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const tj=12;function nj(t,e,n){let r=n;for(let i=1;i<tj;i++)r=r-t(r)/e(r);return r}function jg(t,e){return t*Math.sqrt(1-e*e)}const rj=["duration","bounce"],ij=["stiffness","damping","mass"];function Y1(t,e){return e.some(n=>t[n]!==void 0)}function sj(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Y1(t,ij)&&Y1(t,rj)){const n=ej(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Sv(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:i}=t,o=iI(t,["from","to","restSpeed","restDelta"]);const l={done:!1,value:e};let{stiffness:u,damping:d,mass:h,velocity:m,duration:g,isResolvedFromDuration:_}=sj(o),T=X1,S=X1;function R(){const I=m?-(m/1e3):0,V=n-e,b=d/(2*Math.sqrt(u*h)),k=Math.sqrt(u/h)/1e3;if(i===void 0&&(i=Math.min(Math.abs(n-e)/100,.4)),b<1){const M=jg(k,b);T=F=>{const K=Math.exp(-b*k*F);return n-K*((I+b*k*V)/M*Math.sin(M*F)+V*Math.cos(M*F))},S=F=>{const K=Math.exp(-b*k*F);return b*k*K*(Math.sin(M*F)*(I+b*k*V)/M+V*Math.cos(M*F))-K*(Math.cos(M*F)*(I+b*k*V)-M*V*Math.sin(M*F))}}else if(b===1)T=M=>n-Math.exp(-k*M)*(V+(I+k*V)*M);else{const M=k*Math.sqrt(b*b-1);T=F=>{const K=Math.exp(-b*k*F),D=Math.min(M*F,300);return n-K*((I+b*k*V)*Math.sinh(D)+M*V*Math.cosh(D))/M}}}return R(),{next:I=>{const V=T(I);if(_)l.done=I>=g;else{const b=S(I)*1e3,k=Math.abs(b)<=r,M=Math.abs(n-V)<=i;l.done=k&&M}return l.value=l.done?n:V,l},flipTarget:()=>{m=-m,[e,n]=[n,e],R()}}}Sv.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const X1=t=>0,$c=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},jt=(t,e,n)=>-n*t+n*e+t;function jm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J1({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;i=jm(d,u,t+1/3),o=jm(d,u,t),l=jm(d,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}const oj=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},aj=[Dg,Cs,bo],Z1=t=>aj.find(e=>e.test(t)),sI=(t,e)=>{let n=Z1(t),r=Z1(e),i=n.parse(t),o=r.parse(e);n===bo&&(i=J1(i),n=Cs),r===bo&&(o=J1(o),r=Cs);const l=Object.assign({},i);return u=>{for(const d in l)d!=="alpha"&&(l[d]=oj(i[d],o[d],u));return l.alpha=jt(i.alpha,o.alpha,u),n.transform(l)}},Mg=t=>typeof t=="number",lj=(t,e)=>n=>e(t(n)),Af=(...t)=>t.reduce(lj);function oI(t,e){return Mg(t)?n=>jt(t,e,n):Nn.test(t)?sI(t,e):lI(t,e)}const aI=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,l)=>oI(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}},cj=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=oI(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}};function eE(t){const e=Hi.parse(t),n=e.length;let r=0,i=0,o=0;for(let l=0;l<n;l++)r||typeof e[l]=="number"?r++:e[l].hue!==void 0?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}const lI=(t,e)=>{const n=Hi.createTransformer(e),r=eE(t),i=eE(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Af(aI(r.parsed,i.parsed),n):l=>`${l>0?e:t}`},uj=(t,e)=>n=>jt(t,e,n);function dj(t){if(typeof t=="number")return uj;if(typeof t=="string")return Nn.test(t)?sI:lI;if(Array.isArray(t))return aI;if(typeof t=="object")return cj}function hj(t,e,n){const r=[],i=n||dj(t[0]),o=t.length-1;for(let l=0;l<o;l++){let u=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]:e;u=Af(d,u)}r.push(u)}return r}function fj([t,e],[n]){return r=>n($c(t,e,r))}function pj(t,e){const n=t.length,r=n-1;return i=>{let o=0,l=!1;if(i<=t[0]?l=!0:i>=t[r]&&(o=r-1,l=!0),!l){let d=1;for(;d<n&&!(t[d]>i||d===r);d++);o=d-1}const u=$c(t[o],t[o+1],i);return e[o](u)}}function cI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;kh(o===e.length),kh(!r||!Array.isArray(r)||r.length===o-1),t[0]>t[o-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const l=hj(e,r,i),u=o===2?fj(t,l):pj(t,l);return n?d=>u(Nh(t[0],t[o-1],d)):u}const Rf=t=>e=>1-t(1-e),xv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mj=t=>e=>Math.pow(e,t),uI=t=>e=>e*e*((t+1)*e-t),gj=t=>{const e=uI(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},dI=1.525,yj=4/11,vj=8/11,_j=9/10,bv=t=>t,Iv=mj(2),wj=Rf(Iv),hI=xv(Iv),fI=t=>1-Math.sin(Math.acos(t)),Cv=Rf(fI),Ej=xv(Cv),Pv=uI(dI),Tj=Rf(Pv),Sj=xv(Pv),xj=gj(dI),bj=4356/361,Ij=35442/1805,Cj=16061/1805,Oh=t=>{if(t===1||t===0)return t;const e=t*t;return t<yj?7.5625*e:t<vj?9.075*e-9.9*t+3.4:t<_j?bj*e-Ij*t+Cj:10.8*t*t-20.52*t+10.72},Pj=Rf(Oh),Aj=t=>t<.5?.5*(1-Oh(1-t*2)):.5*Oh(t*2-1)+.5;function Rj(t,e){return t.map(()=>e||hI).splice(0,t.length-1)}function kj(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function Nj(t,e){return t.map(n=>n*e)}function th({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:t},l=Array.isArray(e)?e:[t,e],u=Nj(r&&r.length===l.length?r:kj(l),i);function d(){return cI(u,l,{ease:Array.isArray(n)?n:Rj(l,n)})}let h=d();return{next:m=>(o.value=h(m),o.done=m>=i,o),flipTarget:()=>{l.reverse(),h=d()}}}function Oj({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const l={done:!1,value:e};let u=n*t;const d=e+u,h=o===void 0?d:o(d);return h!==d&&(u=h-e),{next:m=>{const g=-u*Math.exp(-m/r);return l.done=!(g>i||g<-i),l.value=l.done?h:h+g,l},flipTarget:()=>{}}}const tE={keyframes:th,spring:Sv,decay:Oj};function Dj(t){if(Array.isArray(t.to))return th;if(tE[t.type])return tE[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?th:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Sv:th}const pI=1/60*1e3,Lj=typeof performance<"u"?()=>performance.now():()=>Date.now(),mI=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Lj()),pI);function Vj(t){let e=[],n=[],r=0,i=!1,o=!1;const l=new WeakSet,u={schedule:(d,h=!1,m=!1)=>{const g=m&&i,_=g?e:n;return h&&l.add(d),_.indexOf(d)===-1&&(_.push(d),g&&i&&(r=e.length)),d},cancel:d=>{const h=n.indexOf(d);h!==-1&&n.splice(h,1),l.delete(d)},process:d=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let h=0;h<r;h++){const m=e[h];m(d),l.has(m)&&(u.schedule(m),t())}i=!1,o&&(o=!1,u.process(d))}};return u}const jj=40;let Fg=!0,zc=!1,Ug=!1;const $a={delta:0,timestamp:0},du=["read","update","preRender","render","postRender"],kf=du.reduce((t,e)=>(t[e]=Vj(()=>zc=!0),t),{}),wr=du.reduce((t,e)=>{const n=kf[e];return t[e]=(r,i=!1,o=!1)=>(zc||Fj(),n.schedule(r,i,o)),t},{}),zs=du.reduce((t,e)=>(t[e]=kf[e].cancel,t),{}),Mm=du.reduce((t,e)=>(t[e]=()=>kf[e].process($a),t),{}),Mj=t=>kf[t].process($a),gI=t=>{zc=!1,$a.delta=Fg?pI:Math.max(Math.min(t-$a.timestamp,jj),1),$a.timestamp=t,Ug=!0,du.forEach(Mj),Ug=!1,zc&&(Fg=!1,mI(gI))},Fj=()=>{zc=!0,Fg=!0,Ug||mI(gI)},Dh=()=>$a;function yI(t,e,n=0){return t-e-n}function Uj(t,e,n=0,r=!0){return r?yI(e+-t,e,n):e-(t-e)+n}function Bj(t,e,n,r){return r?t>=e+n:t<=-n}const $j=t=>{const e=({delta:n})=>t(n);return{start:()=>wr.update(e,!0),stop:()=>zs.update(e)}};function vI(t){var e,n,{from:r,autoplay:i=!0,driver:o=$j,elapsed:l=0,repeat:u=0,repeatType:d="loop",repeatDelay:h=0,onPlay:m,onStop:g,onComplete:_,onRepeat:T,onUpdate:S}=t,R=iI(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:I}=R,V,b=0,k=R.duration,M,F=!1,K=!0,D;const C=Dj(R);!((n=(e=C).needsInterpolation)===null||n===void 0)&&n.call(e,r,I)&&(D=cI([0,100],[r,I],{clamp:!1}),r=0,I=100);const N=C(Object.assign(Object.assign({},R),{from:r,to:I}));function j(){b++,d==="reverse"?(K=b%2===0,l=Uj(l,k,h,K)):(l=yI(l,k,h),d==="mirror"&&N.flipTarget()),F=!1,T&&T()}function $(){V.stop(),_&&_()}function U(ye){if(K||(ye=-ye),l+=ye,!F){const Ne=N.next(Math.max(0,l));M=Ne.value,D&&(M=D(M)),F=K?Ne.done:l<=0}S==null||S(M),F&&(b===0&&(k??(k=l)),b<u?Bj(l,k,h,K)&&j():$())}function L(){m==null||m(),V=o(U),V.start()}return i&&L(),{stop:()=>{g==null||g(),V.stop()}}}function _I(t,e){return e?t*(1e3/e):0}function zj({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:l=500,bounceDamping:u=10,restDelta:d=1,modifyTarget:h,driver:m,onUpdate:g,onComplete:_,onStop:T}){let S;function R(k){return n!==void 0&&k<n||r!==void 0&&k>r}function I(k){return n===void 0?r:r===void 0||Math.abs(n-k)<Math.abs(r-k)?n:r}function V(k){S==null||S.stop(),S=vI(Object.assign(Object.assign({},k),{driver:m,onUpdate:M=>{var F;g==null||g(M),(F=k.onUpdate)===null||F===void 0||F.call(k,M)},onComplete:_,onStop:T}))}function b(k){V(Object.assign({type:"spring",stiffness:l,damping:u,restDelta:d},k))}if(R(t))b({from:t,velocity:e,to:I(t)});else{let k=i*e+t;typeof h<"u"&&(k=h(k));const M=I(k),F=M===n?-1:1;let K,D;const C=N=>{K=D,D=N,e=_I(N-K,Dh().delta),(F===1&&N>M||F===-1&&N<M)&&b({from:N,to:M,velocity:e})};V({type:"decay",from:t,velocity:e,timeConstant:o,power:i,restDelta:d,modifyTarget:h,onUpdate:R(k)?C:void 0})}return{stop:()=>S==null?void 0:S.stop()}}const Bg=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),nE=t=>Bg(t)&&t.hasOwnProperty("z"),jd=(t,e)=>Math.abs(t-e);function Hj(t,e){if(Mg(t)&&Mg(e))return jd(t,e);if(Bg(t)&&Bg(e)){const n=jd(t.x,e.x),r=jd(t.y,e.y),i=nE(t)&&nE(e)?jd(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}const wI=(t,e)=>1-3*e+3*t,EI=(t,e)=>3*e-6*t,TI=t=>3*t,Lh=(t,e,n)=>((wI(e,n)*t+EI(e,n))*t+TI(e))*t,SI=(t,e,n)=>3*wI(e,n)*t*t+2*EI(e,n)*t+TI(e),qj=1e-7,Wj=10;function Kj(t,e,n,r,i){let o,l,u=0;do l=e+(n-e)/2,o=Lh(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>qj&&++u<Wj);return l}const Gj=8,Qj=.001;function Yj(t,e,n,r){for(let i=0;i<Gj;++i){const o=SI(e,n,r);if(o===0)return e;const l=Lh(e,n,r)-t;e-=l/o}return e}const nh=11,Md=1/(nh-1);function Xj(t,e,n,r){if(t===e&&n===r)return bv;const i=new Float32Array(nh);for(let l=0;l<nh;++l)i[l]=Lh(l*Md,t,n);function o(l){let u=0,d=1;const h=nh-1;for(;d!==h&&i[d]<=l;++d)u+=Md;--d;const m=(l-i[d])/(i[d+1]-i[d]),g=u+m*Md,_=SI(g,t,n);return _>=Qj?Yj(l,g,t,n):_===0?g:Kj(l,u,u+Md,t,n)}return l=>l===0||l===1?l:Lh(o(l),e,r)}function Jj({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i}){const o=t||e||n||r,l=A.useRef(!1),u=A.useRef(null),d={passive:!(e||t||n||T)};function h(){u.current&&u.current(),u.current=null}function m(){return h(),l.current=!1,i.animationState&&i.animationState.setActive(xt.Tap,!1),!nI()}function g(S,R){m()&&(rI(i.current,S.target)?t&&t(S,R):n&&n(S,R))}function _(S,R){m()&&n&&n(S,R)}function T(S,R){h(),!l.current&&(l.current=!0,u.current=Af(Ba(window,"pointerup",g,d),Ba(window,"pointercancel",_,d)),i.animationState&&i.animationState.setActive(xt.Tap,!0),e&&e(S,R))}Rh(i,"pointerdown",o?T:void 0,d),Tv(h)}var Zj={};const e6="production",xI=typeof process>"u"||Zj===void 0?e6:"production",rE=new Set;function bI(t,e,n){rE.has(e)||(console.warn(e),rE.add(e))}const $g=new WeakMap,Fm=new WeakMap,t6=t=>{const e=$g.get(t.target);e&&e(t)},n6=t=>{t.forEach(t6)};function r6({root:t,...e}){const n=t||document;Fm.has(n)||Fm.set(n,{});const r=Fm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(n6,{root:t,...e})),r[i]}function i6(t,e,n){const r=r6(e);return $g.set(t,n),r.observe(t),()=>{$g.delete(t),r.unobserve(t)}}function s6({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const o=A.useRef({hasEnteredView:!1,isInView:!1});let l=!!(e||n||r);i.once&&o.current.hasEnteredView&&(l=!1),(typeof IntersectionObserver>"u"?l6:a6)(l,o.current,t,i)}const o6={some:0,all:1};function a6(t,e,n,{root:r,margin:i,amount:o="some",once:l}){A.useEffect(()=>{if(!t||!n.current)return;const u={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof o=="number"?o:o6[o]},d=h=>{const{isIntersecting:m}=h;if(e.isInView===m||(e.isInView=m,l&&!m&&e.hasEnteredView))return;m&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(xt.InView,m);const g=n.getProps(),_=m?g.onViewportEnter:g.onViewportLeave;_&&_(h)};return i6(n.current,u,d)},[t,r,i,o])}function l6(t,e,n,{fallback:r=!0}){A.useEffect(()=>{!t||!r||(xI!=="production"&&bI(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(xt.InView,!0)}))},[t])}const Ps=t=>e=>(t(e),null),c6={inView:Ps(s6),tap:Ps(Jj),focus:Ps(F3),hover:Ps(Q3)};function II(){const t=A.useContext(lu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=A.useId();return A.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function CI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Vh=t=>t*1e3,u6={linear:bv,easeIn:Iv,easeInOut:hI,easeOut:wj,circIn:fI,circInOut:Ej,circOut:Cv,backIn:Pv,backInOut:Sj,backOut:Tj,anticipate:xj,bounceIn:Pj,bounceInOut:Aj,bounceOut:Oh},iE=t=>{if(Array.isArray(t)){kh(t.length===4);const[e,n,r,i]=t;return Xj(e,n,r,i)}else if(typeof t=="string")return u6[t];return t},d6=t=>Array.isArray(t)&&typeof t[0]!="number",sE=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Hi.test(e)&&!e.startsWith("url(")),_o=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Fd=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Um=()=>({type:"keyframes",ease:"linear",duration:.3}),h6=t=>({type:"keyframes",duration:.8,values:t}),oE={x:_o,y:_o,z:_o,rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scaleX:Fd,scaleY:Fd,scale:Fd,opacity:Um,backgroundColor:Um,color:Um,default:Fd},f6=(t,e)=>{let n;return Bc(e)?n=h6:n=oE[t]||oE.default,{to:e,...n(e)}},p6={...Fb,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:Lg,WebkitFilter:Lg},Av=t=>p6[t];function Rv(t,e){var n;let r=Av(t);return r!==Lg&&(r=Hi),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,e)}function PI(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(zs.read(r),t(o-e))};return wr.read(r,!0),()=>zs.read(r)}function m6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:d,...h}){return!!Object.keys(h).length}function g6({ease:t,times:e,yoyo:n,flip:r,loop:i,...o}){const l={...o};return e&&(l.offset=e),o.duration&&(l.duration=Vh(o.duration)),o.repeatDelay&&(l.repeatDelay=Vh(o.repeatDelay)),t&&(l.ease=d6(t)?t.map(iE):iE(t)),o.type==="tween"&&(l.type="keyframes"),(n||i||r)&&(n?l.repeatType="reverse":i?l.repeatType="loop":r&&(l.repeatType="mirror"),l.repeat=i||n||r||o.repeat),o.type!=="spring"&&(l.type="keyframes"),l}function y6(t,e){var n,r;return(r=(n=(kv(t,e)||{}).delay)!==null&&n!==void 0?n:t.delay)!==null&&r!==void 0?r:0}function v6(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function _6(t,e,n){return Array.isArray(e.to)&&t.duration===void 0&&(t.duration=.8),v6(e),m6(t)||(t={...t,...f6(n,e.to)}),{...e,...g6(t)}}function w6(t,e,n,r,i){const o=kv(r,t)||{};let l=o.from!==void 0?o.from:e.get();const u=sE(t,n);l==="none"&&u&&typeof n=="string"?l=Rv(t,n):aE(l)&&typeof n=="string"?l=lE(n):!Array.isArray(n)&&aE(n)&&typeof l=="string"&&(n=lE(l));const d=sE(t,l);function h(){const g={from:l,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:_=>e.set(_)};return o.type==="inertia"||o.type==="decay"?zj({...g,...o}):vI({..._6(o,g,t),onUpdate:_=>{g.onUpdate(_),o.onUpdate&&o.onUpdate(_)},onComplete:()=>{g.onComplete(),o.onComplete&&o.onComplete()}})}function m(){const g=Gb(n);return e.set(g),i(),o.onUpdate&&o.onUpdate(g),o.onComplete&&o.onComplete(),{stop:()=>{}}}return!d||!u||o.type===!1?m:h}function aE(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function lE(t){return typeof t=="number"?0:Rv("",t)}function kv(t,e){return t[e]||t.default||t}function Nv(t,e,n,r={}){return e.start(i=>{let o;const l=w6(t,e,n,r,i),u=y6(r,t),d=()=>o=l();let h;return u?h=PI(d,Vh(u)):d(),()=>{h&&h(),o&&o.stop()}})}const E6=t=>/^\-?\d*\.?\d+$/.test(t),T6=t=>/^0[^.\s]+$/.test(t);function Ov(t,e){t.indexOf(e)===-1&&t.push(e)}function Dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wc{constructor(){this.subscriptions=[]}add(e){return Ov(this.subscriptions,e),()=>Dv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const S6=t=>!isNaN(parseFloat(t));class x6{constructor(e){this.version="7.6.16",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new wc,this.velocityUpdateSubscribers=new wc,this.renderSubscribers=new wc,this.canTrackVelocity=!1,this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Dh();this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,wr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>wr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=S6(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_I(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.stopAnimation=e(n)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function Za(t){return new x6(t)}const AI=t=>e=>e.test(t),b6={test:t=>t==="auto",parse:t=>t},RI=[Bo,je,hi,ws,l3,a3,b6],tc=t=>RI.find(AI(t)),I6=[...RI,Nn,Hi],C6=t=>I6.find(AI(t));function P6(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function A6(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Nf(t,e,n){const r=t.getProps();return wv(r,e,n!==void 0?n:r.custom,P6(t),A6(t))}function R6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Za(n))}function k6(t,e){const n=Nf(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const l in o){const u=Gb(o[l]);R6(t,l,u)}}function N6(t,e,n){var r,i;const o=Object.keys(e).filter(u=>!t.hasValue(u)),l=o.length;if(l)for(let u=0;u<l;u++){const d=o[u],h=e[d];let m=null;Array.isArray(h)&&(m=h[0]),m===null&&(m=(i=(r=n[d])!==null&&r!==void 0?r:t.readValue(d))!==null&&i!==void 0?i:e[d]),m!=null&&(typeof m=="string"&&(E6(m)||T6(m))?m=parseFloat(m):!C6(m)&&Hi.test(h)&&(m=Rv(d,h)),t.addValue(d,Za(m)),n[d]===void 0&&(n[d]=m),m!==null&&t.setBaseTarget(d,m))}}function O6(t,e){return e?(e[t]||e.default||e).from:void 0}function D6(t,e,n){var r;const i={};for(const o in t){const l=O6(o,e);i[o]=l!==void 0?l:(r=n.getValue(o))===null||r===void 0?void 0:r.get()}return i}function jh(t){return!!(pi(t)&&t.add)}function L6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>zg(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=zg(t,e,n);else{const i=typeof e=="function"?Nf(t,e,n.custom):e;r=kI(t,i,n)}return r.then(()=>t.notify("AnimationComplete",e))}function zg(t,e,n={}){var r;const i=Nf(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>kI(t,i,n):()=>Promise.resolve(),u=!((r=t.variantChildren)===null||r===void 0)&&r.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:_}=o;return V6(t,e,m+h,g,_,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,m]=d==="beforeChildren"?[l,u]:[u,l];return h().then(m)}else return Promise.all([l(),u(n.delay)])}function kI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");r&&(l=r);const m=[],g=i&&((o=t.animationState)===null||o===void 0?void 0:o.getState()[i]);for(const _ in d){const T=t.getValue(_),S=d[_];if(!T||S===void 0||g&&M6(g,_))continue;let R={delay:n,...l};t.shouldReduceMotion&&fl.has(_)&&(R={...R,type:!1,delay:0});let I=Nv(_,T,S,R);jh(h)&&(h.add(_),I=I.then(()=>h.remove(_))),m.push(I)}return Promise.all(m).then(()=>{u&&k6(t,u)})}function V6(t,e,n=0,r=0,i=1,o){const l=[],u=(t.variantChildren.size-1)*r,d=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(t.variantChildren).sort(j6).forEach((h,m)=>{l.push(zg(h,e,{...o,delay:n+d(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function j6(t,e){return t.sortNodePosition(e)}function M6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}const Lv=[xt.Animate,xt.InView,xt.Focus,xt.Hover,xt.Tap,xt.Drag,xt.Exit],F6=[...Lv].reverse(),U6=Lv.length;function B6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>L6(t,n,r)))}function $6(t){let e=B6(t);const n=H6();let r=!0;const i=(d,h)=>{const m=Nf(t,h);if(m){const{transition:g,transitionEnd:_,...T}=m;d={...d,...T,..._}}return d};function o(d){e=d(t)}function l(d,h){var m;const g=t.getProps(),_=t.getVariantContext(!0)||{},T=[],S=new Set;let R={},I=1/0;for(let b=0;b<U6;b++){const k=F6[b],M=n[k],F=(m=g[k])!==null&&m!==void 0?m:_[k],K=Mc(F),D=k===h?M.isActive:null;D===!1&&(I=b);let C=F===_[k]&&F!==g[k]&&K;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),M.protectedKeys={...R},!M.isActive&&D===null||!F&&!M.prevProp||bf(F)||typeof F=="boolean")continue;const N=z6(M.prevProp,F);let j=N||k===h&&M.isActive&&!C&&K||b>I&&K;const $=Array.isArray(F)?F:[F];let U=$.reduce(i,{});D===!1&&(U={});const{prevResolvedValues:L={}}=M,ye={...L,...U},Ne=_e=>{j=!0,S.delete(_e),M.needsAnimating[_e]=!0};for(const _e in ye){const we=U[_e],Y=L[_e];R.hasOwnProperty(_e)||(we!==Y?Bc(we)&&Bc(Y)?!CI(we,Y)||N?Ne(_e):M.protectedKeys[_e]=!0:we!==void 0?Ne(_e):S.add(_e):we!==void 0&&S.has(_e)?Ne(_e):M.protectedKeys[_e]=!0)}M.prevProp=F,M.prevResolvedValues=U,M.isActive&&(R={...R,...U}),r&&t.blockInitialAnimation&&(j=!1),j&&!C&&T.push(...$.map(_e=>({animation:_e,options:{type:k,...d}})))}if(S.size){const b={};S.forEach(k=>{const M=t.getBaseTarget(k);M!==void 0&&(b[k]=M)}),T.push({animation:b})}let V=!!T.length;return r&&g.initial===!1&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(T):Promise.resolve()}function u(d,h,m){var g;if(n[d].isActive===h)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(T=>{var S;return(S=T.animationState)===null||S===void 0?void 0:S.setActive(d,h)}),n[d].isActive=h;const _=l(m,d);for(const T in n)n[T].protectedKeys={};return _}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n}}function z6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CI(e,t):!1}function wo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H6(){return{[xt.Animate]:wo(!0),[xt.InView]:wo(),[xt.Hover]:wo(),[xt.Tap]:wo(),[xt.Drag]:wo(),[xt.Focus]:wo(),[xt.Exit]:wo()}}const q6={animation:Ps(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=$6(t)),bf(e)&&A.useEffect(()=>e.subscribe(t),[e])}),exit:Ps(t=>{const{custom:e,visualElement:n}=t,[r,i]=II(),o=A.useContext(lu);A.useEffect(()=>{n.isPresent=r;const l=n.animationState&&n.animationState.setActive(xt.Exit,!r,{custom:o&&o.custom||e});l&&!r&&l.then(i)},[r])})};class NI{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=$m(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Hj(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:_}=h,{timestamp:T}=Dh();this.history.push({..._,timestamp:T});const{onStart:S,onMove:R}=this.handlers;m||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{if(this.lastMoveEvent=h,this.lastMoveEventInfo=Bm(m,this.transformPagePoint),Yb(h)&&h.buttons===0){this.handlePointerUp(h,m);return}wr.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:_}=this.handlers,T=$m(Bm(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,T),_&&_(h,T)},Xb(e)&&e.touches.length>1)return;this.handlers=n,this.transformPagePoint=r;const i=Ev(e),o=Bm(i,this.transformPagePoint),{point:l}=o,{timestamp:u}=Dh();this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,$m(o,this.history)),this.removeListeners=Af(Ba(window,"pointermove",this.handlePointerMove),Ba(window,"pointerup",this.handlePointerUp),Ba(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zs.update(this.updatePoint)}}function Bm(t,e){return e?{point:e(t.point)}:t}function cE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $m({point:t},e){return{point:t,delta:cE(t,OI(e)),offset:cE(t,W6(e)),velocity:K6(e,.1)}}function W6(t){return t[0]}function OI(t){return t[t.length-1]}function K6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=OI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vh(e)));)n--;if(!r)return{x:0,y:0};const o=(i.timestamp-r.timestamp)/1e3;if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function ir(t){return t.max-t.min}function Hg(t,e=0,n=.01){return Math.abs(t-e)<=n}function uE(t,e,n,r=.5){t.origin=r,t.originPoint=jt(e.min,e.max,t.origin),t.scale=ir(n)/ir(e),(Hg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(Hg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ec(t,e,n,r){uE(t.x,e.x,n.x,r==null?void 0:r.originX),uE(t.y,e.y,n.y,r==null?void 0:r.originY)}function dE(t,e,n){t.min=n.min+e.min,t.max=t.min+ir(e)}function G6(t,e,n){dE(t.x,e.x,n.x),dE(t.y,e.y,n.y)}function hE(t,e,n){t.min=e.min-n.min,t.max=t.min+ir(e)}function Tc(t,e,n){hE(t.x,e.x,n.x),hE(t.y,e.y,n.y)}function Q6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jt(n,t,r.max):Math.min(t,n)),t}function fE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Y6(t,{top:e,left:n,bottom:r,right:i}){return{x:fE(t.x,n,i),y:fE(t.y,e,r)}}function pE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function X6(t,e){return{x:pE(t.x,e.x),y:pE(t.y,e.y)}}function J6(t,e){let n=.5;const r=ir(t),i=ir(e);return i>r?n=$c(e.min,e.max-r,t.min):r>i&&(n=$c(t.min,t.max-i,e.min)),Nh(0,1,n)}function Z6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qg=.35;function eM(t=qg){return t===!1?t=0:t===!0&&(t=qg),{x:mE(t,"left","right"),y:mE(t,"top","bottom")}}function mE(t,e,n){return{min:gE(t,e),max:gE(t,n)}}function gE(t,e){var n;return typeof t=="number"?t:(n=t[e])!==null&&n!==void 0?n:0}const yE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sc=()=>({x:yE(),y:yE()}),vE=()=>({min:0,max:0}),Xt=()=>({x:vE(),y:vE()});function si(t){return[t("x"),t("y")]}function DI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function tM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zm(t){return t===void 0||t===1}function Wg({scale:t,scaleX:e,scaleY:n}){return!zm(t)||!zm(e)||!zm(n)}function To(t){return Wg(t)||LI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function LI(t){return _E(t.x)||_E(t.y)}function _E(t){return t&&t!=="0%"}function Mh(t,e,n){const r=t-n,i=e*r;return n+i}function wE(t,e,n,r,i){return i!==void 0&&(t=Mh(t,i,r)),Mh(t,n,r)+e}function Kg(t,e=0,n=1,r,i){t.min=wE(t.min,e,n,r,i),t.max=wE(t.max,e,n,r,i)}function VI(t,{x:e,y:n}){Kg(t.x,e.translate,e.scale,e.originPoint),Kg(t.y,n.translate,n.scale,n.originPoint)}function rM(t,e,n,r=!1){var i,o;const l=n.length;if(!l)return;e.x=e.y=1;let u,d;for(let h=0;h<l;h++)u=n[h],d=u.projectionDelta,((o=(i=u.instance)===null||i===void 0?void 0:i.style)===null||o===void 0?void 0:o.display)!=="contents"&&(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Va(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,VI(t,d)),r&&To(u.latestValues)&&Va(t,u.latestValues));e.x=EE(e.x),e.y=EE(e.y)}function EE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Es(t,e){t.min=t.min+e,t.max=t.max+e}function TE(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,l=jt(t.min,t.max,o);Kg(t,e[n],e[r],l,e.scale)}const iM=["x","scaleX","originX"],sM=["y","scaleY","originY"];function Va(t,e){TE(t.x,e,iM),TE(t.y,e,sM)}function jI(t,e){return DI(nM(t.getBoundingClientRect(),e))}function oM(t,e,n){const r=jI(t,n),{scroll:i}=e;return i&&(Es(r.x,i.offset.x),Es(r.y,i.offset.y)),r}const aM=new WeakMap;class lM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=u=>{this.stopAnimation(),n&&this.snapToCursor(Ev(u,"page").point)},i=(u,d)=>{var h;const{drag:m,dragPropagation:g,onDragStart:_}=this.getProps();m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tI(m),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(T=>{var S,R;let I=this.getAxisMotionValue(T).get()||0;if(hi.test(I)){const V=(R=(S=this.visualElement.projection)===null||S===void 0?void 0:S.layout)===null||R===void 0?void 0:R.layoutBox[T];V&&(I=ir(V)*(parseFloat(I)/100))}this.originPoint[T]=I}),_==null||_(u,d),(h=this.visualElement.animationState)===null||h===void 0||h.setActive(xt.Drag,!0))},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:_}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:T}=d;if(m&&this.currentDirection===null){this.currentDirection=cM(T),this.currentDirection!==null&&(g==null||g(this.currentDirection));return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),_==null||_(u,d)},l=(u,d)=>this.stop(u,d);this.panSession=new NI(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o==null||o(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(xt.Drag,!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ud(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Q6(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&La(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Y6(r.layoutBox,e):this.constraints=!1,this.elastic=eM(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&si(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Z6(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!La(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=oM(r,i.root,this.visualElement.getTransformPagePoint());let l=X6(i.layout.layoutBox,o);if(n){const u=n(tM(l));this.hasMutatedConstraints=!!u,u&&(l=DI(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=si(m=>{var g;if(!Ud(m,n,this.currentDirection))return;let _=(g=d==null?void 0:d[m])!==null&&g!==void 0?g:{};l&&(_={min:0,max:0});const T=i?200:1e6,S=i?40:1e7,R={type:"inertia",velocity:r?e[m]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(m,R)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Nv(e,r,0,n)}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n,r;const i="_drag"+e.toUpperCase(),o=this.visualElement.getProps()[i];return o||this.visualElement.getValue(e,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:0)}snapToCursor(e){si(n=>{const{drag:r}=this.getProps();if(!Ud(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];o.set(e[n]-jt(l,u,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!La(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};si(u=>{const d=this.getAxisMotionValue(u);if(d){const h=d.get();o[u]=J6({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),si(u=>{if(!Ud(u,n,null))return;const d=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];d.set(jt(h,m,o[u]))})}addListeners(){var e;if(!this.visualElement.current)return;aM.set(this.visualElement,this);const n=this.visualElement.current,r=Ba(n,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();La(h)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&((e=o.root)===null||e===void 0||e.updateScroll(),o.updateLayout()),i();const u=Pf(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(si(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=h[g].translate,_.set(_.get()+h[g].translate))}),this.visualElement.render())});return()=>{u(),r(),l(),d==null||d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=qg,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function uM(t){const{dragControls:e,visualElement:n}=t,r=Cf(()=>new lM(n));A.useEffect(()=>e&&e.subscribe(r),[r,e]),A.useEffect(()=>r.addListeners(),[r])}function dM({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const o=t||e||n||r,l=A.useRef(null),{transformPagePoint:u}=A.useContext(hv),d={onSessionStart:r,onStart:e,onMove:t,onEnd:(m,g)=>{l.current=null,n&&n(m,g)}};A.useEffect(()=>{l.current!==null&&l.current.updateHandlers(d)});function h(m){l.current=new NI(m,d,{transformPagePoint:u})}Rh(i,"pointerdown",o&&h),Tv(()=>l.current&&l.current.end())}const hM={pan:Ps(dM),drag:Ps(uM)};function Gg(t){return typeof t=="string"&&t.startsWith("var(--")}const MI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fM(t){const e=MI.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Qg(t,e,n=1){const[r,i]=fM(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():Gg(i)?Qg(i,e,n+1):i}function pM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Gg(o))return;const l=Qg(o,r);l&&i.set(l)});for(const i in e){const o=e[i];if(!Gg(o))continue;const l=Qg(o,r);l&&(e[i]=l,n&&n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const mM=new Set(["width","height","top","left","right","bottom","x","y"]),FI=t=>mM.has(t),gM=t=>Object.keys(t).some(FI),UI=(t,e)=>{t.set(e,!1),t.set(e)},SE=t=>t===Bo||t===je;var xE;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(xE||(xE={}));const bE=(t,e)=>parseFloat(t.split(", ")[e]),IE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return bE(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?bE(o[1],t):0}},yM=new Set(["x","y","z"]),vM=Ph.filter(t=>!yM.has(t));function _M(t){const e=[];return vM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const CE={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:IE(4,13),y:IE(5,14)},wM=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:l}=o,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(h=>{u[h]=CE[h](r,o)}),e.render();const d=e.measureViewportBox();return n.forEach(h=>{const m=e.getValue(h);UI(m,u[h]),t[h]=CE[h](d,o)}),t},EM=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(FI);let o=[],l=!1;const u=[];if(i.forEach(d=>{const h=t.getValue(d);if(!t.hasValue(d))return;let m=n[d],g=tc(m);const _=e[d];let T;if(Bc(_)){const S=_.length,R=_[0]===null?1:0;m=_[R],g=tc(m);for(let I=R;I<S;I++)T?kh(tc(_[I])===T):T=tc(_[I])}else T=tc(_);if(g!==T)if(SE(g)&&SE(T)){const S=h.get();typeof S=="string"&&h.set(parseFloat(S)),typeof _=="string"?e[d]=parseFloat(_):Array.isArray(_)&&T===je&&(e[d]=_.map(parseFloat))}else g!=null&&g.transform&&(T!=null&&T.transform)&&(m===0||_===0)?m===0?h.set(T.transform(m)):e[d]=g.transform(_):(l||(o=_M(t),l=!0),u.push(d),r[d]=r[d]!==void 0?r[d]:e[d],UI(h,_))}),u.length){const d=u.indexOf("height")>=0?window.pageYOffset:null,h=wM(e,t,u);return o.length&&o.forEach(([m,g])=>{t.getValue(m).set(g)}),t.render(),Uo&&d!==null&&window.scrollTo({top:d}),{target:h,transitionEnd:r}}else return{target:e,transitionEnd:r}};function TM(t,e,n,r){return gM(e)?EM(t,e,n,r):{target:e,transitionEnd:r}}const SM=(t,e,n,r)=>{const i=pM(t,e,r);return e=i.target,r=i.transitionEnd,TM(t,e,n,r)},Yg={current:null},BI={current:!1};function xM(){if(BI.current=!0,!!Uo)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=t.matches;t.addListener(e),e()}else Yg.current=!1}function bM(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],l=n[i];if(pi(o))t.addValue(i,o),jh(r)&&r.add(i);else if(pi(l))t.addValue(i,Za(o)),jh(r)&&r.remove(i);else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);!u.hasAnimated&&u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Za(u!==void 0?u:o))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const $I=Object.keys(Fc),IM=$I.length,PE=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CM{constructor({parent:e,props:n,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wr.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=If(n),this.isVariantNode=Pb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n);for(const m in h){const g=h[m];l[m]!==void 0&&pi(g)&&(g.set(l[m],!1),jh(d)&&d.add(m))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),BI.current||xM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,r;(e=this.projection)===null||e===void 0||e.unmount(),zs.update(this.notifyUpdate),zs.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,n){const r=fl.has(e),i=n.onChange(l=>{this.latestValues[e]=l,this.props.onUpdate&&wr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,n,r,i,o,l){const u=[];for(let d=0;d<IM;d++){const h=$I[d],{isEnabled:m,Component:g}=Fc[h];m(e)&&g&&u.push(A.createElement(g,{key:h,...e,visualElement:this}))}if(!this.projection&&o){this.projection=new o(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:h,drag:m,dragConstraints:g,layoutScroll:_}=e;this.projection.setOptions({layoutId:d,layout:h,alwaysMeasureLayout:!!m||g&&La(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:l,layoutScroll:_})}return u}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let n=0;n<PE.length;n++){const r=PE[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=bM(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,r;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const o=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const i={};for(let o=0;o<PM;o++){const l=zI[o],u=this.props[l];(Mc(u)||u===!1)&&(i[l]=u)}return i}addVariantChild(e){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(e),()=>r.variantChildren.delete(e)}addValue(e,n){this.hasValue(e)&&this.removeValue(e),this.values.set(e,n),this.latestValues[e]=n.get(),this.bindToMotionValue(e,n)}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Za(n),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=wv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!pi(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new wc),this.events[e].add(n)}notify(e,...n){var r;(r=this.events[e])===null||r===void 0||r.notify(...n)}}const zI=["initial",...Lv],PM=zI.length;class HI extends CM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var r;return(r=e.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let l=D6(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),o){N6(this,r,l);const u=SM(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function AM(t){return window.getComputedStyle(t)}class RM extends HI{readValueFromInstance(e,n){if(fl.has(n)){const r=Av(n);return r&&r.default||0}else{const r=AM(e),i=(kb(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jI(e,n)}build(e,n,r,i){gv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e){return _v(e)}renderInstance(e,n,r,i){Hb(e,n,r,i)}}class kM extends HI{getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var r;return fl.has(n)?((r=Av(n))===null||r===void 0?void 0:r.default)||0:(n=qb.has(n)?n:zb(n),e.getAttribute(n))}measureInstanceViewportBox(){return Xt()}scrapeMotionValuesFromProps(e){return Kb(e)}build(e,n,r,i){vv(e,n,r,i.transformTemplate)}renderInstance(e,n,r,i){Wb(e,n,r,i)}}const NM=(t,e)=>pv(t)?new kM(e,{enableHardwareAcceleration:!1}):new RM(e,{enableHardwareAcceleration:!0});function AE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=AE(t,e.target.x),r=AE(t,e.target.y);return`${n}% ${r}%`}},RE="_$css",OM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),o=[];i&&(t=t.replace(MI,T=>(o.push(T),RE)));const l=Hi.parse(t);if(l.length>5)return r;const u=Hi.createTransformer(t),d=typeof l[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;l[0+d]/=h,l[1+d]/=m;const g=jt(h,m,.5);typeof l[2+d]=="number"&&(l[2+d]/=g),typeof l[3+d]=="number"&&(l[3+d]/=g);let _=u(l);if(i){let T=0;_=_.replace(RE,()=>{const S=o[T];return T++,S})}return _}};class DM extends it.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;t3(VM),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||wr.postRender(()=>{var u;!((u=l.getStack())===null||u===void 0)&&u.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function LM(t){const[e,n]=II(),r=A.useContext(fv);return it.createElement(DM,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(Ab),isPresent:e,safeToRemove:n})}const VM={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:OM},jM={measureLayout:LM};function MM(t,e,n={}){const r=pi(t)?t:Za(t);return Nv("",r,e,n),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const qI=["TopLeft","TopRight","BottomLeft","BottomRight"],FM=qI.length,kE=t=>typeof t=="string"?parseFloat(t):t,NE=t=>typeof t=="number"||je.test(t);function UM(t,e,n,r,i,o){var l,u,d,h;i?(t.opacity=jt(0,(l=n.opacity)!==null&&l!==void 0?l:1,BM(r)),t.opacityExit=jt((u=e.opacity)!==null&&u!==void 0?u:1,0,$M(r))):o&&(t.opacity=jt((d=e.opacity)!==null&&d!==void 0?d:1,(h=n.opacity)!==null&&h!==void 0?h:1,r));for(let m=0;m<FM;m++){const g=`border${qI[m]}Radius`;let _=OE(e,g),T=OE(n,g);if(_===void 0&&T===void 0)continue;_||(_=0),T||(T=0),_===0||T===0||NE(_)===NE(T)?(t[g]=Math.max(jt(kE(_),kE(T),r),0),(hi.test(T)||hi.test(_))&&(t[g]+="%")):t[g]=T}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,r))}function OE(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t.borderRadius}const BM=WI(0,.5,Cv),$M=WI(.5,.95,bv);function WI(t,e,n){return r=>r<t?0:r>e?1:n($c(t,e,r))}function DE(t,e){t.min=e.min,t.max=e.max}function jr(t,e){DE(t.x,e.x),DE(t.y,e.y)}function LE(t,e,n,r,i){return t-=e,t=Mh(t,1/n,r),i!==void 0&&(t=Mh(t,1/i,r)),t}function zM(t,e=0,n=1,r=.5,i,o=t,l=t){if(hi.test(e)&&(e=parseFloat(e),e=jt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=jt(o.min,o.max,r);t===o&&(u-=e),t.min=LE(t.min,e,n,u,i),t.max=LE(t.max,e,n,u,i)}function VE(t,e,[n,r,i],o,l){zM(t,e[n],e[r],e[i],e.scale,o,l)}const HM=["x","scaleX","originX"],qM=["y","scaleY","originY"];function jE(t,e,n,r){VE(t.x,e,HM,n==null?void 0:n.x,r==null?void 0:r.x),VE(t.y,e,qM,n==null?void 0:n.y,r==null?void 0:r.y)}function ME(t){return t.translate===0&&t.scale===1}function KI(t){return ME(t.x)&&ME(t.y)}function GI(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function FE(t){return ir(t.x)/ir(t.y)}class WM{constructor(){this.members=[]}add(e){Ov(this.members,e),e.scheduleRender()}remove(e){if(Dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,r,i,o,l;(r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n),(l=(i=e.resumingFrom)===null||i===void 0?void 0:(o=i.options).onExitComplete)===null||l===void 0||l.call(o)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UE(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:h,rotateY:m}=n;d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const KM=(t,e)=>t.depth-e.depth;class GM{constructor(){this.children=[],this.isDirty=!1}add(e){Ov(this.children,e),this.isDirty=!0}remove(e){Dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KM),this.isDirty=!1,this.children.forEach(e)}}const BE=["","X","Y","Z"],$E=1e3;let QM=0;function QI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l,u={},d=e==null?void 0:e()){this.id=QM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(JM),this.nodes.forEach(t5),this.nodes.forEach(n5)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=l,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0,l&&this.root.registerPotentialNode(l,this);for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new GM)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new wc),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d==null||d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}registerPotentialNode(l,u){this.potentialNodes.set(l,u)}mount(l,u=!1){var d;if(this.instance)return;this.isSVG=l instanceof SVGElement&&l.tagName!=="svg",this.instance=l;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),(d=this.parent)===null||d===void 0||d.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),u&&(m||h)&&(this.isLayoutDirty=!0),t){let _;const T=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=PI(T,250),yc.hasAnimatedSinceResize&&(yc.hasAnimatedSinceResize=!1,this.nodes.forEach(HE))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeTargetChanged:S,layout:R})=>{var I,V,b,k,M;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=(V=(I=this.options.transition)!==null&&I!==void 0?I:g.getDefaultTransition())!==null&&V!==void 0?V:a5,{onLayoutAnimationStart:K,onLayoutAnimationComplete:D}=g.getProps(),C=!this.targetLayout||!GI(this.targetLayout,R)||S,N=!T&&S;if(!((b=this.resumeFrom)===null||b===void 0)&&b.instance||N||T&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,N);const j={...kv(F,"layout"),onPlay:K,onComplete:D};g.shouldReduceMotion&&(j.delay=0,j.type=!1),this.startAnimation(j)}else!T&&this.animationProgress===0&&HE(this),this.isLead()&&((M=(k=this.options).onExitComplete)===null||M===void 0||M.call(k));this.targetLayout=R})}unmount(){var l,u;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(l=this.getStack())===null||l===void 0||l.remove(this),(u=this.parent)===null||u===void 0||u.children.delete(this),this.instance=void 0,zs.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var l;return this.isAnimationBlocked||((l=this.parent)===null||l===void 0?void 0:l.isTreeAnimationBlocked())||!1}startUpdate(){var l;this.isUpdateBlocked()||(this.isUpdating=!0,(l=this.nodes)===null||l===void 0||l.forEach(r5),this.animationId++)}willUpdate(l=!0){var u,d,h;if(this.root.isUpdateBlocked()){(d=(u=this.options).onExitComplete)===null||d===void 0||d.call(u);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const S=this.path[T];S.shouldResetTransform=!0,S.updateScroll("snapshot")}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const _=(h=this.options.visualElement)===null||h===void 0?void 0:h.getProps().transformTemplate;this.prevTransformTemplateValue=_==null?void 0:_(this.latestValues,""),this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zE);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(l5),this.potentialNodes.clear()),this.nodes.forEach(e5),this.nodes.forEach(YM),this.nodes.forEach(XM),this.clearAllSnapshots(),Mm.update(),Mm.preRender(),Mm.render())}clearAllSnapshots(){this.nodes.forEach(ZM),this.sharedNodes.forEach(i5)}scheduleUpdateProjection(){wr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var l;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(l=this.options.visualElement)===null||l===void 0||l.notify("LayoutMeasure",this.layout.layoutBox,u==null?void 0:u.layoutBox)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var l;if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!KI(this.projectionDelta),h=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate,m=h==null?void 0:h(this.latestValues,""),g=m!==this.prevTransformTemplateValue;u&&(d||To(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),c5(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Xt();const u=l.measureViewportBox(),{scroll:d}=this.root;return d&&(Es(u.x,d.offset.x),Es(u.y,d.offset.y)),u}removeElementScroll(l){const u=Xt();jr(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:g}=h;if(h!==this.root&&m&&g.layoutScroll){if(m.isRoot){jr(u,l);const{scroll:_}=this.root;_&&(Es(u.x,-_.offset.x),Es(u.y,-_.offset.y))}Es(u.x,m.offset.x),Es(u.y,m.offset.y)}}return u}applyTransform(l,u=!1){const d=Xt();jr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Va(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),To(m.latestValues)&&Va(d,m.latestValues)}return To(this.latestValues)&&Va(d,this.latestValues),d}removeTransform(l){var u;const d=Xt();jr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!To(m.latestValues))continue;Wg(m.latestValues)&&m.updateSnapshot();const g=Xt(),_=m.measurePageBox();jr(g,_),jE(d,m.latestValues,(u=m.snapshot)===null||u===void 0?void 0:u.layoutBox,g)}return To(this.latestValues)&&jE(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var l;const u=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&(!((l=this.relativeParent)===null||l===void 0)&&l.target)?G6(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jr(this.target,this.layout.layoutBox),VI(this.target,this.targetDelta)):jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Tc(this.relativeTargetOrigin,this.target,m.target),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||LI(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var l;const{isProjectionDirty:u,isTransformDirty:d}=this;this.isProjectionDirty=this.isTransformDirty=!1;const h=this.getLead(),m=!!this.resumingFrom||this!==h;let g=!0;if(u&&(g=!1),m&&d&&(g=!1),g)return;const{layout:_,layoutId:T}=this.options;if(this.isTreeAnimating=!!(!((l=this.parent)===null||l===void 0)&&l.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||T))return;jr(this.layoutCorrected,this.layout.layoutBox),rM(this.layoutCorrected,this.treeScale,this.path,m);const{target:S}=h;if(!S)return;this.projectionDelta||(this.projectionDelta=Sc(),this.projectionDeltaWithTransform=Sc());const R=this.treeScale.x,I=this.treeScale.y,V=this.projectionTransform;Ec(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=UE(this.projectionDelta,this.treeScale),(this.projectionTransform!==V||this.treeScale.x!==R||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u,d,h;(d=(u=this.options).scheduleRender)===null||d===void 0||d.call(u),l&&((h=this.getStack())===null||h===void 0||h.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){var d,h;const m=this.snapshot,g=(m==null?void 0:m.latestValues)||{},_={...this.latestValues},T=Sc();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!u;const S=Xt(),R=(m==null?void 0:m.source)!==((d=this.layout)===null||d===void 0?void 0:d.source),I=(((h=this.getStack())===null||h===void 0?void 0:h.members.length)||0)<=1,V=!!(R&&!I&&this.options.crossfade===!0&&!this.path.some(o5));this.animationProgress=0,this.mixTargetDelta=b=>{var k;const M=b/1e3;qE(T.x,l.x,M),qE(T.y,l.y,M),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((k=this.relativeParent)===null||k===void 0)&&k.layout)&&(Tc(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s5(this.relativeTarget,this.relativeTargetOrigin,S,M)),R&&(this.animationValues=_,UM(_,g,this.latestValues,M,V,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(0)}startAnimation(l){var u,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)===null||u===void 0||u.stop(),this.resumingFrom&&((d=this.resumingFrom.currentAnimation)===null||d===void 0||d.stop()),this.pendingAnimation&&(zs.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wr.update(()=>{yc.hasAnimatedSinceResize=!0,this.currentAnimation=MM(0,$E,{...l,onUpdate:h=>{var m;this.mixTargetDelta(h),(m=l.onUpdate)===null||m===void 0||m.call(l,h)},onComplete:()=>{var h;(h=l.onComplete)===null||h===void 0||h.call(l),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var l;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(l=this.getStack())===null||l===void 0||l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var l;this.currentAnimation&&((l=this.mixTargetDelta)===null||l===void 0||l.call(this,$E),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:m}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&YI(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Xt();const g=ir(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const _=ir(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+_}jr(u,d),Va(u,m),Ec(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){var d,h,m;this.sharedNodes.has(l)||this.sharedNodes.set(l,new WM),this.sharedNodes.get(l).add(u),u.promote({transition:(d=u.options.initialPromotionConfig)===null||d===void 0?void 0:d.transition,preserveFollowOpacity:(m=(h=u.options.initialPromotionConfig)===null||h===void 0?void 0:h.shouldPreserveFollowOpacity)===null||m===void 0?void 0:m.call(h,u)})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(u=!0),!u)return;const h={};for(let m=0;m<BE.length;m++){const g="rotate"+BE[m];d[g]&&(h[g]=d[g],l.setStaticValue(g,0))}l==null||l.render();for(const m in h)l.setStaticValue(m,h[m]);l.scheduleRender()}getProjectionStyles(l={}){var u,d,h;const m={};if(!this.instance||this.isSVG)return m;if(this.isVisible)m.visibility="";else return{visibility:"hidden"};const g=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=eh(l.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=eh(l.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(I.transform=g?g({},""):"none",this.hasProjected=!1),I}const T=_.animationValues||_.latestValues;this.applyTransformsToTarget(),m.transform=UE(this.projectionDeltaWithTransform,this.treeScale,T),g&&(m.transform=g(T,m.transform));const{x:S,y:R}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,_.animationValues?m.opacity=_===this?(h=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=_===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const I in Ch){if(T[I]===void 0)continue;const{correct:V,applyTo:b}=Ch[I],k=V(T[I],_);if(b){const M=b.length;for(let F=0;F<M;F++)m[b[F]]=k}else m[I]=k}return this.options.layoutId&&(m.pointerEvents=_===this?eh(l.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(zE),this.root.sharedNodes.clear()}}}function YM(t){t.updateLayout()}function XM(t){var e,n,r;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:l}=t.layout,{animationType:u}=t.options,d=i.source!==t.layout.source;u==="size"?si(T=>{const S=d?i.measuredBox[T]:i.layoutBox[T],R=ir(S);S.min=o[T].min,S.max=S.min+R}):YI(u,i.layoutBox,o)&&si(T=>{const S=d?i.measuredBox[T]:i.layoutBox[T],R=ir(o[T]);S.max=S.min+R});const h=Sc();Ec(h,o,i.layoutBox);const m=Sc();d?Ec(m,t.applyTransform(l,!0),i.measuredBox):Ec(m,o,i.layoutBox);const g=!KI(h);let _=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:R}=T;if(S&&R){const I=Xt();Tc(I,i.layoutBox,S.layoutBox);const V=Xt();Tc(V,o,R.layoutBox),GI(I,V)||(_=!0)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:m,layoutDelta:h,hasLayoutChanged:g,hasRelativeTargetChanged:_})}else t.isLead()&&((r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n));t.options.transition=void 0}function JM(t){t.isProjectionDirty||(t.isProjectionDirty=!!(t.parent&&t.parent.isProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=!!(t.parent&&t.parent.isTransformDirty))}function ZM(t){t.clearSnapshot()}function zE(t){t.clearMeasurements()}function e5(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function t5(t){t.resolveTargetDelta()}function n5(t){t.calcProjection()}function r5(t){t.resetRotation()}function i5(t){t.removeLeadSnapshot()}function qE(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WE(t,e,n,r){t.min=jt(e.min,n.min,r),t.max=jt(e.max,n.max,r)}function s5(t,e,n,r){WE(t.x,e.x,n.x,r),WE(t.y,e.y,n.y,r)}function o5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const a5={duration:.45,ease:[.4,0,.1,1]};function l5(t,e){let n=t.root;for(let o=t.path.length-1;o>=0;o--)if(t.path[o].instance){n=t.path[o];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function KE(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function c5(t){KE(t.x),KE(t.y)}function YI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Hg(FE(e),FE(n),.2)}const u5=QI({attachResizeListener:(t,e)=>Pf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hm={current:void 0},d5=QI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hm.current){const t=new u5(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Hm.current=t}return Hm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),h5={...q6,...c6,...hM,...jM},Sn=ZV((t,e)=>M3(t,e,h5,NM,d5));function XI(){const t=A.useRef(!1);return Ih(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function f5(){const t=XI(),[e,n]=A.useState(0),r=A.useCallback(()=>{t.current&&n(e+1)},[e]);return[A.useCallback(()=>wr.postRender(r),[r]),e]}class p5 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function m5({children:t,isPresent:e}){const n=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:d}=i.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),A.createElement(p5,{isPresent:e,childRef:r,sizeRef:i},A.cloneElement(t,{ref:r}))}const qm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l})=>{const u=Cf(g5),d=A.useId(),h=A.useMemo(()=>({id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),o?void 0:[n]);return A.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[n]),A.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=A.createElement(m5,{isPresent:n},t)),A.createElement(lu.Provider,{value:h},t)};function g5(){return new Map}const Oa=t=>t.key||"";function y5(t,e){t.forEach(n=>{const r=Oa(n);e.set(r,n)})}function v5(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const el=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"})=>{i&&(l="wait",bI(!1,"Replace exitBeforeEnter with mode='wait'"));let[u]=f5();const d=A.useContext(fv).forceRender;d&&(u=d);const h=XI(),m=v5(t);let g=m;const _=new Set,T=A.useRef(g),S=A.useRef(new Map).current,R=A.useRef(!0);if(Ih(()=>{R.current=!1,y5(m,S),T.current=g}),Tv(()=>{R.current=!0,S.clear(),_.clear()}),R.current)return A.createElement(A.Fragment,null,g.map(k=>A.createElement(qm,{key:Oa(k),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:l},k)));g=[...g];const I=T.current.map(Oa),V=m.map(Oa),b=I.length;for(let k=0;k<b;k++){const M=I[k];V.indexOf(M)===-1&&_.add(M)}return l==="wait"&&_.size&&(g=[]),_.forEach(k=>{if(V.indexOf(k)!==-1)return;const M=S.get(k);if(!M)return;const F=I.indexOf(k),K=()=>{S.delete(k),_.delete(k);const D=T.current.findIndex(C=>C.key===k);if(T.current.splice(D,1),!_.size){if(T.current=m,h.current===!1)return;u(),r&&r()}};g.splice(F,0,A.createElement(qm,{key:Oa(M),isPresent:!1,onExitComplete:K,custom:e,presenceAffectsLayout:o,mode:l},M))}),g=g.map(k=>{const M=k.key;return _.has(M)?k:A.createElement(qm,{key:Oa(k),isPresent:!0,presenceAffectsLayout:o,mode:l},k)}),xI!=="production"&&l==="wait"&&g.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),A.createElement(A.Fragment,null,_.size?g:g.map(k=>A.cloneElement(k)))},_5=({item:t,product:e})=>{const{addToCart:n,removeFromCart:r}=A.useContext(wf),{t:i}=pt(),[o,l]=A.useState(!1),u=A.useRef(null);A.useEffect(()=>{const h=m=>{u.current&&!u.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=h=>h.split(" ").slice(0,5).join(" ")+"...";return v.jsxs("div",{className:"cart-item",children:[v.jsx("img",{src:e.image,alt:t.name,className:"cart-item-image"}),v.jsxs("div",{className:"cart-item-info",children:[v.jsx("h4",{className:"cart-item-name",children:t.name}),v.jsx("p",{className:"cart-item-desc",onClick:()=>l(!0),style:{color:"#555",cursor:"pointer",textDecoration:"underline"},children:d(e.description)}),v.jsxs("p",{className:"cart-item-price",children:[i("cart.price"),": $",t.price.toFixed(2)]}),v.jsxs("p",{className:"cart-item-size",children:[i("cart.size"),": ",t.size]}),v.jsxs("div",{className:"cart-item-controls",children:[v.jsx("button",{className:"cart-btn",onClick:()=>r(t.id,t.size,t.collection),children:"-"}),v.jsx("span",{className:"cart-quantity",children:t.quantity}),v.jsx("button",{className:"cart-btn",onClick:()=>n({id:t.id,name:t.name,image:e.image},{label:t.size,price:t.price,collection:t.collection}),children:"+"})]}),v.jsxs("span",{className:"cart-item-total",children:[i("cart.total"),": $",(t.price*t.quantity).toFixed(2)]})]}),v.jsx(el,{children:o&&v.jsx("div",{className:"modal-overlay",children:v.jsxs(Sn.div,{className:"modal-content desc-modal",ref:u,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h4",{className:"modal-title",children:i("cart.fullDescription")}),v.jsx("p",{children:e.description})]},"desc-modal")})}),v.jsx("hr",{className:"cart-item-separator"})]})},w5=({subtotal:t,dineOption:e,deliveryFee:n,total:r,setDineOption:i})=>{const{t:o}=pt();return v.jsxs("div",{className:"cart-details",children:[v.jsx("h3",{className:"summary-title",children:o("cart.totalTitle")}),v.jsxs("p",{className:"summary-line",children:[o("cart.subtotal"),": $",t.toFixed(2)]}),e==="outside"&&v.jsxs("p",{className:"summary-line",children:[o("cart.deliveryFee"),": $",n.toFixed(2)]}),v.jsxs("p",{className:"summary-total",children:[o("cart.total"),": $",r.toFixed(2)]}),!e&&v.jsxs("div",{className:"dine-option-buttons",children:[v.jsx("button",{onClick:()=>i("inside"),children:o("cart.inside")}),v.jsx("button",{onClick:()=>i("outside"),children:o("cart.outside")})]})]})},E5=({tableNumber:t,setTableNumber:e,notes:n,setNotes:r,setShowCashModal:i,setDineOption:o})=>{const{t:l}=pt(),u=A.useRef(null),[d,h]=A.useState(!1);A.useEffect(()=>{const g=_=>{u.current&&!u.current.contains(_.target)&&o(null)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const m=()=>{if(!t||t===""){h(!0);return}h(!1),i(!0)};return v.jsx("div",{className:"modal-overlay",children:v.jsxs(Sn.div,{ref:u,className:"modal-content inside-modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h3",{className:"modal-title",children:l("dinein.title")}),v.jsx("p",{className:"para",style:{color:"#666"},children:l("dinein.instruction")}),v.jsxs("label",{children:[v.jsx("p",{style:{marginBottom:"10px"},children:l("dinein.label")}),v.jsx("input",{type:"number",placeholder:l("dinein.placeholder"),value:t,onChange:g=>e(g.target.value),className:d&&!t?"error-border":"",min:"1",max:"20"})]}),v.jsx("textarea",{placeholder:l("dinein.notesPlaceholder"),value:n,onChange:g=>r(g.target.value),className:"order-notes-input"}),d&&v.jsx("p",{className:"error-text",children:l("dinein.errorMsg")}),v.jsx("button",{className:"confirm-btn",onClick:m,children:l("dinein.proceedBtn")})]},"inside-modal")})},T5=({customerInfo:t,setCustomerInfo:e,notes:n,setNotes:r,setShowCashModal:i,setDineOption:o})=>{const{t:l}=pt(),u=A.useRef(null),[d,h]=A.useState(!1);A.useEffect(()=>{const g=_=>{u.current&&!u.current.contains(_.target)&&o(null)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[o]);const m=()=>{const{name:g,phone:_,address:T}=t;if(!g||!_||!T){h(!0);return}h(!1),i(!0)};return v.jsx("div",{className:"modal-overlay",children:v.jsxs(Sn.div,{ref:u,className:"modal-content delivery-modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h3",{className:"modal-title",children:l("delivery.title")}),v.jsx("p",{className:"para",style:{color:"#666"},children:l("delivery.instruction")}),v.jsx("input",{type:"text",placeholder:l("delivery.namePlaceholder"),value:t.name,onChange:g=>e({...t,name:g.target.value}),className:d&&!t.name?"error-border":""}),v.jsx("input",{type:"tel",placeholder:l("delivery.phonePlaceholder"),value:t.phone,onChange:g=>e({...t,phone:g.target.value}),className:d&&!t.phone?"error-border":""}),v.jsx("input",{type:"text",placeholder:l("delivery.addressPlaceholder"),value:t.address,onChange:g=>e({...t,address:g.target.value}),className:d&&!t.address?"error-border":""}),v.jsx("textarea",{placeholder:l("delivery.notesPlaceholder"),value:n,onChange:g=>r(g.target.value),className:"order-notes-input"}),d&&v.jsx("p",{className:"error-text",children:l("delivery.errorMsg")}),v.jsx("button",{className:"confirm-btn",onClick:m,children:l("delivery.proceedBtn")})]},"delivery-modal")})},S5=({onClose:t,onConfirm:e,onCardPayment:n})=>{const{t:r}=pt(),[i,o]=A.useState("");return v.jsx("div",{className:"modal-overlay",onClick:t,children:v.jsxs(Sn.div,{className:"modal-content payment-modal",onClick:l=>l.stopPropagation(),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[v.jsx("h3",{className:"modal-title",children:r("payment.title")}),v.jsx("p",{className:"modal-text",children:r("payment.selectMethod")}),v.jsxs("div",{className:"payment-options",children:[v.jsxs("button",{className:`method-btn ${i==="cash"?"active":""}`,onClick:()=>o("cash"),children:[" ",r("payment.cash")]}),v.jsxs("button",{className:`method-btn ${i==="card"?"active":""}`,onClick:()=>o("card"),children:[" ",r("payment.card")]})]}),i&&v.jsxs("button",{className:"confirm-btn",onClick:i==="cash"?e:n,children:[" ",r(i==="cash"?"payment.confirmCash":"payment.confirmCard")]}),v.jsx("button",{className:"cancel-btn",onClick:t,children:r("payment.cancel")})]},"payment-modal")})};function JI(t,e){return function(){return t.apply(e,arguments)}}const{toString:x5}=Object.prototype,{getPrototypeOf:Vv}=Object,{iterator:Of,toStringTag:ZI}=Symbol,Df=(t=>e=>{const n=x5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wr=t=>(t=t.toLowerCase(),e=>Df(e)===t),Lf=t=>e=>typeof e===t,{isArray:pl}=Array,Hc=Lf("undefined");function b5(t){return t!==null&&!Hc(t)&&t.constructor!==null&&!Hc(t.constructor)&&Wn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eC=Wr("ArrayBuffer");function I5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eC(t.buffer),e}const C5=Lf("string"),Wn=Lf("function"),tC=Lf("number"),Vf=t=>t!==null&&typeof t=="object",P5=t=>t===!0||t===!1,rh=t=>{if(Df(t)!=="object")return!1;const e=Vv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ZI in t)&&!(Of in t)},A5=Wr("Date"),R5=Wr("File"),k5=Wr("Blob"),N5=Wr("FileList"),O5=t=>Vf(t)&&Wn(t.pipe),D5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wn(t.append)&&((e=Df(t))==="formdata"||e==="object"&&Wn(t.toString)&&t.toString()==="[object FormData]"))},L5=Wr("URLSearchParams"),[V5,j5,M5,F5]=["ReadableStream","Request","Response","Headers"].map(Wr),U5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),pl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function nC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rC=t=>!Hc(t)&&t!==Io;function Xg(){const{caseless:t}=rC(this)&&this||{},e={},n=(r,i)=>{const o=t&&nC(e,i)||i;rh(e[o])&&rh(r)?e[o]=Xg(e[o],r):rh(r)?e[o]=Xg({},r):pl(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hu(arguments[r],n);return e}const B5=(t,e,n,{allOwnKeys:r}={})=>(hu(e,(i,o)=>{n&&Wn(i)?t[o]=JI(i,n):t[o]=i},{allOwnKeys:r}),t),$5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),z5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},H5=(t,e,n,r)=>{let i,o,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Vv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},q5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},W5=t=>{if(!t)return null;if(pl(t))return t;let e=t.length;if(!tC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},K5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vv(Uint8Array)),G5=(t,e)=>{const r=(t&&t[Of]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Q5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Y5=Wr("HTMLFormElement"),X5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),GE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),J5=Wr("RegExp"),iC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hu(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},Z5=t=>{iC(t,(e,n)=>{if(Wn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Wn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eF=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return pl(t)?r(t):r(String(t).split(e)),n},tF=()=>{},nF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rF(t){return!!(t&&Wn(t.append)&&t[ZI]==="FormData"&&t[Of])}const iF=t=>{const e=new Array(10),n=(r,i)=>{if(Vf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=pl(r)?[]:{};return hu(r,(l,u)=>{const d=n(l,i+1);!Hc(d)&&(o[u]=d)}),e[i]=void 0,o}}return r};return n(t,0)},sF=Wr("AsyncFunction"),oF=t=>t&&(Vf(t)||Wn(t))&&Wn(t.then)&&Wn(t.catch),sC=((t,e)=>t?setImmediate:e?((n,r)=>(Io.addEventListener("message",({source:i,data:o})=>{i===Io&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Io.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wn(Io.postMessage)),aF=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||sC,lF=t=>t!=null&&Wn(t[Of]),te={isArray:pl,isArrayBuffer:eC,isBuffer:b5,isFormData:D5,isArrayBufferView:I5,isString:C5,isNumber:tC,isBoolean:P5,isObject:Vf,isPlainObject:rh,isReadableStream:V5,isRequest:j5,isResponse:M5,isHeaders:F5,isUndefined:Hc,isDate:A5,isFile:R5,isBlob:k5,isRegExp:J5,isFunction:Wn,isStream:O5,isURLSearchParams:L5,isTypedArray:K5,isFileList:N5,forEach:hu,merge:Xg,extend:B5,trim:U5,stripBOM:$5,inherits:z5,toFlatObject:H5,kindOf:Df,kindOfTest:Wr,endsWith:q5,toArray:W5,forEachEntry:G5,matchAll:Q5,isHTMLForm:Y5,hasOwnProperty:GE,hasOwnProp:GE,reduceDescriptors:iC,freezeMethods:Z5,toObjectSet:eF,toCamelCase:X5,noop:tF,toFiniteNumber:nF,findKey:nC,global:Io,isContextDefined:rC,isSpecCompliantForm:rF,toJSONObject:iF,isAsyncFn:sF,isThenable:oF,setImmediate:sC,asap:aF,isIterable:lF};function Ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const oC=Ge.prototype,aC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{aC[t]={value:t}});Object.defineProperties(Ge,aC);Object.defineProperty(oC,"isAxiosError",{value:!0});Ge.from=(t,e,n,r,i,o)=>{const l=Object.create(oC);return te.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Ge.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const cF=null;function Jg(t){return te.isPlainObject(t)||te.isArray(t)}function lC(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function QE(t,e,n){return t?t.concat(e).map(function(i,o){return i=lC(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function uF(t){return te.isArray(t)&&!t.some(Jg)}const dF=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function jf(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,I){return!te.isUndefined(I[R])});const r=n.metaTokens,i=n.visitor||m,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(te.isDate(S))return S.toISOString();if(te.isBoolean(S))return S.toString();if(!d&&te.isBlob(S))throw new Ge("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(S)||te.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,R,I){let V=S;if(S&&!I&&typeof S=="object"){if(te.endsWith(R,"{}"))R=r?R:R.slice(0,-2),S=JSON.stringify(S);else if(te.isArray(S)&&uF(S)||(te.isFileList(S)||te.endsWith(R,"[]"))&&(V=te.toArray(S)))return R=lC(R),V.forEach(function(k,M){!(te.isUndefined(k)||k===null)&&e.append(l===!0?QE([R],M,o):l===null?R:R+"[]",h(k))}),!1}return Jg(S)?!0:(e.append(QE(I,R,o),h(S)),!1)}const g=[],_=Object.assign(dF,{defaultVisitor:m,convertValue:h,isVisitable:Jg});function T(S,R){if(!te.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(S),te.forEach(S,function(V,b){(!(te.isUndefined(V)||V===null)&&i.call(e,V,te.isString(b)?b.trim():b,R,_))===!0&&T(V,R?R.concat(b):[b])}),g.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return T(t),e}function YE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jv(t,e){this._pairs=[],t&&jf(t,this,e)}const cC=jv.prototype;cC.append=function(e,n){this._pairs.push([e,n])};cC.toString=function(e){const n=e?function(r){return e.call(this,r,YE)}:YE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function hF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uC(t,e,n){if(!e)return t;const r=n&&n.encode||hF;te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=te.isURLSearchParams(e)?e.toString():new jv(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class XE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fF=typeof URLSearchParams<"u"?URLSearchParams:jv,pF=typeof FormData<"u"?FormData:null,mF=typeof Blob<"u"?Blob:null,gF={isBrowser:!0,classes:{URLSearchParams:fF,FormData:pF,Blob:mF},protocols:["http","https","file","blob","url","data"]},Mv=typeof window<"u"&&typeof document<"u",Zg=typeof navigator=="object"&&navigator||void 0,yF=Mv&&(!Zg||["ReactNative","NativeScript","NS"].indexOf(Zg.product)<0),vF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_F=Mv&&window.location.href||"http://localhost",wF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mv,hasStandardBrowserEnv:yF,hasStandardBrowserWebWorkerEnv:vF,navigator:Zg,origin:_F},Symbol.toStringTag,{value:"Module"})),xn={...wF,...gF};function EF(t,e){return jf(t,new xn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return xn.isNode&&te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function TF(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SF(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function hC(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&te.isArray(i)?i.length:l,d?(te.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!te.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&te.isArray(i[l])&&(i[l]=SF(i[l])),!u)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(r,i)=>{e(TF(r),i,n,0)}),n}return null}function xF(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const fu={transitional:dC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=te.isObject(e);if(o&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(hC(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return EF(e,this.formSerializer).toString();if((u=te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return jf(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),xF(e)):e}],transformResponse:[function(e){const n=this.transitional||fu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Ge.from(u,Ge.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xn.classes.FormData,Blob:xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{fu.headers[t]={}});const bF=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&bF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},JE=Symbol("internals");function rc(t){return t&&String(t).trim().toLowerCase()}function ih(t){return t===!1||t==null?t:te.isArray(t)?t.map(ih):String(t)}function CF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const PF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wm(t,e,n,r,i){if(te.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!te.isString(e)){if(te.isString(r))return e.indexOf(r)!==-1;if(te.isRegExp(r))return r.test(e)}}function AF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function RF(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Kn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(u,d,h){const m=rc(d);if(!m)throw new Error("header name must be a non-empty string");const g=te.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=ih(u))}const l=(u,d)=>te.forEach(u,(h,m)=>o(h,m,d));if(te.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(te.isString(e)&&(e=e.trim())&&!PF(e))l(IF(e),n);else if(te.isObject(e)&&te.isIterable(e)){let u={},d,h;for(const m of e){if(!te.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(d=u[h])?te.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=rc(e),e){const r=te.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return CF(i);if(te.isFunction(n))return n.call(this,i,r);if(te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=rc(e),e){const r=te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Wm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=rc(l),l){const u=te.findKey(r,l);u&&(!n||Wm(r,r[u],u,n))&&(delete r[u],i=!0)}}return te.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Wm(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return te.forEach(this,(i,o)=>{const l=te.findKey(r,o);if(l){n[l]=ih(i),delete n[o];return}const u=e?AF(o):String(o).trim();u!==o&&delete n[o],n[u]=ih(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[JE]=this[JE]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=rc(l);r[u]||(RF(i,l),r[u]=!0)}return te.isArray(e)?e.forEach(o):o(e),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Kn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});te.freezeMethods(Kn);function Km(t,e){const n=this||fu,r=e||n,i=Kn.from(r.headers);let o=r.data;return te.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function fC(t){return!!(t&&t.__CANCEL__)}function ml(t,e,n){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(ml,Ge,{__CANCEL__:!0});function pC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[o];l||(l=h),n[i]=d,r[i]=h;let g=o,_=0;for(;g!==i;)_+=n[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function OF(t,e){let n=0,r=1e3/e,i,o;const l=(h,m=Date.now())=>{n=m,i=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-n;g>=r?l(h,m):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},r-g)))},()=>i&&l(i)]}const Fh=(t,e,n=3)=>{let r=0;const i=NF(50,250);return OF(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},ZE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},eT=t=>(...e)=>te.asap(()=>t(...e)),DF=xn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,xn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(xn.origin),xn.navigator&&/(msie|trident)/i.test(xn.navigator.userAgent)):()=>!0,LF=xn.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const l=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),te.isString(r)&&l.push("path="+r),te.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mC(t,e,n){let r=!VF(e);return t&&(r||n==!1)?jF(t,e):e}const tT=t=>t instanceof Kn?{...t}:t;function Vo(t,e){e=e||{};const n={};function r(h,m,g,_){return te.isPlainObject(h)&&te.isPlainObject(m)?te.merge.call({caseless:_},h,m):te.isPlainObject(m)?te.merge({},m):te.isArray(m)?m.slice():m}function i(h,m,g,_){if(te.isUndefined(m)){if(!te.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function o(h,m){if(!te.isUndefined(m))return r(void 0,m)}function l(h,m){if(te.isUndefined(m)){if(!te.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in t)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(tT(h),tT(m),g,!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(m){const g=d[m]||i,_=g(t[m],e[m],m);te.isUndefined(_)&&g!==u||(n[m]=_)}),n}const gC=t=>{const e=Vo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Kn.from(l),e.url=uC(mC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(te.isFormData(n)){if(xn.hasStandardBrowserEnv||xn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(xn.hasStandardBrowserEnv&&(r&&te.isFunction(r)&&(r=r(e)),r||r!==!1&&DF(e.url))){const h=i&&o&&LF.read(o);h&&l.set(i,h)}return e},MF=typeof XMLHttpRequest<"u",FF=MF&&function(t){return new Promise(function(n,r){const i=gC(t);let o=i.data;const l=Kn.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,S;function R(){T&&T(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function V(){if(!I)return;const k=Kn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),F={data:!u||u==="text"||u==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:k,config:t,request:I};pC(function(D){n(D),R()},function(D){r(D),R()},F),I=null}"onloadend"in I?I.onloadend=V:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(V)},I.onabort=function(){I&&(r(new Ge("Request aborted",Ge.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new Ge("Network Error",Ge.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||dC;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new Ge(M,F.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,I)),I=null},o===void 0&&l.setContentType(null),"setRequestHeader"in I&&te.forEach(l.toJSON(),function(M,F){I.setRequestHeader(F,M)}),te.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),u&&u!=="json"&&(I.responseType=i.responseType),h&&([_,S]=Fh(h,!0),I.addEventListener("progress",_)),d&&I.upload&&([g,T]=Fh(d),I.upload.addEventListener("progress",g),I.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=k=>{I&&(r(!k||k.type?new ml(null,t,I):k),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const b=kF(i.url);if(b&&xn.protocols.indexOf(b)===-1){r(new Ge("Unsupported protocol "+b+":",Ge.ERR_BAD_REQUEST,t));return}I.send(o||null)})},UF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Ge?m:new ml(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Ge(`timeout ${e} of ms exceeded`,Ge.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>te.asap(u),d}},BF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},$F=async function*(t,e){for await(const n of zF(t))yield*BF(n,e)},zF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},nT=(t,e,n,r)=>{const i=$F(t,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(n){let _=o+=g;n(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Mf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yC=Mf&&typeof ReadableStream=="function",HF=Mf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qF=yC&&vC(()=>{let t=!1;const e=new Request(xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rT=64*1024,ey=yC&&vC(()=>te.isReadableStream(new Response("").body)),Uh={stream:ey&&(t=>t.body)};Mf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Uh[e]&&(Uh[e]=te.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ge(`Response type '${e}' is not supported`,Ge.ERR_NOT_SUPPORT,r)})})})(new Response);const WF=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(xn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await HF(t)).byteLength},KF=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??WF(e)},GF=Mf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=gC(t);h=h?(h+"").toLowerCase():"text";let T=UF([i,o&&o.toAbortSignal()],l),S;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let I;try{if(d&&qF&&n!=="get"&&n!=="head"&&(I=await KF(m,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),K;if(te.isFormData(r)&&(K=F.headers.get("content-type"))&&m.setContentType(K),F.body){const[D,C]=ZE(I,Fh(eT(d)));r=nT(F.body,rT,D,C)}}te.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;S=new Request(e,{..._,signal:T,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let b=await fetch(S,_);const k=ey&&(h==="stream"||h==="response");if(ey&&(u||k&&R)){const F={};["status","statusText","headers"].forEach(N=>{F[N]=b[N]});const K=te.toFiniteNumber(b.headers.get("content-length")),[D,C]=u&&ZE(K,Fh(eT(u),!0))||[];b=new Response(nT(b.body,rT,D,()=>{C&&C(),R&&R()}),F)}h=h||"text";let M=await Uh[te.findKey(Uh,h)||"text"](b,t);return!k&&R&&R(),await new Promise((F,K)=>{pC(F,K,{data:M,headers:Kn.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:S})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,t,S),{cause:V.cause||V}):Ge.from(V,V&&V.code,t,S)}}),ty={http:cF,xhr:FF,fetch:GF};te.forEach(ty,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const iT=t=>`- ${t}`,QF=t=>te.isFunction(t)||t===null||t===!1,_C={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!QF(n)&&(r=ty[(l=String(n)).toLowerCase()],r===void 0))throw new Ge(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(iT).join(`
`):" "+iT(o[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:ty};function Gm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ml(null,t)}function sT(t){return Gm(t),t.headers=Kn.from(t.headers),t.data=Km.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_C.getAdapter(t.adapter||fu.adapter)(t).then(function(r){return Gm(t),r.data=Km.call(t,t.transformResponse,r),r.headers=Kn.from(r.headers),r},function(r){return fC(r)||(Gm(t),r&&r.response&&(r.response.data=Km.call(t,t.transformResponse,r.response),r.response.headers=Kn.from(r.response.headers))),Promise.reject(r)})}const wC="1.10.0",Ff={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ff[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const oT={};Ff.transitional=function(e,n,r){function i(o,l){return"[Axios v"+wC+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Ge(i(l," has been removed"+(n?" in "+n:"")),Ge.ERR_DEPRECATED);return n&&!oT[l]&&(oT[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};Ff.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function YF(t,e,n){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new Ge("option "+o+" must be "+d,Ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ge("Unknown option "+o,Ge.ERR_BAD_OPTION)}}const sh={assertOptions:YF,validators:Ff},ii=sh.validators;let Ao=class{constructor(e){this.defaults=e||{},this.interceptors={request:new XE,response:new XE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&sh.assertOptions(r,{silentJSONParsing:ii.transitional(ii.boolean),forcedJSONParsing:ii.transitional(ii.boolean),clarifyTimeoutError:ii.transitional(ii.boolean)},!1),i!=null&&(te.isFunction(i)?n.paramsSerializer={serialize:i}:sh.assertOptions(i,{encode:ii.function,serialize:ii.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),sh.assertOptions(n,{baseUrl:ii.spelling("baseURL"),withXsrfToken:ii.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&te.merge(o.common,o[n.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=Kn.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const S=[sT.bind(this),void 0];for(S.unshift.apply(S,u),S.push.apply(S,h),_=S.length,m=Promise.resolve(n);g<_;)m=m.then(S[g++],S[g++]);return m}_=u.length;let T=n;for(g=0;g<_;){const S=u[g++],R=u[g++];try{T=S(T)}catch(I){R.call(this,I);break}}try{m=sT.call(this,T)}catch(S){return Promise.reject(S)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=Vo(this.defaults,e);const n=mC(e.baseURL,e.url,e.allowAbsoluteUrls);return uC(n,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){Ao.prototype[e]=function(n,r){return this.request(Vo(r||{},{method:e,url:n,data:(r||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(Vo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ao.prototype[e]=n(),Ao.prototype[e+"Form"]=n(!0)});let XF=class EC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new ml(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new EC(function(i){e=i}),cancel:e}}};function JF(t){return function(n){return t.apply(null,n)}}function ZF(t){return te.isObject(t)&&t.isAxiosError===!0}const ny={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ny).forEach(([t,e])=>{ny[e]=t});function TC(t){const e=new Ao(t),n=JI(Ao.prototype.request,e);return te.extend(n,Ao.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return TC(Vo(t,i))},n}const Bt=TC(fu);Bt.Axios=Ao;Bt.CanceledError=ml;Bt.CancelToken=XF;Bt.isCancel=fC;Bt.VERSION=wC;Bt.toFormData=jf;Bt.AxiosError=Ge;Bt.Cancel=Bt.CanceledError;Bt.all=function(e){return Promise.all(e)};Bt.spread=JF;Bt.isAxiosError=ZF;Bt.mergeConfig=Vo;Bt.AxiosHeaders=Kn;Bt.formToJSON=t=>hC(te.isHTMLForm(t)?new FormData(t):t);Bt.getAdapter=_C.getAdapter;Bt.HttpStatusCode=ny;Bt.default=Bt;const{Axios:QU,AxiosError:YU,CanceledError:XU,isCancel:JU,CancelToken:ZU,VERSION:e7,all:t7,Cancel:n7,isAxiosError:r7,spread:i7,toFormData:s7,AxiosHeaders:o7,HttpStatusCode:a7,formToJSON:l7,getAdapter:c7,mergeConfig:u7}=Bt,e9=()=>{const{t}=pt(),{cartItems:e,addToCart:n,removeFromCart:r,clearCart:i}=A.useContext(wf),[o,l]=A.useState({}),[u,d]=A.useState(!0),[h,m]=A.useState(null),[g,_]=A.useState(1),[T,S]=A.useState(""),[R,I]=A.useState(!1),[V,b]=A.useState({name:"",phone:"",country:"",address:""}),[k,M]=A.useState(null),{slug:F}=an(),K=async()=>{try{if(!(k!=null&&k.stripePublicKey)||!(k!=null&&k.success_url)||!(k!=null&&k.cancel_url)){pe.error("Stripe data missing. Please contact the restaurant.");return}const U=(await Bt.post("https://reverse-stripe-backend-production.up.railway.app/create-checkout-session",{total:N,currency:k.currency||"usd",slug:F})).data.id;await window.Stripe(k.stripePublicKey).redirectToCheckout({sessionId:U})}catch($){console.error("Stripe Error:",$),pe.error(t("payment.errorCard"))}};A.useEffect(()=>{(async()=>{const U={};for(const L in e){const ye=e[L];if(!ye||!ye.id)continue;const Ne=typeof ye.collection=="string"?ye.collection:"products";try{const _e=dt(Qe,"ReVerse",F,Ne,ye.id),we=await In(_e);we.exists()&&(U[ye.id]={id:we.id,...we.data()})}catch(_e){console.error("Error fetching product:",_e)}}l(U),d(!1)})()},[e,F]),A.useEffect(()=>{(async()=>{const U=dt(Qe,"ReVerse",F),L=await In(U);L.exists()&&M(L.data())})()},[F]);const D=3,C=Object.values(e).reduce(($,U)=>$+U.price*U.quantity,0),N=C+(h==="outside"?D:0),j=async()=>{const $={items:Object.values(e).map(U=>({id:U.id,name:U.name,price:U.price,quantity:U.quantity,size:U.size})),dineOption:h,...h==="inside"?{tableNumber:g}:{customerInfo:V},notes:T,total:N,paymentMethod:"cash",paymentStatus:"pending",createdAt:f4(),isSeen:!1};try{await mf(qn(Qe,"ReVerse",F,"orders"),$),i(),S(""),I(!1),pe.success("Your order has been received and is now being prepared!")}catch(U){console.error("Error placing order:",U),pe.error("An error occurred while submitting your order. Please try again!")}};return u?v.jsx("p",{children:"Loading..."}):v.jsxs(Sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"cart-page",children:[v.jsx(au,{position:"top-center",autoClose:3e3}),v.jsx("h2",{className:"cart-title",children:"Your Cart"}),Object.keys(e).length===0?v.jsxs("div",{className:"cart-empty",children:[v.jsx("p",{children:t("cart.emptyMessage")}),v.jsx("hr",{})]}):v.jsxs(v.Fragment,{children:[Object.entries(e).map(([$,U])=>{const L=o[U.id];return v.jsx(_5,{item:U,product:L,addToCart:n,removeFromCart:r},$)}),v.jsxs("div",{className:"cart-bottom",children:[v.jsxs("div",{className:"cart-summary-section",children:[(k==null?void 0:k.checkoutImage)&&v.jsxs("div",{className:"cart-image-box",children:[v.jsx("img",{src:k.checkoutImage,alt:"Checkout"}),(k==null?void 0:k.CartText)&&v.jsx("p",{children:k.CartText})]}),v.jsx(w5,{subtotal:C,deliveryFee:D,total:N,dineOption:h,setDineOption:m})]}),v.jsx("div",{className:"cart-forms",children:v.jsxs(el,{mode:"wait",children:[h==="inside"&&v.jsx(E5,{tableNumber:g,setTableNumber:_,notes:T,setNotes:S,setShowCashModal:I,setDineOption:m},"inside-form"),h==="outside"&&v.jsx(T5,{customerInfo:V,setCustomerInfo:b,notes:T,setNotes:S,setShowCashModal:I,setDineOption:m},"delivery-form")]})})]}),R&&v.jsx(el,{mode:"wait",children:v.jsx(S5,{onConfirm:j,onClose:()=>I(!1),onCardPayment:K},"payment-modal")})]})]})},t9=({onClose:t,onOpenContact:e,onOpenAdmin:n,slug:r})=>{const{t:i}=pt(),o=sr(),l=A.useRef(),[u,d]=A.useState(!1),h=()=>{d(!0),setTimeout(()=>{t()},300)};A.useEffect(()=>{const _=T=>{l.current&&!l.current.contains(T.target)&&h()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const m=_=>{o(`/reverse/${r}${_}`),h()},g=_=>{const T=document.getElementById(_);T?(T.scrollIntoView({behavior:"smooth"}),h()):(o(`/reverse/${r}?scrollTo=${_}`),h())};return console.log(" SideMenu mounted with slug:",r),v.jsx("div",{className:`side-overlay ${u?"fade-out":"fade-in"}`,children:v.jsxs("div",{ref:l,className:`sidemenu ${u?"slide-out":""}`,children:[v.jsx("button",{className:"close-btn",onClick:h,children:""}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>m(""),children:i("sidemenu.home")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>m("/cart"),children:i("sidemenu.cart")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>g("menu"),children:i("sidemenu.products")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>g("book"),children:i("sidemenu.book_table")})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>g("footer"),children:i("sidemenu.about_us")})}),v.jsx("li",{children:v.jsx("button",{onClick:n,children:i("sidemenu.admin")})}),v.jsx("li",{children:v.jsx("button",{onClick:e,children:i("sidemenu.contact")})})]})]})})};function n9({onClose:t}){const{t:e}=pt(),[n,r]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[d,h]=A.useState(!1),[m,g]=A.useState(!1),[_,T]=A.useState(""),[S,R]=A.useState(!1),I=sr(),{slug:V}=an(),b=()=>{r(""),o(""),h(!1)};A.useEffect(()=>{V&&u(V)},[V]),A.useEffect(()=>{const F=cv(Fr,async K=>{if(K){const D=localStorage.getItem("slug");if(D)try{const C=dt(Qe,"ReVerse",D),N=await In(C);if(N.exists()){const j=N.data();T(j.adminName||"Admin"),u(D),g(!0)}else pe.error(e("errors.storedProjectNotFound")),M()}catch{pe.error(e("errors.sessionCheck")),M()}}});return()=>F()},[]),A.useEffect(()=>{const F=localStorage.getItem("slug");m&&V&&F&&V!==F&&(pe.info(e("messages.projectSwitched")),M())},[V,m]);const k=async F=>{if(F.preventDefault(),!d){pe.error(e("errors.privacyPolicy"));return}try{const K=await fD(Fr,n,i),D=dt(Qe,"ReVerse",l),C=await In(D);if(C.exists()){const N=C.data();N.adminEmail===n?(pe.success(e("messages.loginSuccess")),b(),T(N.adminName||"Admin"),g(!0),localStorage.setItem("slug",l)):(pe.error(e("errors.notAuthorized")),b(),await xo(Fr))}else pe.error(e("errors.projectNotFound")),b(),await xo(Fr)}catch{pe.error(e("errors.loginFailed")),b()}},M=async()=>{await xo(Fr),g(!1),T(""),b(),localStorage.removeItem("slug"),pe.success(e("messages.loggedOut"))};return m?v.jsx("div",{className:"admin-overlay",children:v.jsxs("div",{className:"admin-container",children:[v.jsx("button",{className:"admin-close-btn",onClick:t,children:""}),S?v.jsxs("div",{className:"logout-confirm",children:[v.jsx("p",{className:"confirm-text",children:e("confirm.logout")}),v.jsxs("div",{className:"confirm-actions",children:[v.jsx("button",{className:"admin-btn danger",onClick:M,children:e("buttons.yes")}),v.jsx("button",{className:"admin-btn",onClick:()=>R(!1),children:e("buttons.no")})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"admin-title",children:e("adminO.hello",{name:_})}),v.jsx("p",{className:"admin-subtitle",children:e("adminO.nowYouCan")}),v.jsxs("div",{className:"admin-actions",children:[l&&v.jsx("button",{className:"admin-btn primary",onClick:()=>I(`/reverse/${l}/adminClientH`),children:e("buttons.goToAdmin")}),v.jsx("p",{className:"admin-or",children:e("buttons.or")}),v.jsx("button",{className:"admin-btn danger",onClick:()=>R(!0),children:e("buttons.logout")})]})]})]})}):v.jsx("div",{className:"admin-overlay",children:v.jsxs("div",{className:"admin-container",children:[v.jsx("button",{className:"admin-close-btn",onClick:t,children:""}),v.jsx("p",{children:e("adminO.welcome")}),v.jsx("p",{children:e("adminO.loginPrompt")}),v.jsxs("form",{onSubmit:k,className:"admin-form",children:[v.jsx("input",{type:"email",placeholder:e("placeholders.email"),value:n,onChange:F=>r(F.target.value)}),v.jsx("input",{type:"password",placeholder:e("placeholders.password"),value:i,onChange:F=>o(F.target.value)}),v.jsxs("p",{children:[e("adminO.willLogInto")," ",v.jsx("strong",{children:l})]}),v.jsxs("label",{className:"admin-agree",children:[v.jsx("input",{type:"checkbox",checked:d,onChange:F=>h(F.target.checked)}),e("privacy.agree")]}),v.jsx("button",{type:"submit",children:e("buttons.login")})]})]})})}var SC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aT=it.createContext&&it.createContext(SC),r9=["attr","size","title"];function i9(t,e){if(t==null)return{};var n=s9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=l9(t,"string");return typeof e=="symbol"?e:e+""}function l9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t){return t&&t.map((e,n)=>it.createElement(e.tag,$h({key:n},e.attr),xC(e.child)))}function en(t){return e=>it.createElement(c9,Bh({attr:$h({},t.attr)},e),xC(t.child))}function c9(t){var e=n=>{var{attr:r,size:i,title:o}=t,l=i9(t,r9),u=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),it.createElement("svg",Bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:$h($h({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&it.createElement("title",null,o),t.children)};return aT!==void 0?it.createElement(aT.Consumer,null,n=>e(n)):e(SC)}function u9(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Fv(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Uf(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function d9(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function h9(t){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function f9(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function p9(t){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"},child:[]}]})(t)}function m9(t){return en({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function bC(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function g9(t){return en({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function y9(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(t)}function v9(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function _9(t){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function w9(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function E9(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function T9(t){return en({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function S9(t){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(t)}function x9(t){return en({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}const b9=({onClose:t,slug:e})=>{const[n,r]=A.useState(null),{t:i}=pt(),[o,l]=A.useState(!1);A.useEffect(()=>{(async()=>{var h;try{const m=dt(Qe,"ReVerse",e),g=await In(m);if(g.exists()){const T=((h=g.data().footerSettings)==null?void 0:h.socialLinks)||{};r(T),setTimeout(()=>l(!0),10)}}catch(m){console.error(" Error fetching contact info:",m)}})()},[e]);const u=(n==null?void 0:n.facebook)||(n==null?void 0:n.instagram)||(n==null?void 0:n.whatsapp);return v.jsx("div",{className:"contact-modal",children:v.jsxs("div",{className:`contact-container ${o?"fade-in-slide":""}`,children:[v.jsx("button",{className:"contact-close-btn",onClick:t,children:""}),n?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"contact-greeting",children:[i("contact.greeting")," ",v.jsx("span",{children:i("contact.contactVia")})]}),u?v.jsxs("div",{className:"contact-icons",children:[n.facebook&&v.jsx("a",{href:n.facebook,target:"_blank",rel:"noreferrer",children:v.jsx(u9,{className:"contact-icon facebook"})}),n.instagram&&v.jsx("a",{href:n.instagram,target:"_blank",rel:"noreferrer",children:v.jsx(Fv,{className:"contact-icon instagram"})}),n.whatsapp&&v.jsx("a",{href:`https://wa.me/${n.whatsapp}`,target:"_blank",rel:"noreferrer",children:v.jsx(Uf,{className:"contact-icon whatsapp"})})]}):v.jsx("p",{className:"contact-nodata",children:i("contact.noData")})]}):v.jsx("p",{className:"contact-loading",children:i("contact.loading")})]})})},IC=({language:t,setLanguage:e})=>v.jsxs("div",{className:"language-switcher",children:[v.jsx("button",{className:t==="ar"?"active":"",onClick:()=>e("ar"),children:"AR"}),v.jsx("button",{className:t==="en"?"active":"",onClick:()=>e("en"),children:"EN"})]});function CC(){const{t,i18n:e}=pt(),{slug:n}=an(),r=sr(),[i,o]=A.useState(null),[l,u]=A.useState(!1),[d,h]=A.useState(!1),[m,g]=A.useState(!1),[_,T]=A.useState(localStorage.getItem("language")||"en");A.useEffect(()=>{(async()=>{try{const I=dt(Qe,"ReVerse",n),V=await In(I);V.exists()?o(V.data()):console.error("Restaurant not found")}catch(I){console.error("Error fetching data:",I)}})()},[n]);const S=R=>{T(R),localStorage.setItem("language",R),e.changeLanguage(R)};return i?v.jsxs(v.Fragment,{children:[v.jsxs("nav",{className:"navbar fade-in-footer",children:[v.jsx("img",{className:"logo",src:i.logo,alt:"logo",width:"100"}),v.jsxs("div",{className:"menusec",children:[v.jsx(IC,{language:_,setLanguage:S}),v.jsx("button",{onClick:()=>r(`/reverse/${n}/cart`),children:t("navbar.cart")}),v.jsx("button",{onClick:()=>u(!0),children:""})]})]}),l&&v.jsx(t9,{slug:n,onClose:()=>u(!1),onOpenContact:()=>g(!0),onOpenAdmin:()=>h(!0)}),d&&v.jsx(n9,{slug:n,onClose:()=>h(!1),adminEmail:i.adminEmail,onOpenAdmin:()=>{console.log(" Open Admin Component")}}),m&&v.jsx(b9,{slug:n,onClose:()=>g(!1)})]}):null}const I9=({sectionTitle:t,sectionContent:e,onClose:n})=>{const[r,i]=A.useState("fade-in-modal");A.useEffect(()=>()=>{i("fade-out-modal")},[]);const o=()=>{i("fade-out-modal"),setTimeout(()=>{n()},300)};return v.jsx("div",{className:"AboutLa",onClick:o,children:v.jsxs("div",{className:`about-container ${r}`,onClick:l=>l.stopPropagation(),children:[v.jsx("button",{className:"close-btn",onClick:o,"aria-label":"Close About Section",children:""}),v.jsx("h2",{children:t||"Info"}),v.jsx("p",{children:e||"Sorry, we couldn't find the information you're looking for."})]})})},PC=({slug:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState(null),{t:o}=pt();if(A.useEffect(()=>{(async()=>{const _=dt(Qe,"ReVerse",t),T=await In(_);T.exists()&&n(T.data().footerSettings)})()},[t]),!e)return null;const{logoText:l,aboutText:u,socialLinks:d,infoSections:h,copyright:m}=e;return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"footer fade-in-footer",id:"footer",children:[v.jsxs("div",{className:"footer-content",children:[v.jsxs("div",{className:"footer-left",children:[l!=null&&l.startsWith("http")?v.jsx("img",{src:l,alt:"Logo",style:{width:"120px"}}):v.jsx("h2",{children:l}),v.jsx("p",{className:"p-one",children:u}),v.jsx("p",{className:"p-two",children:o("footer.contactUs")}),v.jsxs("div",{className:"footer-icons",children:[(d==null?void 0:d.email)&&v.jsx("a",{href:`mailto:${d.email}`,"aria-label":"Email",children:v.jsx(bC,{})}),(d==null?void 0:d.whatsapp)&&v.jsx("a",{href:`https://wa.me/${d.whatsapp}`,target:"_blank",rel:"noreferrer","aria-label":"WhatsApp",children:v.jsx(Uf,{})}),(d==null?void 0:d.instagram)&&v.jsx("a",{href:d.instagram,target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:v.jsx(Fv,{})})]})]}),v.jsxs("div",{className:"footer-right",children:[v.jsx("h4",{children:o("footer.details")}),v.jsx("ul",{className:"footer-lists",children:Object.keys(h).map(g=>v.jsxs("li",{onClick:()=>i(g),children:[g," >"]},g))})]})]}),v.jsx("hr",{}),v.jsxs("p",{className:"footer-copyright",children:[m," - ",o("footer.developedBy")]})]}),r&&v.jsx(I9,{sectionTitle:r,sectionContent:h[r],onClose:()=>i(null)})]})},C9=()=>{const{t}=pt(),{slug:e}=an(),n=sr(),[r,i]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState(!1),h=new Audio("/sounds/notify.mp3"),m=A.useRef(null),[g,_]=A.useState({name:"",email:""}),T=b=>{i(b),n(`/reverse/${e}/adminClientH/${b}`)},S=()=>l(!0),R=()=>l(!1),I=async()=>{try{await xo(Fr),localStorage.removeItem("slug"),pe.success("You have been logged out."),n(`/reverse/${e}`)}catch(b){console.error("Logout error:",b),pe.error("Something went wrong while logging out.")}},V=async()=>{try{const b=Eg(qn(Qe,"ReVerse",e,"orders"),Tg("createdAt","desc")),M=(await Bi(b)).docs.find(F=>!F.data().isSeen);d(!!M),M&&M.id!==m.current&&(h.play().catch(F=>console.warn("   ",F)),m.current=M.id)}catch(b){console.error("Error checking new orders:",b)}};return A.useEffect(()=>{const b=cv(Fr,async k=>{if(!k||!localStorage.getItem("slug")){await xo(Fr),pe.error("Session expired. Please log in again."),n(`/reverse/${e}`);return}try{const M=dt(Qe,"ReVerse",e),F=await In(M);if(F.exists()){const K=F.data();_({name:K.adminName||"Admin",email:K.adminEmail||"admin@example.com"})}else await xo(Fr),pe.error("Project not found!"),n(`/reverse/${e}`)}catch(M){console.error("Error fetching admin info:",M),await xo(Fr),pe.error("Error while verifying admin!"),n(`/reverse/${e}`)}});return()=>b()},[e]),A.useEffect(()=>{const b=setInterval(()=>{V()},1e4);return()=>clearInterval(b)},[e]),v.jsxs(Sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"admin-dashboard",children:[v.jsxs("div",{className:"admin-header",children:[v.jsx("h2",{children:t("admin.title",{slug:e})}),v.jsxs("div",{className:"admin-info",children:[v.jsxs("p",{children:[" ",g.name]}),v.jsxs("p",{children:[" ",g.email]}),v.jsx("button",{className:"logout-btn",onClick:S,children:t("admin.logout")})]})]}),!r&&v.jsxs("div",{className:"button-grid",children:[v.jsxs("button",{onClick:()=>T("add"),children:[" ",t("admin.add")]}),v.jsxs("button",{onClick:()=>T("list"),children:[" ",t("admin.list")]}),v.jsxs("button",{onClick:()=>T("orders"),className:"order-btn",children:[" ",t("admin.orders"),u&&v.jsx("span",{className:"new-order-alert",children:""})]}),v.jsxs("button",{onClick:()=>T("booking"),children:[" ",t("admin.bookings")]})]}),r&&v.jsx("button",{className:"back-btn",onClick:()=>{i(null),n(`/reverse/${e}/adminClientH`)},children:" Back"}),o&&v.jsx("div",{className:"logout-modal",children:v.jsxs("div",{className:"logout-modal-content",children:[v.jsx("p",{children:t("admin.logoutConfirm")}),v.jsxs("div",{className:"logout-modal-buttons",children:[v.jsx("button",{onClick:I,children:t("admin.logoutYes")}),v.jsx("button",{onClick:R,children:t("admin.cancel")})]})]})})]})},P9=()=>{const{slug:t}=an();return v.jsxs(v.Fragment,{children:[v.jsx(CC,{slug:t}),v.jsx(MT,{})," ",v.jsx(PC,{slug:t})]})},A9=()=>{const[t,e]=A.useState(!1),n=A.useRef(null),{t:r,i18n:i}=pt(),o=()=>e(l=>!l);return A.useEffect(()=>{const l=u=>{n.current&&!n.current.contains(u.target)&&e(!1)};return t?document.addEventListener("mousedown",l):document.removeEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[t]),A.useEffect(()=>{document.documentElement.dir=i.language==="ar"?"rtl":"ltr"},[i.language]),v.jsx("nav",{className:"navbar-me",children:v.jsxs("div",{className:"navbar__container animate-slideDown",children:[v.jsx("div",{className:"navbar__logo",children:v.jsx("img",{src:"https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_100/v1750008470/ReVerseLogo_ettejm.png",alt:"ReVerse Logo"})}),v.jsx("div",{className:"navbar__right",children:v.jsx("div",{className:"navbar__toggle",onClick:o,children:v.jsx(d9,{})})}),v.jsxs("div",{className:`navbar__menu ${t?"open":""}`,ref:n,children:[v.jsx(IC,{language:i.language,setLanguage:l=>i.changeLanguage(l)}),v.jsx("a",{href:"#features",children:r("navbarMe.features")}),v.jsx("a",{href:"#pricing",children:r("navbarMe.pricing")}),v.jsx("a",{href:"#clients",children:r("navbarMe.clients")}),v.jsx("a",{href:"#get-started",className:"navbar__cta",children:r("navbarMe.getStarted")})]})]})})},R9=()=>{const{t}=pt();return v.jsx("section",{className:"hero-me animate-hero-bg",children:v.jsxs("div",{className:"hero-content animate-hero-text",children:[v.jsx("h1",{children:t("heroMe.title")}),v.jsx("p",{children:t("heroMe.subtitle")}),v.jsx("a",{href:"#get-started",className:"hero-button",children:t("heroMe.button")})]})})},k9=()=>{const{t}=pt(),e=A.useRef(null),[n,r]=A.useState(!1),i=[{icon:v.jsx(x9,{}),title:t("features.cards.0.title"),description:t("features.cards.0.description")},{icon:v.jsx(T9,{}),title:t("features.cards.1.title"),description:t("features.cards.1.description")},{icon:v.jsx(f9,{}),title:t("features.cards.2.title"),description:t("features.cards.2.description")},{icon:v.jsx(S9,{}),title:t("features.cards.3.title"),description:t("features.cards.3.description")},{icon:v.jsx(v9,{}),title:t("features.cards.4.title"),description:t("features.cards.4.description")},{icon:v.jsx(g9,{}),title:t("features.cards.5.title"),description:t("features.cards.5.description")},{icon:v.jsx(p9,{}),title:t("features.cards.6.title"),description:t("features.cards.6.description")},{icon:v.jsx(h9,{}),title:t("features.cards.7.title"),description:t("features.cards.7.description")}];return A.useEffect(()=>{const o=new IntersectionObserver(([l])=>{l.isIntersecting&&(r(!0),o.disconnect())},{threshold:.2});return e.current&&o.observe(e.current),()=>o.disconnect()},[]),v.jsxs("section",{className:`features-section ${n?"animate-features":""}`,id:"features",ref:e,children:[v.jsxs("div",{className:"features-header",children:[v.jsx("h2",{children:t("features.title1")}),v.jsx("p",{children:t("features.description")}),v.jsx("h2",{children:t("features.title2")})]}),v.jsx("div",{className:"features-grid",children:i.map((o,l)=>v.jsxs("div",{className:`feature-card ${n?"fade-in":""}`,style:{animationDelay:`${l*.1}s`},children:[v.jsx("div",{className:"icon",children:o.icon}),v.jsx("h3",{children:o.title}),v.jsx("p",{children:o.description})]},l))})]})},N9=()=>{const[t,e]=A.useState(null),{t:n,i18n:r}=pt(),i=l=>{e(l)},o=l=>{const u=r.language==="ar"?`    ${n(`pricing.plans.${l}.title`)}.      `:`Hello, I'm interested in the ${n(`pricing.plans.${l}.title`)} plan. Could you please share more details?`;return`https://wa.me/201024208807?text=${encodeURIComponent(u)}`};return v.jsxs("section",{className:"pricing-section",id:"pricing",children:[v.jsx("div",{className:"section-title",children:v.jsx("h2",{children:n("pricing.title")})}),v.jsx("div",{className:"pricing-grid",children:["basic","pro","vip"].map(l=>v.jsxs("div",{className:`pricing-card ${t===l?"active":""}`,onClick:()=>i(l),children:[v.jsx("h3",{children:n(`pricing.plans.${l}.title`)}),v.jsxs("p",{className:"price",children:[n(`pricing.plans.${l}.price`),l!=="vip"&&v.jsxs("span",{children:[" /",n("pricing.month")]})]}),v.jsx("a",{href:o(l),target:"_blank",rel:"noopener noreferrer",className:"start-now-btn",onClick:u=>u.stopPropagation(),children:n("pricing.startNow")}),v.jsx("ul",{className:"features-list",children:n(`pricing.plans.${l}.features`,{returnObjects:!0}).map((u,d)=>v.jsx("li",{children:u},d))})]},l))}),v.jsx("p",{className:"cta-text",children:n("pricing.cta")})]})},cT=[{name:"ReVerse Cafe",image:"https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,h_300,c_fill/v1751506509/Mehbud_Suspended_Ceilings_for_Your_Prestige_s7wqri.jpg",link:"https://rreverse.netlify.app/reverse/re-caffee"},{name:"ReVerse Rest",image:"https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,h_300,c_fill/v1751506509/Pub_Sustainable_Architecture_Design_Ideas_pvbwmn.jpg",link:"https://rreverse.netlify.app/reverse/re-rest"},{name:"Fake Sushi Corner",image:"https://res.cloudinary.com/demo/image/upload/f_auto,q_auto,w_400,h_300,c_fill/sample.jpg",link:"https://sushi-corner.reversesite.com"},{name:"Fake Coffee Spot",image:"https://res.cloudinary.com/demo/image/upload/f_auto,q_auto,w_400,h_300,c_fill/sample.jpg",link:"https://coffee-spot.reversesite.com"}],O9=()=>{const[t,e]=A.useState(!1),{t:n}=pt(),r=t?cT:cT.slice(0,2),i=A.useRef(null),[o,l]=A.useState(!1);return A.useEffect(()=>{const u=new IntersectionObserver(([d])=>{d.isIntersecting&&(l(!0),u.disconnect())},{threshold:.2});return i.current&&u.observe(i.current),()=>u.disconnect()},[]),v.jsxs("section",{className:`clients-section ${o?"animate-clients":""}`,id:"clients",ref:i,children:[v.jsx("h2",{className:"clients-title",children:n("clients.title")}),v.jsx("p",{className:"clients-subtext",children:n("clients.description")}),v.jsx("div",{className:`clients-scroll ${t?"":"centered-scroll"}`,children:r.map((u,d)=>v.jsxs("a",{href:u.link,className:"client-card fade-in",style:{animationDelay:`${d*.1}s`},target:"_blank",rel:"noopener noreferrer",children:[v.jsx("img",{src:u.image,alt:u.name}),v.jsx("p",{children:u.name})]},d))}),v.jsxs("div",{className:"clients-buttons fade-in",style:{animationDelay:"0.5s"},children:[v.jsx("a",{href:"#pricing",className:"btn-orange",children:n("clients.cta")}),v.jsx("button",{className:"btn-outline",onClick:()=>e(!t),children:n(t?"clients.hide":"clients.viewMore")})]})]})},D9=()=>{const{t}=pt(),e=[{icon:v.jsx(E9,{}),title:t("footerMe.features.fast.title"),description:t("footerMe.features.fast.desc")},{icon:v.jsx(m9,{}),title:t("footerMe.features.pricing.title"),description:t("footerMe.features.pricing.desc")},{icon:v.jsx(w9,{}),title:t("footerMe.features.ui.title"),description:t("footerMe.features.ui.desc")},{icon:v.jsx(_9,{}),title:t("footerMe.features.responsive.title"),description:t("footerMe.features.responsive.desc")},{icon:v.jsx(y9,{}),title:t("footerMe.features.support.title"),description:t("footerMe.features.support.desc")}];return v.jsxs("footer",{className:"footer-section",children:[v.jsx("h2",{className:"footer-title",children:t("footerMe.title")}),v.jsx("p",{className:"footer-subtext",children:t("footerMe.description")}),v.jsx("div",{className:"footer-grid",children:e.map((n,r)=>v.jsxs("div",{className:"footer-card",children:[v.jsx("div",{className:"icon",children:n.icon}),v.jsx("h3",{children:n.title}),v.jsx("p",{children:n.description})]},r))}),v.jsxs("div",{className:"footer-cta",id:"get-started",children:[v.jsx("h3",{children:t("footerMe.cta.title")}),v.jsx("p",{children:t("footerMe.cta.description")}),v.jsx("a",{href:"https://wa.me/201024208807?text=Hello%2C%20I'm%20interested%20in%20learning%20more%20about%20your%20services%20at%20ReVerse.%20Could%20you%20please%20provide%20more%20information%3F",className:"footer-btn",target:"_blank",rel:"noopener noreferrer",children:t("footerMe.cta.button")})]}),v.jsxs("div",{className:"footer-icons",children:[v.jsx("a",{href:"https://wa.me/201024208807",target:"_blank",rel:"noopener noreferrer",children:v.jsx(Uf,{})}),v.jsx("a",{href:"https://instagram.com/reverse.saas",target:"_blank",rel:"noopener noreferrer",children:v.jsx(Fv,{})}),v.jsx("a",{href:"mailto:reemdarwish07@gmail.com",children:v.jsx(bC,{})})]}),v.jsxs("p",{className:"footer-copy",children:[" ",new Date().getFullYear()," ReVerse. ",t("footerMe.copyright")]})]})},L9=()=>v.jsxs("div",{className:"homme",children:[v.jsx(A9,{}),v.jsx(R9,{}),v.jsx(k9,{}),v.jsx(N9,{}),v.jsx(O9,{}),v.jsx(D9,{})]}),uT=({children:t})=>{const{slug:e}=an();return v.jsx(gb,{slug:e,children:t})},V9=()=>{const{slug:t}=an();return v.jsxs(v.Fragment,{children:[v.jsx(CC,{slug:t}),v.jsx(MT,{})," ",v.jsx(PC,{slug:t})]})};function j9(){const{t}=pt(),{slug:e}=an(),[n,r]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[d,h]=A.useState(""),[m,g]=A.useState(""),[_,T]=A.useState(""),[S,R]=A.useState(""),[I,V]=A.useState(!1),[b,k]=A.useState([]),[M,F]=A.useState(!1),[K,D]=A.useState(null),[C,N]=A.useState(null),[j,$]=A.useState(window.innerWidth<768);A.useEffect(()=>{const Y=()=>{$(window.innerWidth<768)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]);const U=Y=>{if(!Y)return"";const le=Y.split(" ");return le.length<=2?Y:le.slice(0,2).join(" ")+" ..."};A.useEffect(()=>{(async()=>{const le=dt(Qe,"ReVerse",e),re=await In(le);if(re.exists()){const z=re.data();if(z.specialTitle){o(z.specialTitle);const me=(await Bi(qn(Qe,"ReVerse",e,"specialItems"))).docs.map(xe=>({id:xe.id,...xe.data()}));k(me)}}})()},[e]);const L=async Y=>{if(!Y)return;V(!0),pe.info("Uploading image...");const le=new FormData;le.append("file",Y),le.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:le})).json(),Z=z.public_id,xe=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,dpr_auto/v${z.version}/${Z}.jpg`;g(xe),pe.success("Image uploaded!")}catch{pe.error("Upload failed")}finally{V(!1)}},ye=async()=>{if(i){pe.error("Special title already exists. Delete it first.");return}if(!n.trim()){pe.error("Please enter special title");return}try{await $s(dt(Qe,"ReVerse",e),{specialTitle:n}),o(n),pe.success("Special title added")}catch{pe.error("Failed to save title")}},Ne=async()=>{if(!i){pe.error("You must add a special title first");return}if(b.length>=3){pe.error("You can only add up to 3 special items");return}if(!l||!d||!m||!S){pe.error("Fill all fields");return}try{const Y={name:l,description:d,image:m,oldPrice:_?parseFloat(_):null,price:parseFloat(S),sizes:[{label:"Standard",price:parseFloat(S)}]},le=await mf(qn(Qe,"ReVerse",e,"specialItems"),Y);k(re=>[...re,{id:le.id,...Y}]),u(""),h(""),g(""),T(""),R(""),pe.success("Special item added")}catch{pe.error("Failed to add item")}},_e=async Y=>{try{await Xa(dt(Qe,"ReVerse",e,"specialItems",Y.id)),k(le=>le.filter(re=>re.id!==Y.id)),D(null),pe.success("Item deleted")}catch{pe.error("Delete failed")}},we=async()=>{try{const Y=await Bi(qn(Qe,"ReVerse",e,"specialItems"));for(const le of Y.docs)await Xa(dt(Qe,"ReVerse",e,"specialItems",le.id));await $s(dt(Qe,"ReVerse",e),{specialTitle:""}),k([]),o(""),F(!1),pe.success("Special section deleted")}catch{pe.error("Failed to delete section")}};return v.jsxs("div",{className:"special-wrapper",children:[v.jsx("h2",{children:t("special.addSpecialItems")}),i?v.jsxs("div",{className:"special-title-box",children:[v.jsx("h3",{children:i}),v.jsx("button",{className:"special-delete-btn",onClick:()=>F(!0),children:t("buttons.delete")})]}):v.jsxs("div",{className:"add-product-form",children:[v.jsx("input",{className:"input-text",placeholder:t("special.sectionTitlePlaceholder"),value:n,onChange:Y=>r(Y.target.value)}),v.jsx("button",{className:"submit-btn",onClick:ye,children:t("special.saveTitle")})]}),i&&v.jsxs("div",{className:"add-product-form",children:[v.jsx("input",{className:"input-text",placeholder:t("special.name"),value:l,onChange:Y=>u(Y.target.value)}),v.jsx("textarea",{className:"textarea",placeholder:t("special.description"),value:d,onChange:Y=>h(Y.target.value)}),v.jsx("input",{className:"input-price",placeholder:t("special.oldPrice"),value:_,onChange:Y=>T(Y.target.value),type:"number"}),v.jsx("input",{className:"input-price",placeholder:t("special.price"),value:S,onChange:Y=>R(Y.target.value),type:"number"}),v.jsx("input",{className:"input-file",type:"file",onChange:Y=>L(Y.target.files[0])}),m&&v.jsxs("div",{className:"image-preview",children:[v.jsx("img",{src:m,className:"preview-img",alt:"Preview"}),v.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>g(""),children:t("special.changeImage")})]}),v.jsx("button",{className:"submit-btn",onClick:Ne,disabled:I,children:t("special.addItem")}),v.jsx("div",{className:"special-items-list",children:b.map((Y,le)=>v.jsx("div",{className:"special-item-card",children:v.jsxs("div",{className:"special-item-content",children:[v.jsx("img",{src:Y.image,alt:Y.name,className:"special-item-img"}),v.jsxs("div",{className:"special-item-details",children:[v.jsx("strong",{children:Y.name}),v.jsx("span",{style:{fontSize:"13px",color:"gray",cursor:j?"pointer":"default",whiteSpace:j?"nowrap":"normal",overflow:j?"hidden":"visible",textOverflow:j?"ellipsis":"unset"},onClick:()=>j&&N(Y.id),children:j?U(Y.description):Y.description})]}),v.jsxs("span",{className:"special-item-price",children:[Y.oldPrice&&v.jsxs("s",{children:["$",Y.oldPrice]}),v.jsxs("b",{children:["$",Y.price]})]}),v.jsxs("div",{children:[C===Y.id&&v.jsx("div",{className:"description-modal-overlay",onClick:()=>N(null),children:v.jsxs("div",{className:"description-modal",onClick:re=>re.stopPropagation(),children:[v.jsx("strong",{children:t("special.fullDescription")}),v.jsx("p",{style:{marginTop:"6px"},children:Y.description})]})}),v.jsx("button",{className:"special-delete-btn",onClick:()=>D(Y),children:"X"})]})]})},le))})]}),M&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-box",children:[v.jsxs("p",{children:["Are you sure you want to delete the entire section"," ",v.jsxs("strong",{children:['"',i,'"']}),"?"]}),v.jsxs("div",{className:"modal-buttons",children:[v.jsx("button",{onClick:we,style:{background:"red",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:"Yes"}),v.jsx("button",{onClick:()=>F(!1),style:{background:"gray",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer"},children:"No"})]})]})}),K&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-box",children:[v.jsxs("p",{children:["Are you sure you want to delete"," ",v.jsxs("strong",{children:['"',K.name,'"']}),"?"]}),v.jsxs("div",{className:"modal-buttons",children:[v.jsx("button",{className:"yes",onClick:()=>_e(K),children:"Yes"}),v.jsx("button",{className:"no",onClick:()=>D(null),children:"No"})]})]})})]})}function M9(){const{t}=pt(),{slug:e}=an();if(!e)return null;const r=`https://wa.me/201024208807?text=${encodeURIComponent(`Hello, I want to upgrade the plan for my restaurant: ${e}`)}`;return v.jsxs("div",{className:"upgrade-notice",children:[v.jsx("h3",{className:"upgrade-title",children:t("upgrade.specialItemsTitle")}),v.jsx("p",{className:"upgrade-text",children:t("upgrade.description")}),v.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"upgrade-btn",children:[v.jsx(Uf,{className:"whatsapp-icon"}),t("upgrade.contactBtn")]})]})}function Bf(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(t)}function F9({name:t,description:e,sizes:n,useUnifiedSize:r,unifiedPrice:i,category:o,categoriesList:l,uploadedImageURL:u,imageFile:d,isImageUploading:h,setName:m,setDescription:g,setSizes:_,setUseUnifiedSize:T,setUnifiedPrice:S,setCategory:R,setImageFile:I,setUploadedImageURL:V,handleImageUpload:b,handleSubmit:k}){sr();const{t:M}=pt();return v.jsxs("form",{onSubmit:k,className:"add-product-form",children:[v.jsx("p",{className:"form-label",children:M("addProduct.uploadImage")}),v.jsx("input",{type:"file",accept:"image/*",className:"input-file",onChange:F=>{const K=F.target.files[0];I(K),b(K)}}),u&&v.jsxs("div",{className:"image-preview",children:[v.jsx("img",{src:u,alt:"Uploaded Preview",className:"preview-img"}),v.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>{V(""),I(null)},children:M("addCategory.changeImage")})]}),v.jsx("p",{className:"form-label",children:M("addProduct.name")}),v.jsx("input",{type:"text",placeholder:M("addProduct.namePlaceholder"),value:t,onChange:F=>m(F.target.value),className:"input-text"}),v.jsx("p",{className:"form-label",children:M("addProduct.description")}),v.jsx("textarea",{placeholder:M("addProduct.descriptionPlaceholder"),value:e,onChange:F=>g(F.target.value),className:"textarea"}),v.jsx("p",{className:"form-label",children:M("addProduct.sizesTitle")}),["S","M","L"].map(F=>v.jsxs("div",{className:"size-option",children:[v.jsxs("label",{className:"checkbox-label",children:[v.jsx("input",{type:"checkbox",checked:n[F].selected,disabled:r,onChange:()=>_(K=>({...K,[F]:{...K[F],selected:!K[F].selected,price:K[F].selected?K[F].price:""}}))}),F]}),n[F].selected&&!r&&v.jsx("input",{type:"number",placeholder:`${M("addProduct.priceFor")} ${F}`,value:n[F].price,onChange:K=>_(D=>({...D,[F]:{...D[F],price:K.target.value}})),className:"input-price"})]},F)),v.jsx("p",{className:"form-label",children:M("addProduct.category")}),v.jsxs("select",{value:o,onChange:F=>R(F.target.value),className:"select-category",children:[v.jsx("option",{value:"",children:M("addProduct.selectCategory")}),l.map((F,K)=>v.jsx("option",{value:F.name,children:F.name},K))]}),v.jsx("button",{type:"submit",className:"submit-btn",children:M("addProduct.submit")})]})}function U9({categoryImageURL:t,newCategoryName:e,setNewCategoryName:n,setCategoryImageURL:r,handleCategoryImageUpload:i,handleAddCategory:o,categorySectionRef:l}){const u=sr(),{t:d}=pt();return v.jsxs("div",{className:"add-category-wrapper",ref:l,children:[v.jsx("button",{style:{display:"none"},className:"close-category-btn",onClick:()=>u(-1),children:""}),v.jsx("h3",{className:"add-category-title",children:d("addCategory.title")}),v.jsxs("p",{className:"add-category-note",children:[d("addCategory.note")," ",v.jsx("strong",{children:"1:1"})]}),v.jsx("input",{className:"add-category-input",type:"file",accept:"image/*",onChange:h=>{const m=h.target.files[0];m&&i(m)}}),t&&v.jsxs("div",{className:"category-preview",children:[v.jsx("img",{src:t,alt:d("addCategory.previewAlt"),className:"category-preview-img"}),v.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>r(""),children:d("addCategory.changeImage")})]}),v.jsx("input",{className:"add-category-name",type:"text",placeholder:d("addCategory.namePlaceholder"),value:e,onChange:h=>n(h.target.value)}),v.jsx("button",{type:"button",className:"add-category-submit",onClick:()=>{if(!(e!=null&&e.trim())||!t){!(e!=null&&e.trim())&&!t?pe.error(d("addCategory.errors.nameAndImage")):e!=null&&e.trim()?pe.error(d("addCategory.errors.imageOnly")):pe.error(d("addCategory.errors.nameOnly"));return}o()},children:d("addCategory.submit")})]})}function B9(){const{t}=pt(),[e,n]=A.useState(""),[r,i]=A.useState(""),[o,l]=A.useState({S:{selected:!1,price:""},M:{selected:!1,price:""},L:{selected:!1,price:""}}),[u,d]=A.useState(!1),[h,m]=A.useState(""),[g,_]=A.useState(""),[T,S]=A.useState(null),[R,I]=A.useState(""),[V,b]=A.useState(!1),[k,M]=A.useState([]),F=A.useRef(null),[K,D]=A.useState(""),[C,N]=A.useState(""),{slug:j}=an(),$=sr(),[U,L]=A.useState("basic");A.useEffect(()=>{(async()=>{try{const le=dt(Qe,"ReVerse",j),re=await In(le);if(re.exists()){const z=re.data();M(z.categories||[]),L(z.plan||"basic")}else pe.error("Categories not found.")}catch{pe.error("Failed to fetch categories.")}})()},[j]);const ye=async Y=>{if(!Y)return;b(!0),pe.info("Uploading image... Please wait");const le=new FormData;le.append("file",Y),le.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:le})).json(),Z=z.public_id,xe=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,dpr_auto/v${z.version}/${Z}.jpg`;I(xe),pe.success("Image uploaded successfully!")}catch{pe.error("Image upload failed.")}finally{b(!1)}},Ne=async Y=>{b(!0),pe.info("Uploading category image...");const le=new FormData;le.append("file",Y),le.append("upload_preset","react_upload");try{const z=await(await fetch("https://api.cloudinary.com/v1_1/dwupyymoc/image/upload",{method:"POST",body:le})).json(),Z=z.public_id,xe=`https://res.cloudinary.com/dwupyymoc/image/upload/f_auto,q_auto,w_400,dpr_auto/v${z.version}/${Z}.jpg`;N(xe),pe.success("Category image uploaded!")}catch{pe.error("Image upload failed.")}finally{b(!1)}},_e=async()=>{if(!K.trim()||!C){pe.error("Please enter category name and upload an image.");return}try{const Y=dt(Qe,"ReVerse",j),le=await In(Y);let re=[];le.exists()&&(re=le.data().categories||[]);const z=[...re,{name:K,image:C}];await $s(Y,{categories:z}),pe.success("Category added successfully!"),M(z),D(""),N("")}catch{pe.error("Failed to add category.")}},we=async Y=>{if(Y.preventDefault(),V){pe.warn("Please wait until image finishes uploading.");return}const le=u?[{label:"Standard",price:parseFloat(h)}]:Object.entries(o).filter(([re,z])=>z.selected&&z.price).map(([re,z])=>({label:re,price:parseFloat(z.price)}));if(!e.trim()||!r.trim()||!g||!R||le.length===0||u&&!h){pe.error("Please fill in all fields and set the size price.");return}try{const re={name:e,description:r,sizes:le,category:g,image:R},z=qn(Qe,"ReVerse",j,"products");await mf(z,re),pe.success("Product added successfully!"),n(""),i(""),l({S:{selected:!1,price:""},M:{selected:!1,price:""},L:{selected:!1,price:""}}),d(!1),m(""),_(""),S(null),I("")}catch{pe.error("Failed to add product.")}};return v.jsxs(Sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>$(-1),children:[v.jsx(Bf,{className:"back-icon"}),t("addProduct.back")]}),v.jsxs("div",{className:"nav-buttons",children:[v.jsx("button",{onClick:()=>document.getElementById("add-product-section").scrollIntoView({behavior:"smooth"}),children:t("addProduct.tabs.product")}),v.jsx("button",{onClick:()=>document.getElementById("add-category-section").scrollIntoView({behavior:"smooth"}),children:t("addProduct.tabs.category")}),v.jsx("button",{onClick:()=>document.getElementById("add-special-section").scrollIntoView({behavior:"smooth"}),children:t("addProduct.tabs.special")})]}),v.jsx("div",{id:"add-product-section",children:v.jsx(F9,{name:e,description:r,sizes:o,useUnifiedSize:u,unifiedPrice:h,category:g,categoriesList:k,uploadedImageURL:R,imageFile:T,isImageUploading:V,setName:n,setDescription:i,setSizes:l,setUseUnifiedSize:d,setUnifiedPrice:m,setCategory:_,setImageFile:S,setUploadedImageURL:I,handleImageUpload:ye,handleSubmit:we})}),v.jsx("div",{id:"add-category-section",children:v.jsx(U9,{categoryImageURL:C,newCategoryName:K,setNewCategoryName:D,setCategoryImageURL:N,handleCategoryImageUpload:Ne,handleAddCategory:_e,categorySectionRef:F})}),v.jsx("div",{id:"add-special-section",children:U==="premium"?v.jsx(j9,{slug:j}):v.jsx(M9,{slug:j})})]})}function $9(){const{t}=pt(),{slug:e}=an(),[n,r]=A.useState([]),[i,o]=A.useState(null),[l,u]=A.useState({}),d=async()=>{try{const g=dt(Qe,"ReVerse",e),_=await In(g);if(_.exists()){const T=_.data();r(T.categories||[])}else pe.error("No categories found.")}catch{pe.error("Failed to fetch categories.")}},h=async()=>{try{const g=qn(Qe,"ReVerse",e,"products"),T=(await Bi(g)).docs.map(R=>R.data()),S={};T.forEach(R=>{const I=R.category;I&&(S[I]=(S[I]||0)+1)}),u(S)}catch{pe.error("Failed to fetch product counts.")}},m=async g=>{try{const _=n.filter((S,R)=>R!==g),T=dt(Qe,"ReVerse",e);await $s(T,{categories:_}),r(_),pe.success("Category deleted."),o(null)}catch{pe.error("Delete failed.")}};return A.useEffect(()=>{d(),h()},[e]),v.jsxs("div",{style:{padding:"20px"},children:[v.jsx("h2",{style:{marginBottom:"10px"},children:t("categories.title")}),n.length===0?v.jsx("p",{children:t("categories.noCategories")}):v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:n.map((g,_)=>v.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid #eee",borderRadius:"8px",padding:"10px",gap:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[v.jsx("img",{src:g.image,alt:g.name,style:{width:"70px",height:"70px",objectFit:"cover",borderRadius:"4px"}}),v.jsxs("div",{style:{flexGrow:1},children:[v.jsx("strong",{children:g.name}),v.jsxs("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[l[g.name]||0," product(s)"]})]}),v.jsx("button",{onClick:()=>o(_),style:{background:"#eee",border:"1px solid #ccc",padding:"4px 10px",borderRadius:"4px",cursor:"pointer"},children:"X"}),i===_&&v.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#fff4f4",border:"1px solid #ffcccc",borderRadius:"6px",display:"flex",gap:"10px",alignItems:"center",flex:1},children:[v.jsxs("span",{style:{fontSize:"12px"},children:["Are you sure you want to delete"," ",v.jsxs("strong",{children:['"',g.name,'"']}),"?"]}),v.jsx("button",{onClick:()=>m(_),style:{background:"red",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"Yes"}),v.jsx("button",{onClick:()=>o(null),style:{background:"gray",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"No"})]})]},_))})]})}function z9(){const{t}=pt(),{slug:e}=an(),[n,r]=A.useState([]),[i,o]=A.useState(""),[l,u]=A.useState(null),[d,h]=A.useState(null),[m,g]=A.useState(window.innerWidth<768),_=sr();A.useEffect(()=>{const b=()=>{g(window.innerWidth<768)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const T=async()=>{try{const b=qn(Qe,"ReVerse",e,"products"),M=(await Bi(b)).docs.map(F=>({id:F.id,...F.data()}));r(M)}catch{pe.error("Failed to fetch products.")}},S=async b=>{try{await Xa(dt(Qe,"ReVerse",e,"products",b)),pe.success("Item deleted."),T(),u(null)}catch{pe.error("Delete failed.")}};A.useEffect(()=>{T()},[e]);const R=[...new Set(n.map(b=>b.category))],I=i?n.filter(b=>b.category===i):n,V=b=>{if(!b)return"";const k=b.split(" ");return k.length<=3?b:k.slice(0,3).join(" ")+" ..."};return v.jsxs(Sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"product-list-container",children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>_(-1),children:[v.jsx(Bf,{className:"back-icon"}),t("orders.back")]}),v.jsx("h2",{className:"product-list-title",children:t("products.title")}),v.jsxs("div",{className:"filter-container",children:[v.jsx("label",{className:"filter-label",children:t("products.filterByCategory")}),v.jsxs("select",{value:i,onChange:b=>o(b.target.value),children:[v.jsx("option",{value:"",children:"All"}),R.map((b,k)=>v.jsx("option",{value:b,children:b},k))]})]}),I.length===0?v.jsx("p",{children:t("products.noProducts")}):v.jsx("div",{className:"product-cards-wrapper",children:I.map(b=>v.jsxs("div",{className:"product-card",children:[v.jsxs("div",{className:`product-card-inner ${m?"mobile":""}`,children:[v.jsx("img",{src:b.image,alt:b.name,className:"product-image"}),v.jsxs("div",{className:"product-info",children:[v.jsx("strong",{children:b.name}),v.jsx("span",{className:"product-description-preview",onClick:()=>h(b.id),children:V(b.description)})]}),v.jsx("span",{children:"-"}),v.jsx("span",{children:Array.isArray(b.sizes)?b.sizes.map(k=>`${k.label} ($${k.price})`).join(", "):"-"}),v.jsx("span",{children:b.category}),v.jsx("div",{children:v.jsx("button",{onClick:()=>u(b.id),className:"delete-btn",children:"X"})})]}),l===b.id&&v.jsxs("div",{className:"confirm-delete-box",children:[v.jsxs("span",{className:"delete-warning-text",children:["Are you sure you want to delete"," ",v.jsxs("strong",{children:['"',b.name,'"']}),"?"]}),v.jsx("button",{onClick:()=>S(b.id),className:"btn-delete-yes",children:"Yes"}),v.jsx("button",{onClick:()=>u(null),className:"btn-delete-no",children:"No"})]}),d===b.id&&v.jsx("div",{className:"overlay",onClick:()=>h(null),children:v.jsxs("div",{className:"description-modal",onClick:k=>k.stopPropagation(),children:[v.jsx("strong",{children:t("products.fullDescription")})," ",b.description]})})]},b.id))}),v.jsx("hr",{className:"divider-line"}),v.jsx($9,{})]})}const H9=()=>{const{t}=pt(),{slug:e}=an(),n=sr(),[r,i]=A.useState([]),[o,l]=A.useState(null),[u,d]=A.useState("all"),[h,m]=A.useState("all"),g=b=>{l(o===b?null:b)},_=()=>{new Audio("/sounds/notify.mp3").play().catch(k=>{console.warn("   :",k)})},T=async()=>{try{const b=Eg(qn(Qe,"ReVerse",e,"orders"),Tg("createdAt","desc")),M=(await Bi(b)).docs.map(F=>({id:F.id,isSeen:F.data().isSeen||!1,...F.data()}));if(i(M),M.length>80){const F=M.slice(80);for(const K of F)await Xa(dt(Qe,"ReVerse",e,"orders",K.id))}}catch(b){console.error("Error fetching orders:",b)}},S=async(b,k)=>{await $s(dt(Qe,"ReVerse",e,"orders",b),{status:k}),T()},R=async b=>{await Xa(dt(Qe,"ReVerse",e,"orders",b)),pe.success("Order deleted successfully "),T()};A.useEffect(()=>{let b=!1;const k=Eg(qn(Qe,"ReVerse",e,"orders"),Tg("createdAt","desc")),M=h4(k,F=>{if(!b){b=!0;return}F.docChanges().forEach(K=>{K.type==="added"&&(pe.info(" New Order"),_(),T())})});return()=>M()},[e]),A.useEffect(()=>{T()},[e]);const I=r.filter(b=>{var F;const k=u==="all"||((F=b.status)==null?void 0:F.toLowerCase().trim())===u,M=h==="all"||b.dineOption===h;return k&&M}),V=b=>({backgroundColor:b?"#ccc":"#f1f1f1",padding:"6px 10px",borderRadius:"8px",border:"1px solid #ccc",marginRight:"6px",fontSize:"14px",cursor:"pointer"});return v.jsxs(Sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"orders-container",children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>n(-1),children:[v.jsx(Bf,{className:"back-icon"}),t("orders.back")]}),v.jsxs("h2",{className:"orders-title",children:["Welcome to Admin Panel for: ",e]}),v.jsxs("h3",{className:"orders-count",children:["Orders: ",I.length]}),v.jsx("p",{className:"orders-note",children:t("orders.note")}),v.jsxs("div",{className:"orders-filter",children:[v.jsx("b",{children:"Filter by Status:"})," ",["all","pending","preparing","ready","delivered","cancelled"].map(b=>v.jsx("button",{onClick:()=>d(b),style:V(u===b),children:b.charAt(0).toUpperCase()+b.slice(1)},b))]}),v.jsxs("div",{className:"orders-type-filter",children:[v.jsx("b",{children:"Order Type:"})," ",["all","inside","outside"].map(b=>v.jsx("button",{onClick:()=>m(b),style:V(h===b),children:b==="inside"?"Inside":b==="outside"?"Delivery":"All"},b))]}),v.jsx(el,{children:I.map((b,k)=>{var D;const M=b.items||[],F=b.total||0,K=b.customerInfo||{};return v.jsxs(Sn.div,{className:`order-card ${b.isSeen?"":"unseen-order"}`,layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[v.jsxs("div",{onClick:()=>{g(b.id),b.isSeen||$s(dt(Qe,"ReVerse",e,"orders",b.id),{isSeen:!0})},className:"order-header",children:[k+1,". items ",M.length,"  Date :"," ",(D=b.createdAt)!=null&&D.seconds?new Date(b.createdAt.seconds*1e3).toLocaleString():""," "," ",b.status||"*"]}),o===b.id&&v.jsxs(Sn.div,{className:"order-details",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[v.jsx("hr",{}),M.map((C,N)=>v.jsxs("p",{children:[" ",C.name," | ",C.size," | quantity : ",C.quantity," | $",C.price,C.notes&&v.jsxs(v.Fragment,{children:["   Notes: ",C.notes]})]},N)),b.notes&&v.jsxs("p",{className:"order-notes",children:[" Notes: ",b.notes]}),v.jsxs("p",{children:[v.jsx("b",{children:" Total:"})," $",F.toFixed(2)]}),b.dineOption==="outside"&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[t("orders.name"),": ",K.name]}),v.jsxs("p",{children:[t("orders.address"),": ",K.address]}),v.jsxs("p",{children:[t("orders.phone"),": ",K.phone]})]}),b.dineOption==="inside"&&v.jsxs("p",{children:[t("orders.tableNumber")," : ",b.tableNumber]}),b.note&&v.jsxs("p",{children:[" ",t("orders.note"),": ",b.note]}),v.jsxs("p",{children:[" ",t("orders.payment"),":"," ",b.paymentMethod==="online"&&(b.paymentStatus==="paid"?" Paid Online":" Unpaid - Online Selected"),b.paymentMethod==="cash"&&" Cash on Delivery",!b.paymentMethod&&""]}),v.jsxs("div",{className:"order-status-controls",children:[v.jsxs("b",{children:[" ",t("orders.changeStatus"),":"]}),v.jsx("br",{}),["preparing","pending","delivered","cancelled"].map(C=>v.jsx("button",{onClick:()=>S(b.id,C),className:"status-btn",children:C.charAt(0).toUpperCase()+C.slice(1)},C))]}),b.status==="cancelled"&&v.jsxs("div",{className:"cancelled-order-box",children:[v.jsx("p",{children:t("orders.cancelled")}),v.jsx("button",{className:"delete",onClick:()=>R(b.id),children:t("orders.delete")})]})]})]},b.id)})}),v.jsx(au,{position:"top-center",autoClose:2e3})]})},q9=()=>{const{t}=pt(),{slug:e}=an(),[n,r]=A.useState([]),[i,o]=A.useState("all"),[l,u]=A.useState(""),[d,h]=A.useState(null),[m,g]=A.useState(!1),_=sr();A.useEffect(()=>{(async()=>{if(!e){console.warn(" slug  ");return}try{const V=dt(Qe,"ReVerse",e),b=qn(V,"bookTable"),M=(await Bi(b)).docs.map(F=>({id:F.id,...F.data()}));r(M),console.log("    :",M)}catch(V){console.error("    :",V)}})()},[e]);const T=async(I,V)=>{const b=dt(Qe,"ReVerse",e,"bookTable",I);await $s(b,{status:V}),r(k=>k.map(M=>M.id===I?{...M,status:V}:M))},S=async()=>{const I=dt(Qe,"ReVerse",e,"bookTable",d);await Xa(I),r(V=>V.filter(b=>b.id!==d)),g(!1),h(null)},R=n.filter(I=>{const V=i==="all"||I.status===i,b=!l||I.date===l;return V&&b});return v.jsxs(Sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"admin-bookings",children:[v.jsxs("button",{type:"button",className:"back-btn",onClick:()=>_(-1),children:[v.jsx(Bf,{className:"back-icon"}),t("bookings.back")]}),v.jsx("h2",{children:t("bookings.title")}),v.jsxs("div",{className:"filters",children:[v.jsxs(Sn.select,{onChange:I=>o(I.target.value),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[v.jsx("option",{value:"all",children:t("bookings.filters.all")}),v.jsx("option",{value:"pending",children:t("bookings.filters.pending")}),v.jsx("option",{value:"confirmed",children:t("bookings.filters.confirmed")}),v.jsx("option",{value:"rejected",children:t("bookings.filters.rejected")})]}),v.jsx("input",{type:"date",value:l,onChange:I=>u(I.target.value)})]}),v.jsx(el,{mode:"wait",children:R.length===0?v.jsx(Sn.p,{className:"no-bookings",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:t("bookings.noBookings")},"no-bookings"):v.jsx(Sn.div,{className:"table-wrapper",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4},children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:t("bookings.table.name")}),v.jsx("th",{children:t("bookings.table.seats")}),v.jsx("th",{children:t("bookings.table.date")}),v.jsx("th",{children:t("bookings.table.time")}),v.jsx("th",{children:t("bookings.table.payment")}),v.jsx("th",{children:t("bookings.table.status")}),v.jsx("th",{children:t("bookings.table.actions")})]})}),v.jsx("tbody",{children:R.map(I=>v.jsxs(Sn.tr,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:[v.jsx("td",{children:I.name}),v.jsx("td",{children:I.tableSize}),v.jsx("td",{children:I.date}),v.jsx("td",{children:I.time}),v.jsx("td",{children:I.paymentMethod}),v.jsx("td",{children:v.jsx("span",{className:`status ${I.status}`,children:I.status})}),v.jsxs("td",{children:[v.jsx("button",{onClick:()=>T(I.id,"confirmed"),children:""}),v.jsx("button",{onClick:()=>T(I.id,"rejected"),children:""}),v.jsx("button",{onClick:()=>{h(I.id),g(!0)},children:t("buttons.delete")})]})]},I.id))})]})},"bookings-table")}),m&&v.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:v.jsxs("div",{className:"modal",onClick:I=>I.stopPropagation(),children:[v.jsx("p",{children:"Are you sure you want to delete this booking?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{onClick:S,className:"yes-btn",children:"Yes"}),v.jsx("button",{onClick:()=>g(!1),className:"no-btn",children:"No"})]})]})})]})},W9=()=>v.jsx("div",{});function K9({children:t}){const{slug:e}=an(),[n,r]=A.useState(null);return A.useEffect(()=>{const i=cv(Fr,async o=>{if(!o||!e){r(!1);return}const l=dt(Qe,"ReVerse",e),u=await In(l);u.exists()&&u.data().adminEmail===o.email?r(!0):r(!1)});return()=>i()},[e]),n===null?null:n?t:v.jsx(MA,{to:`/reverse/${e}`,replace:!0})}const G9=()=>{const t=mi();return v.jsx(el,{mode:"wait",children:v.jsxs(UA,{location:t,children:[v.jsx(vr,{path:"/",element:v.jsx(L9,{})}),v.jsxs(vr,{path:"/reverse/:slug",element:v.jsx(uT,{children:v.jsx(P9,{})}),children:[v.jsx(vr,{index:!0,element:v.jsx(FV,{})}),v.jsx(vr,{path:"cart",element:v.jsx(e9,{})})]}),v.jsxs(vr,{path:"/reverse/:slug/adminClientH/*",element:v.jsx(uT,{children:v.jsx(K9,{children:v.jsx(V9,{})})}),children:[v.jsx(vr,{index:!0,element:v.jsx(C9,{})}),v.jsx(vr,{path:"add",element:v.jsx(B9,{})}),v.jsx(vr,{path:"list",element:v.jsx(z9,{})}),v.jsx(vr,{path:"orders",element:v.jsx(H9,{})}),v.jsx(vr,{path:"booking",element:v.jsx(q9,{})}),v.jsx(vr,{path:"payMethod",element:v.jsx(W9,{})})]})]},t.pathname)})},$e=t=>typeof t=="string",ic=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},dT=t=>t==null?"":""+t,Q9=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Y9=/###/g,hT=t=>t&&t.indexOf("###")>-1?t.replace(Y9,"."):t,fT=t=>!t||$e(t),xc=(t,e,n)=>{const r=$e(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(fT(t))return{};const o=hT(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return fT(t)?{}:{obj:t,k:hT(r[i])}},pT=(t,e,n)=>{const{obj:r,k:i}=xc(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],l=e.slice(0,e.length-1),u=xc(t,l,Object);for(;u.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),u=xc(t,l,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${o}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${o}`]=n},X9=(t,e,n,r)=>{const{obj:i,k:o}=xc(t,e,Object);i[o]=i[o]||[],i[o].push(n)},zh=(t,e)=>{const{obj:n,k:r}=xc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},J9=(t,e,n)=>{const r=zh(t,n);return r!==void 0?r:zh(e,n)},AC=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?$e(t[r])||t[r]instanceof String||$e(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):AC(t[r],e[r],n):t[r]=e[r]);return t},Ia=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Z9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const e8=t=>$e(t)?t.replace(/[&<>"'\/]/g,e=>Z9[e]):t;class t8{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const n8=[" ",",","?","!",";"],r8=new t8(20),i8=(t,e,n)=>{e=e||"",n=n||"";const r=n8.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;const i=r8.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!i.test(t);if(!o){const l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(o=!0)}return o},ry=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let l,u="";for(let d=o;d<r.length;++d)if(d!==o&&(u+=n),u+=r[d],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;o+=d-o+1;break}i=l}return i},qc=t=>t==null?void 0:t.replace("_","-"),s8={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Hh{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||s8,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:($e(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Hh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Hh(this.logger,e)}}var ai=new Hh;class $f{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let l=0;l<o;l++)i.apply(i,[e,...n])})}}class mT extends $f{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var h,m;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,n],r&&(Array.isArray(r)?u.push(...r):$e(r)&&o?u.push(...r.split(o)):u.push(r)));const d=zh(this.data,u);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=u[0],n=u[1],r=u.slice(2).join(".")),d||!l||!$e(r)?d:ry((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[n],r,o)}addResource(e,n,r,i,o={silent:!1}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let u=[e,n];r&&(u=u.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),pT(this.data,u,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const o in r)($e(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,l={silent:!1,skipCopy:!1}){let u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let d=zh(this.data,u)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?AC(d,r,o):d={...d,...r},pT(this.data,u,d),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var RC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var l;e=((l=this.processors[o])==null?void 0:l.process(e,n,r,i))??e}),e}};const gT={},yT=t=>!$e(t)&&typeof t!="boolean"&&typeof t!="number";class qh extends $f{constructor(e,n={}){super(),Q9(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ai.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!i8(e,r,i);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:$e(o)?[o]:o};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),e=h.join(i)}return{key:e,namespaces:$e(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],i),h=d[d.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const g=i.lng||this.language,_=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return _?o?{res:`${h}${m}${u}`,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${u}`:o?{res:u,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:u;const T=this.resolve(e,i);let S=T==null?void 0:T.res;const R=(T==null?void 0:T.usedKey)||u,I=(T==null?void 0:T.exactUsedKey)||u,V=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,M=i.count!==void 0&&!$e(i.count),F=qh.hasDefaultValue(i),K=M?this.pluralResolver.getSuffix(g,i.count,i):"",D=i.ordinal&&M?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",C=M&&!i.ordinal&&i.count===0,N=C&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${K}`]||i[`defaultValue${D}`]||i.defaultValue;let j=S;k&&!S&&F&&(j=N);const $=yT(j),U=Object.prototype.toString.apply(j);if(k&&j&&$&&V.indexOf(U)<0&&!($e(b)&&Array.isArray(j))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,j,{...i,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return o?(T.res=L,T.usedParams=this.getUsedParamsDetails(i),T):L}if(l){const L=Array.isArray(j),ye=L?[]:{},Ne=L?I:R;for(const _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)){const we=`${Ne}${l}${_e}`;F&&!S?ye[_e]=this.translate(we,{...i,defaultValue:yT(N)?N[_e]:void 0,joinArrays:!1,ns:d}):ye[_e]=this.translate(we,{...i,joinArrays:!1,ns:d}),ye[_e]===we&&(ye[_e]=j[_e])}S=ye}}else if(k&&$e(b)&&Array.isArray(S))S=S.join(b),S&&(S=this.extendTranslation(S,e,i,r));else{let L=!1,ye=!1;!this.isValidLookup(S)&&F&&(L=!0,S=N),this.isValidLookup(S)||(ye=!0,S=u);const _e=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ye?void 0:S,we=F&&N!==S&&this.options.updateMissing;if(ye||L||we){if(this.logger.log(we?"updateKey":"missingKey",g,h,u,we?N:S),l){const z=this.resolve(u,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let z=0;z<le.length;z++)Y.push(le[z]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(i.lng||this.language):Y.push(i.lng||this.language);const re=(z,Z,me)=>{var Oe;const xe=F&&me!==S?me:_e;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,Z,xe,we,i):(Oe=this.backendConnector)!=null&&Oe.saveMissing&&this.backendConnector.saveMissing(z,h,Z,xe,we,i),this.emit("missingKey",z,h,Z,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?Y.forEach(z=>{const Z=this.pluralResolver.getSuffixes(z,i);C&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(me=>{re([z],u+me,i[`defaultValue${me}`]||N)})}):re(Y,u,N))}S=this.extendTranslation(S,e,i,T,r),ye&&S===u&&this.options.appendNamespaceToMissingKey&&(S=`${h}${m}${u}`),(ye||L)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${u}`:u,L?S:void 0,i))}return o?(T.res=S,T.usedParams=this.getUsedParamsDetails(i),T):S}extendTranslation(e,n,r,i,o){var d,h;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=$e(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const T=e.match(this.interpolator.nestingRegexp);g=T&&T.length}let _=r.replace&&!$e(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,r.lng||this.language||i.usedLng,r),m){const T=e.match(this.interpolator.nestingRegexp),S=T&&T.length;g<S&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(o==null?void 0:o[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,u=$e(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=RC.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,l,u;return $e(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(d,n),m=h.key;i=m;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const _=n.count!==void 0&&!$e(n.count),T=_&&!n.ordinal&&n.count===0,S=n.context!==void 0&&($e(n.context)||typeof n.context=="number")&&n.context!=="",R=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(I=>{var V,b;this.isValidLookup(r)||(u=I,!gT[`${R[0]}-${I}`]&&((V=this.utils)!=null&&V.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(u))&&(gT[`${R[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${R.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(k=>{var K;if(this.isValidLookup(r))return;l=k;const M=[m];if((K=this.i18nFormat)!=null&&K.addLookupKeys)this.i18nFormat.addLookupKeys(M,m,k,I,n);else{let D;_&&(D=this.pluralResolver.getSuffix(k,n.count,n));const C=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(M.push(m+D),n.ordinal&&D.indexOf(N)===0&&M.push(m+D.replace(N,this.options.pluralSeparator)),T&&M.push(m+C)),S){const j=`${m}${this.options.contextSeparator}${n.context}`;M.push(j),_&&(M.push(j+D),n.ordinal&&D.indexOf(N)===0&&M.push(j+D.replace(N,this.options.pluralSeparator)),T&&M.push(j+C))}}let F;for(;F=M.pop();)this.isValidLookup(r)||(o=F,r=this.getResource(k,I,F,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!$e(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class vT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ai.create("languageUtils")}getScriptPartFromCode(e){if(e=qc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=qc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if($e(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(l=>{if(l===o)return l;if(!(l.indexOf("-")<0&&o.indexOf("-")<0)&&(l.indexOf("-")>0&&o.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===o||l.indexOf(o)===0&&o.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),$e(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return $e(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):$e(e)&&o(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&o(this.formatLanguageCode(l))}),i}}const _T={zero:0,one:1,two:2,few:3,many:4,other:5},wT={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class o8{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ai.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=qc(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),wT;if(!e.match(/-|_/))return wT;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[o]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>_T[i]-_T[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const ET=(t,e,n,r=".",i=!0)=>{let o=J9(t,e,n);return!o&&i&&$e(n)&&(o=ry(t,n,r),o===void 0&&(o=ry(e,n,r))),o},Qm=t=>t.replace(/\$/g,"$$$$");class a8{constructor(e={}){var n;this.logger=ai.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:g,nestingPrefix:_,nestingPrefixEscaped:T,nestingSuffix:S,nestingSuffixEscaped:R,nestingOptionsSeparator:I,maxReplaces:V,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:e8,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ia(o):l||"{{",this.suffix=u?Ia(u):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=_?Ia(_):T||Ia("$t("),this.nestingSuffix=S?Ia(S):R||Ia(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=V||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var T;let o,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const b=ET(n,d,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:S}):b}const R=S.split(this.formatSeparator),I=R.shift().trim(),V=R.join(this.formatSeparator).trim();return this.format(ET(n,d,I,this.options.keySeparator,this.options.ignoreJSONStructure),V,r,{...i,...n,interpolationkey:I})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>Qm(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?Qm(this.escape(S)):Qm(S)}].forEach(S=>{for(u=0;o=S.regex.exec(e);){const R=o[1].trim();if(l=h(R),l===void 0)if(typeof m=="function"){const V=m(e,o,i);l=$e(V)?V:""}else if(i&&Object.prototype.hasOwnProperty.call(i,R))l="";else if(g){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${e}`),l="";else!$e(l)&&!this.useRawValueToEscape&&(l=dT(l));const I=S.safeValue(l);if(e=e.replace(o[0],I),g?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=o[0].length):S.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,l;const u=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const g=d.split(new RegExp(`${m}[ ]*{`));let _=`{${g[1]}`;d=g[0],_=this.interpolate(_,l);const T=_.match(/'/g),S=_.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!S||S.length%2!==0)&&(_=_.replace(/'/g,'"'));try{l=JSON.parse(_),h&&(l={...h,...l})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,R),`${d}${m}${_}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!$e(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const m=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=m.shift(),d=m,h=!0}if(o=n(u.call(this,i[1].trim(),l),l),o&&i[0]===e&&!$e(o))return o;$e(o)||(o=dT(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),h&&(o=d.reduce((m,g)=>this.format(m,g,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const l8=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=u.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},TT=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const l=r+JSON.stringify(o);let u=e[l];return u||(u=t(qc(r),i),e[l]=u),u(n)}},c8=t=>(e,n,r)=>t(qc(n),r)(e);class u8{constructor(e={}){this.logger=ai.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?TT:c8;this.formats={number:r((i,o)=>{const l=new Intl.NumberFormat(i,{...o});return u=>l.format(u)}),currency:r((i,o)=>{const l=new Intl.NumberFormat(i,{...o,style:"currency"});return u=>l.format(u)}),datetime:r((i,o)=>{const l=new Intl.DateTimeFormat(i,{...o});return u=>l.format(u)}),relativetime:r((i,o)=>{const l=new Intl.RelativeTimeFormat(i,{...o});return u=>l.format(u,o.range||"day")}),list:r((i,o)=>{const l=new Intl.ListFormat(i,{...o});return u=>l.format(u)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=TT(n)}format(e,n,r,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(u=>u.indexOf(")")>-1)){const u=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,u)].join(this.formatSeparator)}return o.reduce((u,d)=>{var g;const{formatName:h,formatOptions:m}=l8(d);if(this.formats[h]){let _=u;try{const T=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},S=T.locale||T.lng||i.locale||i.lng||r;_=this.formats[h](u,S,{...m,...i,...T})}catch(T){this.logger.warn(T)}return _}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}const d8=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class h8 extends $f{constructor(e,n,r,i={}){var o,l;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ai.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(o=this.backend)==null?void 0:o.init)==null||l.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},l={},u={},d={};return e.forEach(h=>{let m=!0;n.forEach(g=>{const _=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?l[_]===void 0&&(l[_]=!0):(this.state[_]=1,m=!1,l[_]===void 0&&(l[_]=!0),o[_]===void 0&&(o[_]=!0),d[g]===void 0&&(d[g]=!0)))}),m||(u[h]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const i=e.split("|"),o=i[0],l=i[1];n&&this.emit("failedLoading",o,l,n),!n&&r&&this.store.addResourceBundle(o,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const u={};this.queue.forEach(d=>{X9(d.loaded,[o],l),d8(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{u[h]||(u[h]={});const m=d.loaded[h];m.length&&m.forEach(g=>{u[h][g]===void 0&&(u[h][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,i=0,o=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:l});return}this.readingCalls++;const u=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,l)},o);return}l(h,m)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const h=d(e,n);h&&typeof h.then=="function"?h.then(m=>u(null,m)).catch(u):u(null,h)}catch(h){u(h)}return}return d(e,n,u)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();$e(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$e(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,l),!l&&u&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,n,r,i,o,l={},u=()=>{}){var d,h,m,g,_;if((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace&&!((g=(m=this.services)==null?void 0:m.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((_=this.backend)!=null&&_.create){const T={...l,isUpdate:o},S=this.backend.create.bind(this.backend);if(S.length<6)try{let R;S.length===5?R=S(e,n,r,i,T):R=S(e,n,r,i),R&&typeof R.then=="function"?R.then(I=>u(null,I)).catch(u):u(null,R)}catch(R){u(R)}else S(e,n,r,i,u,T)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const ST=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$e(t[1])&&(e.defaultValue=t[1]),$e(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),xT=t=>{var e,n;return $e(t.ns)&&(t.ns=[t.ns]),$e(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$e(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Bd=()=>{},f8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Wc extends $f{constructor(e={},n){if(super(),this.options=xT(e),this.services={},this.logger=ai,this.modules={external:[]},f8(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&($e(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=ST();this.options={...r,...this.options,...xT(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?ai.init(i(this.modules.logger),this.options):ai.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=u8;const m=new vT(this.options);this.store=new mT(this.options.resources,this.options);const g=this.services;g.logger=ai,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new o8(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(h),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new a8(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new h8(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new qh(this.services,this.options),this.translator.on("*",(_,...T)=>{this.emit(_,...T)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Bd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const u=ic(),d=()=>{const h=(m,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(g),n(m,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,n=Bd){var o,l;let r=n;const i=$e(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const u=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&u.indexOf(g)<0&&u.push(g)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),(l=(o=this.options.preload)==null?void 0:o.forEach)==null||l.call(o,h=>d(h)),this.services.backendConnector.load(u,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const i=ic();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Bd),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&RC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=ic();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(u,(...h)=>this.t(...h))},l=u=>{var m,g;!e&&!u&&this.services.languageDetector&&(u=[]);const d=$e(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes($e(u)?[u]:u);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(g=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||g.call(m,h)),this.loadResources(h,_=>{o(_,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){const i=(o,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([o,l].concat(u)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(o)?m=o.map(g=>`${d.keyPrefix}${h}${g}`):m=d.keyPrefix?`${d.keyPrefix}${h}${o}`:o,this.t(m,d)};return $e(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const h=this.services.backendConnector.state[`${u}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const u=n.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(o,e)))}loadNamespaces(e,n){const r=ic();return this.options.ns?($e(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ic();$e(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=i.concat(o),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new vT(ST());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Wc(e,n)}cloneInstance(e={},n=Bd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Wc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(u=>{o[u]=this[u]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const u=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,g)=>(m[g]={...d[h][g]},m),d[h]),d),{});o.store=new mT(u,i),o.services.resourceStore=o.store}return o.translator=new qh(o.services,i),o.translator.on("*",(u,...d)=>{o.emit(u,...d)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Cn=Wc.createInstance();Cn.createInstance=Wc.createInstance;Cn.createInstance;Cn.dir;Cn.init;Cn.loadResources;Cn.reloadResources;Cn.use;Cn.changeLanguage;Cn.getFixedT;Cn.t;Cn.exists;Cn.setDefaultNamespace;Cn.hasLoadedNamespace;Cn.loadNamespaces;Cn.loadLanguages;const{slice:p8,forEach:m8}=[];function g8(t){return m8.call(p8.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function y8(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const bT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,v8=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let o=`${t}=${i}`;if(r.maxAge>0){const l=r.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(l)}`}if(r.domain){if(!bT.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!bT.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},IT={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=v8(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var _8={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return IT.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;n&&typeof document<"u"&&IT.create(n,t,r,i,o)}},w8={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(n=l[u].substring(d+1))}}return n}},E8={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const l=o.substring(1);if(e){const u=l.split("&");for(let d=0;d<u.length;d++){const h=u[d].indexOf("=");h>0&&u[d].substring(0,h)===e&&(r=u[d].substring(h+1))}}if(r)return r;if(!r&&n>-1){const u=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?(i=u[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Ca=null;const CT=()=>{if(Ca!==null)return Ca;try{if(Ca=typeof window<"u"&&window.localStorage!==null,!Ca)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ca=!1}return Ca};var T8={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&CT())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&CT()&&window.localStorage.setItem(n,t)}};let Pa=null;const PT=()=>{if(Pa!==null)return Pa;try{if(Pa=typeof window<"u"&&window.sessionStorage!==null,!Pa)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Pa=!1}return Pa};var S8={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&PT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&PT()&&window.sessionStorage.setItem(n,t)}},x8={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},b8={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},I8={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},C8={name:"subdomain",lookup(t){var i,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let kC=!1;try{document.cookie,kC=!0}catch{}const NC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];kC||NC.splice(1,1);const P8=()=>({order:NC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class OC{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=g8(n,this.options||{},P8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(_8),this.addDetector(w8),this.addDetector(T8),this.addDetector(S8),this.addDetector(x8),this.addDetector(b8),this.addDetector(I8),this.addDetector(C8),this.addDetector(E8)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!y8(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}OC.type="languageDetector";const A8={hello:"Hello ",nowYouCan:"Now You Can",welcome:"Hi Admin!",loginPrompt:"Please enter your information to log in.",willLogInto:"You will log into"},R8={login:"Login",goToAdmin:"Go to Admin Panel",logout:"Logout",yes:"Yes",no:"No",or:"or",submit:"Place Order",close:"Close",delete:"Delete"},k8={email:"Email",password:"Password"},N8={agree:"I agree to the Privacy Policy"},O8={logout:"Are you sure you want to log out?"},D8={privacyPolicy:"Please agree to the privacy policy!",storedProjectNotFound:"Stored project not found",sessionCheck:"Error while checking saved session",notAuthorized:"You do not have permission to access this project!",projectNotFound:"This project does not exist!",loginFailed:"Login failed!"},L8={loginSuccess:"Login successful!",loggedOut:"You have been logged out.",projectSwitched:"You switched to a different project. Please log in again."},V8={title:"BOOK A TABLE",labels:{yourName:"Your Name",tableSize:"Choose Table Size",chooseADay:"Choose a Day",chooseATime:"Choose a Time"},info:{openingHours:"Opening Hours",additionalInfo:"Additional Info"},errors:{requiredFields:"Please fill all required fields.",general:"Something went wrong."}},j8={title:"Complete Your Payment",depositNotice:"A deposit of {{amount}}$ is required to confirm your reservation.",selectMethod:"Select Payment Method:",chooseMethod:"Choose Method",confirm:"Confirm",cancel:"Cancel",error:"Please select a payment method.",success:"Reservation confirmed successfully!",instructions:{vodafone:"Send the deposit to: {{number}}",paypal:"Send the deposit to: {{account}}",stripe:"Pay via Stripe: {{link}}",fawry:"Fawry Code: {{code}}"}},M8={greeting:"Hi!",contactVia:"You can contact us via:",noData:"There is no data available",loading:"Uploading Data..."},F8={contactUs:"Contact Us",details:"Details",developedBy:"Developed by ReVerse"},U8={menu:"Menu",cart:"Cart",contact_us:"Contact Us",admin_login:"Admin Login"},B8={home:"Home",cart:"Cart",products:"Products",book_table:"Book a Table",about_us:"About Us",admin:"Admin",contact:"Lets Contact"},$8={title:"Add Category",note:"Preferred image ratio is 1:1 (square)",previewAlt:"Category Preview",changeImage:"Change Image",namePlaceholder:"Category Name",submit:"Add Category",errors:{nameAndImage:"Please enter a category name and upload an image.",nameOnly:"Category name is required.",imageOnly:"Category image is required."}},z8={back:"Back",tabs:{product:"Add Product",category:"Add Category",special:"Special Items"},uploadImage:"Please upload main image:",name:"Product name:",namePlaceholder:"Product Name",description:"Product description:",descriptionPlaceholder:"Description",sizesTitle:"Select sizes and prices:",standard:"Standard",price:"Price",priceFor:"Price for",category:"Product Category:",selectCategory:"Select Category",submit:"Add Product"},H8={addSpecialItems:"Add Special Items",sectionTitlePlaceholder:"Special Section Title",saveTitle:"Save Title",name:"Name",description:"Description",oldPrice:"Old Price",price:"Price",uploadImage:"Upload Image",changeImage:"Change Image",addItem:"Add Item",confirmDeleteSection:"Are you sure you want to delete the entire section",confirmDeleteItem:"Are you sure you want to delete",fullDescription:"Full Description:"},q8={specialItemsTitle:"Special Items are Premium-only",description:"To access this feature and highlight your top dishes, please upgrade to the Premium Plan.",contactBtn:"Contact Us to Upgrade"},W8={back:"Back",title:"Reservations Management",filters:{all:"All",pending:"Pending",confirmed:"Confirmed",rejected:"Rejected"},table:{name:"Name",seats:"Seats",date:"Date",time:"Time",payment:"Payment",status:"Status",actions:"Actions"},noBookings:"There are no future bookings.",confirmDelete:"Are you sure you want to delete this booking?"},K8={title:"Category List",noCategories:"No categories found.",count:"{{count}} product(s)",confirmDelete:'Are you sure you want to delete "{{name}}"?'},G8={title:"Product List",filterByCategory:"Filter by Category:",noProducts:"No products found.",fullDescription:"Full Description:",confirmDelete:'Are you sure you want to delete "{{name}}"?'},Q8={back:"Back",title:"Welcome to Admin Panel for: {{slug}}",count:"Orders: {{count}}",note:"Note that the orders older than the most recent 80 will be automatically deleted to maintain performance.",filterByStatus:"Filter by Status:",orderType:"Order Type:",header:"{{index}}. Items {{count}}  Date: {{date}}  {{status}}",item:" {{name}} | {{size}} | quantity: {{quantity}} | ${{price}}",notes:"Notes",total:"Total",name:"Name",address:"Address",phone:"Phone",tableNumber:"Table Number",payment:"Payment",paidOnline:" Paid Online",unpaidOnline:" Unpaid - Online Selected",cashOnDelivery:" Cash on Delivery",changeStatus:"Order Status:",cancelled:"This order is cancelled",delete:"Delete"},Y8={title:"Admin Panel - {{slug}}",name:"Name",email:"Email",logout:"Logout",add:"Add",list:"Product List",orders:"Orders",bookings:"Bookings",back:"Back",logoutConfirm:"Are you sure you want to logout?",logoutYes:"Yes, Logout",cancel:"Cancel"},X8={totalTitle:"Cart Total",subtotal:"Subtotal",deliveryFee:"Delivery Fee",total:"Total",inside:"I'm dining inside",outside:"I want delivery",price:"Price",size:"Size",emptyMessage:"Your cart is currently empty. Please add some products to your cart.",fullDescription:"Product Description"},J8={title:"Delivery Details",instruction:"Please fill these fields",namePlaceholder:"Full Name",phonePlaceholder:"Phone Number",addressPlaceholder:"Address",notesPlaceholder:"Any notes or requests?",errorMsg:"Please fill all required fields.",proceedBtn:"Proceed to Checkout"},Z8={title:"Dine-In Details",instruction:"Please fill these fields",label:"Type your table number:",placeholder:"Enter your table number",notesPlaceholder:"Any notes or requests?",errorMsg:"Please select a table number.",proceedBtn:"Proceed to Checkout"},eU={title:"Select Payment Method",cash:"Confirm Cash Payment",cancel:"Cancel"},tU={noProduct:"There is no product",priceLabel:"Price",viewMore:"View More ",viewLess:"View Less "},nU={features:"Features",pricing:"Pricing",clients:"Our Clients",getStarted:"Get Started Now"},rU={title:"Smart Online Ordering System for Restaurants and Cafs",subtitle:"Provide a branded experience for your customers with a custom online ordering and reservation website.",button:"Get Started Now"},iU={title1:"What is ReVerse?",description:"ReVerse is a web-based platform designed for restaurants and cafs, offering customer online ordering and reservation websites. It allows businesses to create a unique brand identity online, manage orders and reservations efficiently through an intuitive admin panel, and enhance customer experience with seamless online interaction.",title2:"Everything you need to run your restaurant online",cards:[{title:"Custom Branding",description:"Create a unique online experience that reflects your brands identity."},{title:"Online Order Management",description:"Manage incoming orders in real-time with instant admin notifications."},{title:"Booking & Reservations",description:"Streamline your reservation process with an integrated booking module."},{title:"Products & Categories Control",description:"Easily organize and update your menu with product and category management."},{title:"Admin Dashboard with Secure Login",description:"Access a secure admin dashboard with Firebase authentication."},{title:"Multilingual Support",description:"Support both English and Arabic to serve a wider customer base."},{title:"Web-Hosted",description:"Your website is hosted online  no need for a separate app."},{title:"Fast 24h Delivery",description:"Get your custom platform up and running within 24 hours."}]},sU={title:"Pricing that fits your business",month:"month",startNow:"Start Now",cta:`Try ReVerse for 1 week  absolutely free. 
If you like it, subscribe anytime!`,plans:{basic:{title:"Basic",price:"$25",features:["Online ordering website","Unlimited orders","Mobile-friendly design"]},pro:{title:"Premium",price:"$50",features:["Highlight top 3 dishes/drinks","Online payments via Stripe","Everything in Basic"]},vip:{title:"VIP Custom",price:"VIP",features:["Custom-built full website","Dedicated account manager","Full ownership & code"]}}},oU={title:"Our Clients",description:"Explore real examples of restaurants and cafes already using ReVerse to power their online ordering and reservations.",cta:"Get Started Now",viewMore:"All Clients",hide:"Hide Clients"},aU={title:"Why choose ReVerse?",description:"We provide comprehensive solutions for restaurants and cafs looking to establish a strong online presence.",features:{fast:{title:"Fast Setup",desc:"Get your website up and running in no time with our intuitive platform."},pricing:{title:"Affordable Pricing",desc:"Competitive pricing plans to fit businesses of all sizes."},ui:{title:"Professional UI",desc:"Modern and customizable templates to showcase your brand."},responsive:{title:"Responsive Design",desc:"Websites that look great on any device  from desktop to smartphone."},support:{title:"Dedicated Support",desc:"Our team is here to assist you every step of the way."}},cta:{title:"Ready to boost your business?",description:"Contact us today to get your own Website live in 24h. ReVerse can help your restaurant thrive.",button:"Contact Us"},copyright:"All rights reserved."},lU={adminO:A8,buttons:R8,placeholders:k8,privacy:N8,confirm:O8,errors:D8,messages:L8,reservation:V8,modal:j8,contact:M8,footer:F8,navbar:U8,sidemenu:B8,addCategory:$8,addProduct:z8,special:H8,upgrade:q8,bookings:W8,categories:K8,products:G8,orders:Q8,admin:Y8,cart:X8,delivery:J8,dinein:Z8,payment:eU,productList:tU,navbarMe:nU,heroMe:rU,features:iU,pricing:sU,clients:oU,footerMe:aU},cU={hello:" ",nowYouCan:" ",welcome:"  !",loginPrompt:"    .",willLogInto:"  "},uU={login:" ",goToAdmin:"   ",logout:" ",yes:"",no:"",or:"",submit:" ",close:"",delete:""},dU={email:" ",password:" "},hU={agree:"   "},fU={logout:"      "},pU={privacyPolicy:"    !",storedProjectNotFound:"     ",sessionCheck:"      ",notAuthorized:"      !",projectNotFound:"   !",loginFailed:"  !"},mU={loginSuccess:"   !",loggedOut:"  .",projectSwitched:"    .    ."},gU={title:" ",labels:{yourName:" ",tableSize:"  ",chooseADay:" ",chooseATime:" "},info:{openingHours:" ",additionalInfo:" "},errors:{requiredFields:"    .",general:"     ."}},yU={title:"  ",depositNotice:"       {{amount}}$.",selectMethod:"  :",chooseMethod:" ",confirm:"",cancel:"",error:"   .",success:"   !",instructions:{vodafone:"  : {{number}}",paypal:"  : {{account}}",stripe:"  Stripe: {{link}}",fawry:" : {{code}}"}},vU={greeting:" !",contactVia:"   :",noData:"    ",loading:"  ..."},_U={contactUs:" ",details:"",developedBy:"   ReVerse"},wU={menu:"",cart:"",contact_us:" ",admin_login:" "},EU={home:"",cart:"",products:"",book_table:" ",about_us:" ",admin:"",contact:" "},TU={title:" ",filterByCategory:"  :",noProducts:"    .",fullDescription:" :",confirmDelete:'      "{{name}}"'},SU={back:"",title:"     : {{slug}}",count:" : {{count}}",note:"         80     .",filterByStatus:"  :",orderType:" :",header:"{{index}}.  {{count}}  : {{date}}  : {{status}}",item:" {{name}} | {{size}} | : {{quantity}} | ${{price}}",notes:"",total:"",name:"",address:"",phone:" ",tableNumber:" ",payment:"",paidOnline:"   ",unpaidOnline:"    -   ",cashOnDelivery:"   ",changeStatus:" :",cancelled:"   ",delete:""},xU={title:"   - {{slug}}",name:"",email:" ",logout:" ",add:"",list:" ",orders:"",bookings:"",back:"",logoutConfirm:"      ",logoutYes:"  ",cancel:""},bU={totalTitle:" ",subtotal:" ",deliveryFee:" ",total:"",inside:" ",outside:" ",price:"",size:"",emptyMessage:"   .    .",fullDescription:" "},IU={title:" ",note:"      1:1 ()",previewAlt:" ",changeImage:" ",namePlaceholder:" ",submit:" ",errors:{nameAndImage:"     .",nameOnly:"  .",imageOnly:"  ."}},CU={back:"",tabs:{product:" ",category:" ",special:" "},uploadImage:"   :",name:" :",namePlaceholder:" ",description:" :",descriptionPlaceholder:"",sizesTitle:"  :",standard:" ",price:"",priceFor:" ",category:" :",selectCategory:" ",submit:" "},PU={addSpecialItems:"  ",sectionTitlePlaceholder:"  ",saveTitle:" ",name:"",description:"",oldPrice:" ",price:"",uploadImage:" ",changeImage:" ",addItem:" ",confirmDeleteSection:"       ",confirmDeleteItem:"     ",fullDescription:" :"},AU={specialItemsTitle:"      ",description:"             .",contactBtn:"  "},RU={back:"",title:" ",filters:{all:"",pending:" ",confirmed:" ",rejected:""},table:{name:"",seats:" ",date:"",time:"",payment:"",status:"",actions:""},noBookings:"   .",confirmDelete:"       "},kU={title:" ",noCategories:"  .",count:"{{count}} ()",confirmDelete:'      "{{name}}"'},NU={title:" ",instruction:"   ",namePlaceholder:" ",phonePlaceholder:" ",addressPlaceholder:"",notesPlaceholder:"   ",errorMsg:"    .",proceedBtn:"  "},OU={title:"   ",instruction:"   ",label:"  :",placeholder:"  ",notesPlaceholder:"   ",errorMsg:"   .",proceedBtn:"  "},DU={title:"  ",cash:"  ",cancel:""},LU={noProduct:"   ",priceLabel:"",viewMore:"  ",viewLess:"  "},VU={features:"",pricing:"",clients:"",getStarted:" "},jU={title:"    ",subtitle:"         .",button:" "},MU={title1:"  ReVerse",description:"ReVerse           .                       .",title2:"     ",cards:[{title:"  ",description:"      ."},{title:"  ",description:"       ."},{title:" ",description:"      ."},{title:"  ",description:"     ."},{title:"  ",description:"   Firebase   ."},{title:"  ",description:"     ."},{title:"  ",description:"        ."},{title:"   24 ",description:"     ."}]},FU={title:"  ",month:"",startNow:" ",cta:` ReVerse   .
      !`,plans:{basic:{title:"",price:"$25",features:["  ","  ","  "]},pro:{title:"",price:"$50",features:["   3   ","   Stripe","   "]},vip:{title:"VIP ",price:"VIP",features:["    ","  ","   "]}}},UU={title:"",description:"      ReVerse    .",cta:" ",viewMore:" ",hide:" "},BU={title:"  ReVerse",description:"          .",features:{fast:{title:" ",desc:"         ."},pricing:{title:" ",desc:"      ."},ui:{title:" ",desc:"      ."},responsive:{title:" ",desc:"         ."},support:{title:" ",desc:"     ."}},cta:{title:"  ",description:"       24 . ReVerse    .",button:" "},copyright:"  ."},$U={adminO:cU,buttons:uU,placeholders:dU,privacy:hU,confirm:fU,errors:pU,messages:mU,reservation:gU,modal:yU,contact:vU,footer:_U,navbar:wU,sidemenu:EU,products:TU,orders:SU,admin:xU,cart:bU,addCategory:IU,addProduct:CU,special:PU,upgrade:AU,bookings:RU,categories:kU,delivery:NU,dinein:OU,payment:DU,productList:LU,navbarMe:VU,heroMe:jU,features:MU,pricing:FU,clients:UU,footerMe:BU};Cn.use(OC).use(QL).init({resources:{en:{translation:lU},ar:{translation:$U}},fallbackLng:"en",interpolation:{escapeValue:!1}});function zU(){const t=sr();return A.useEffect(()=>{const e=window.location.search.slice(1);e&&t("/"+e)},[]),null}WP.createRoot(document.getElementById("root")).render(v.jsx(uR,{children:v.jsx(v.Fragment,{children:v.jsxs(gb,{children:[v.jsx(zU,{})," ",v.jsx(G9,{}),v.jsx(au,{})]})})}));
